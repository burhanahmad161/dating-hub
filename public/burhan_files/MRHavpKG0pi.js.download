;/*FB_PKG_DELIM*/

__d("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6825449144230575"}),null);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometDefaultKeyCommands",["fbt","CometKeys","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";a=Object.freeze(babelHelpers["extends"]({global:{label:h._("__JHASH__vTbx5ula3Ub__JHASH__"),shortcuts:{search:{command:{key:c("CometKeys").SLASH},description:h._("__JHASH__65GAtmpimeL__JHASH__"),singleCharDescription:h._("__JHASH__HqO0KsGMlbJ__JHASH__")},toggleDarkMode:{command:{alt:!0,key:c("CometKeys").M},description:h._("__JHASH__DFgslFbdJR5__JHASH__"),isHiddenCommand:c("gkx")("11750")?void 0:!0},toggleNub:{command:{key:c("CometKeys").QUESTION,shift:!0},description:h._("__JHASH__w4u2XmGo_LN__JHASH__")},toggleNubFunctionKey:{command:{key:c("CometKeys").F1},description:h._("__JHASH__w4u2XmGo_LN__JHASH__")}}},groups:{label:h._("__JHASH__5ycXpLiowDK__JHASH__"),shortcuts:{groupSearch:{command:{command:!0,key:c("CometKeys").SLASH},description:h._("__JHASH__UwVHz4hi5qC__JHASH__"),order:6},newGroupEvent:{command:{key:c("CometKeys").E},description:h._("__JHASH__bXPAFcKoHVs__JHASH__"),order:1,singleCharDescription:h._("__JHASH__B9NoOgWqa7a__JHASH__")},viewNextPinnedGroup:{command:{alt:!0,key:c("CometKeys").DOWN},description:h._("__JHASH__ryvFG_XPxff__JHASH__"),order:5},viewNextVideo:{command:{alt:!0,key:c("CometKeys").RIGHT},description:h._("__JHASH__Co4R3_i3LJX__JHASH__"),order:3},viewPreviousPinnedGroup:{command:{alt:!0,key:c("CometKeys").UP},description:h._("__JHASH__ghiGJdiPxiO__JHASH__"),order:4},viewPreviousVideo:{command:{alt:!0,key:c("CometKeys").LEFT},description:h._("__JHASH___UWyiXo4b1A__JHASH__"),order:2}}},newsfeed:{label:h._("__JHASH__3bhd46OOtgQ__JHASH__"),shortcuts:{commentStory:{command:{key:c("CometKeys").C},description:h._("__JHASH__S60IOgnbCS6__JHASH__"),singleCharDescription:h._("__JHASH__8eG9xxpUBK___JHASH__")},likeStory:{command:{key:c("CometKeys").L},description:h._("__JHASH__DX2kjgJe1lw__JHASH__"),singleCharDescription:h._("__JHASH__qzjRCdVl8UB__JHASH__")},newPost:{command:{key:c("CometKeys").P},description:h._("__JHASH__gCb4Qn8jJYV__JHASH__"),singleCharDescription:h._("__JHASH__rWgYV326oik__JHASH__")},openAttachment:{command:{key:c("CometKeys").O},description:h._("__JHASH__PENXVObp6HH__JHASH__"),shouldStopPropagation:!1,singleCharDescription:h._("__JHASH__9ZqYYIUi2ux__JHASH__")},scrollNext:{command:{key:c("CometKeys").J},description:h._("__JHASH__WOloUQmdmos__JHASH__"),singleCharDescription:h._("__JHASH__pjB1urhcDtz__JHASH__")},scrollPrevious:{command:{key:c("CometKeys").K},description:h._("__JHASH__8Xw825Irnyt__JHASH__"),singleCharDescription:h._("__JHASH__X1clBpl2A59__JHASH__")},searchContacts:{command:{key:c("CometKeys").Q},description:h._("__JHASH__tNIUJ6lgcTQ__JHASH__"),singleCharDescription:h._("__JHASH__ZOEvffglsxE__JHASH__")},seeMore:{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__xSvc24O-mfg__JHASH__"),singleCharDescription:h._("__JHASH__2JfkN_FFXsH__JHASH__")},shareStory:{command:{key:c("CometKeys").S},description:h._("__JHASH__B_iW89OoYd8__JHASH__"),singleCharDescription:h._("__JHASH__Z6OsPJdfk0___JHASH__")}}},photoViewer:{label:h._("__JHASH__BXWDUC-L-Ri__JHASH__"),shortcuts:{fullscreen:{command:{key:c("CometKeys").F},description:h._("__JHASH__B9xS9GGbzeo__JHASH__"),singleCharDescription:h._("__JHASH__3gvTTPZFuR6__JHASH__")},like:{command:{key:c("CometKeys").L},description:h._("__JHASH__fPWFoO_4sHL__JHASH__"),singleCharDescription:h._("__JHASH__6boa--Dsc86__JHASH__")},viewNext:{command:{key:c("CometKeys").K},description:h._("__JHASH__Cwg8ChuUCza__JHASH__"),singleCharDescription:h._("__JHASH__D5hbXD4Qvlf__JHASH__")},viewPrevious:{command:{key:c("CometKeys").J},description:h._("__JHASH__5PUjENdCJD1__JHASH__"),singleCharDescription:h._("__JHASH__ap7P4LUMQ-g__JHASH__")}}},search:{label:h._("__JHASH__E00LcbSnfXh__JHASH__"),shortcuts:{scrollNextResult:{command:{key:c("CometKeys").J},description:h._("__JHASH__bmPeLBy-eKQ__JHASH__"),singleCharDescription:h._("__JHASH___N3WTKcqt3k__JHASH__")},scrollPreviousResult:{command:{key:c("CometKeys").K},description:h._("__JHASH__66y7Uf7htWH__JHASH__"),singleCharDescription:h._("__JHASH__G1e3rdFAKxh__JHASH__")}}}},c("gkx")("11751")&&{chats:{label:h._("__JHASH__er63PmpxxU9__JHASH__"),shortcuts:{forwardMessage:{command:{key:c("CometKeys").F},description:h._("__JHASH__BoPi-Cj1ZgB__JHASH__"),order:3,singleCharDescription:h._("__JHASH__sAzlvATWOJK__JHASH__")},jumpToChatList:{command:{alt:!0,key:c("CometKeys").C},description:h._("__JHASH__yEELQaU6ZJv__JHASH__"),order:6,singleCharDescription:h._("__JHASH__ruOmPk73z78__JHASH__"),triggerFromInputs:!0},likeMessage:{command:{key:c("CometKeys").L},description:h._("__JHASH__92Cxpl6anqS__JHASH__"),order:1,singleCharDescription:h._("__JHASH__9GZYcHNSXWM__JHASH__")},removeMessage:{command:{key:c("CometKeys").X},description:h._("__JHASH__r-tRfkmegvn__JHASH__"),order:4,singleCharDescription:h._("__JHASH__rCo38Z3GsLf__JHASH__")},replyToMessage:{command:{key:c("CometKeys").R},description:h._("__JHASH__2livKuCsmS6__JHASH__"),order:2,singleCharDescription:h._("__JHASH__HlXWG9dX1DN__JHASH__")},writeMessageToCurrentChat:{command:{alt:!0,key:c("CometKeys").W},description:h._("__JHASH__260-EYyZSfn__JHASH__"),order:5,singleCharDescription:h._("__JHASH__98yCRWkkRKQ__JHASH__"),triggerFromInputs:!0}}}}));b=a;a;g["default"]=b}),98);
__d("cometGetKeyCommandConfig",["fbt","cr:2011405","cr:2011406","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i={command:null,description:h._("__JHASH__b304p5m3LLr__JHASH__"),handler:function(){return void 0},isHiddenCommand:!0};function j(a,b,d,e,f){if(e==null){c("recoverableViolation")(f,"comet_ax");return i}if(!Object.prototype.hasOwnProperty.call(e,a)||!Object.prototype.hasOwnProperty.call(e[a].shortcuts,b)){c("recoverableViolation")("Missing default key command config for "+a+" and "+b,"comet_ax");return i}f=e[a].shortcuts[b];e=f.command;var g=f.description;return e!=null&&g!=null?{command:e,commandID:b,description:g,groupID:a,handler:d,isHiddenCommand:f.isHiddenCommand,singleCharDescription:f.singleCharDescription,triggerFromInputs:f.triggerFromInputs}:i}function a(a,c,d){return j(a,c,d,b("cr:2011405"),"getCometKeyCommandConfig should only be used in Comet")}function d(a,d,e){var f=c("gkx")("8592")?b("cr:2011406"):b("cr:2011405");return j(a,d,e,f,"Reached unreachable code")}g.getKeyCommandConfig=j;g.getCometKeyCommandConfig=a;g.getCometAndGeminiKeyCommandConfig=d}),98);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","ShouldShowMessagingEntrypoint","react","useShouldRenderFullTopNav"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext;function a(a){var b=c("useShouldRenderFullTopNav")(),d=j(c("CometPassiveGetRouterStateContext"));return i(function(){var e=d==null?void 0:d(),f=e==null?void 0:e.main;e=e==null?void 0:e.pushViewStack;e=e&&e.length>0?e[e.length-1]:f;return c("ShouldShowMessagingEntrypoint")(e==null?void 0:e.route,a,b)},[a,d,b])}g["default"]=a}),98);
__d("CometImageCover.react",["BaseImage_DEPRECATED.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;e.useCallback;var j=e.useRef,k=e.useState,l=e.unstable_useMemoCache;f=function(){var a=document.documentElement;return a==null?!0:Boolean("objectFit"in a.style)}();function a(a){var b=l(22),d;if(b[0]!==a){a.alt;var e=a.loading,f=a.onError,g=a.onLoad,h=a.src,m=a.style,n=babelHelpers.objectWithoutPropertiesLoose(a,["alt","loading","onError","onLoad","src","style"]);e=e;f=f;d=g;g=h;h=m;m=n;b[0]=a;b[1]=d;b[2]=h;b[3]=e;b[4]=m;b[5]=f;b[6]=g}else d=b[1],h=b[2],e=b[3],m=b[4],f=b[5],g=b[6];n=k(null);a=n[0];var o=n[1],p=j();b[7]!==d?(n=function(){var a=p.current;if(a==null||!(a instanceof HTMLImageElement)||typeof a.src!=="string")return;o(a.src);d!=null&&d()},b[7]=d,b[8]=n):n=b[8];n=n;if(a!=null){var q;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(q="x1rg5ohu x5yr21d xl1xv1r xh8yej3",b[9]=q):q=b[9];a="url("+a+")";var r=h;b[10]!==a||b[11]!==r?(q=i.jsx("div",{className:q,style:babelHelpers["extends"]({backgroundImage:a,backgroundPosition:"center center",backgroundSize:"cover"},r)}),b[10]=a,b[11]=r,b[12]=q):q=b[12];return q}b[13]===Symbol["for"]("react.memo_cache_sentinel")?(a="xqtp20y xnalus7",b[13]=a):a=b[13];r=e||void 0;b[14]!==m||b[15]!==r||b[16]!==f||b[17]!==n||b[18]!==p||b[19]!==g||b[20]!==h?(q=i.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({},m,{className:a,loading:r,onError:f,onLoad:n,ref:p,src:g,style:h})),b[14]=m,b[15]=r,b[16]=f,b[17]=n,b[18]=p,b[19]=g,b[20]=h,b[21]=q):q=b[21];return q}function b(a){var b=l(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x1rg5ohu x5yr21d xl1xv1r xh8yej3",b[0]=d):d=b[0];b[1]!==a?(d=i.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({className:d},a)),b[1]=a,b[2]=d):d=b[2];return d}d=f?b:a;g["default"]=d}),98);
__d("useFileDragEvents",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a,b,c){b===void 0&&(b=document.documentElement);var d=k(0),e=l(!1),f=e[0],g=e[1],h=i(function(b){g(!1);if((c==null||c(b))&&a!=null){b.preventDefault();var e=b.dataTransfer;if(e!=null){e=e.files;a(e,b)!==!1&&b.stopPropagation()}else b.stopPropagation();d.current=0}},[a,c]),m=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;(c==null||c(a))&&b!=null&&(a.preventDefault(),d.current++,g(!0))},[c]),n=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;(c==null||c(a))&&b!=null&&--d.current===0&&g(!1)},[c]),o=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;b!=null&&a.preventDefault()},[]);j(function(){if(b!=null){b.addEventListener("drop",h,!0);b.addEventListener("dragenter",m,!0);b.addEventListener("dragleave",n,!0);b.addEventListener("dragover",o,!0);return function(){b.removeEventListener("drop",h,!0),b.removeEventListener("dragenter",m,!0),b.removeEventListener("dragleave",n,!0),b.removeEventListener("dragover",o,!0)}}},[m,n,o,h,b]);return f}g["default"]=a}),98);
__d("CometHideableComponent.react",["BaseView.react","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","unrecoverableViolation","useIntersectionObserver","useMergeRefs","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState,n=b.unstable_useMemoCache,o=function(){var a=null;return function(){if(a===null){var b;b=(b=document)==null?void 0:b.documentElement;if(b==null)throw c("unrecoverableViolation")("Scroll anchoring feature detection called in an environment without a documentElement","comet_infra");a=b.style.overflowAnchor!=null}return a}}();function p(){var a=n(5),b=m(null),c=b[0],d=b[1],e;a[0]!==c?(b=function(){c===null&&d(function(){return o()})},e=[c],a[0]=c,a[1]=b,a[2]=e):(b=a[1],e=a[2]);k(b,e);if(a[3]!==c){e=(b=c)!=null?b:!1;a[3]=c;a[4]=e}else e=a[4];return e}var q={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},r={bottom:4e3,top:4e3},s=c("justknobx")._("1003");function a(a){var b=arguments,d,e=n(35),f=a.children,g=a.disableHidding,h=a.pinChildrenOnInteraction,o=a.unmountHiddenChildren,t=l(null),u=l(null),v=j(c("HiddenSubtreePassiveContext")),w=m(!1),aa=w[0],ba=w[1],x=m(!0),y=x[0],z=x[1],A=m(null),B=A[0],C=A[1],D=c("usePrevious")(y),E;e[0]!==B||e[1]!==y?(E=function(){var a=function(){return B==null&&!y}();u.current!=null&&a&&C(u.current.getBoundingClientRect().height)},e[0]=B,e[1]=y,e[2]=E):E=e[2];var F;e[3]!==y||e[4]!==B||e[5]!==D?(F=[y,B,D],e[3]=y,e[4]=B,e[5]=D,e[6]=F):F=e[6];k(E,F);var G;e[7]!==v?(G=function(a){c("nullIntersectionObserverEntryLogger")(a,"IntersectionObserverEntry is null. num_arguments="+b.length);var d=v.getCurrentState().hiddenOrBackgrounded_FIXME;c("intersectionObserverEntryIsIntersecting")(a)?(C(null),z(!0)):d||z(!1)},e[7]=v,e[8]=G):G=e[8];var ca=G,H;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(H={root:null,rootMargin:r,threshold:0},e[9]=H):H=e[9];var da=c("useIntersectionObserver")(ca,H),I=c("useMergeRefs")(da,t),J;bb71:{if(!y&&B!==null){var K;e[10]!==B?(K={height:B},e[10]=B,e[11]=K):K=e[11];J=K;break bb71}J=void 0}var L=J,M=!y&&B!==null,N=p(),O;e[12]!==N||e[13]!==I?(O=N?I:void 0,e[12]=N,e[13]=I,e[14]=O):O=e[14];var P=O;if(c("gkx")("11869")){var Q;e[15]===Symbol["for"]("react.memo_cache_sentinel")?(Q="x78zum5 xdt5ytf",e[15]=Q):Q=e[15];var R;e[16]!==f?(R=i.jsx("div",{className:Q,children:i.jsx(c("BaseView.react"),{children:f})}),e[16]=f,e[17]=R):R=e[17];return R}var S;e[18]!==h?(S=function(){h===!0&&ba(!0)},e[18]=h,e[19]=S):S=e[19];var T=S,U=s&&o===!0&&M&&!aa,V=!((d=g)!=null?d:!1)&&M,W;e[20]===Symbol["for"]("react.memo_cache_sentinel")?(W="x78zum5 xdt5ytf",e[20]=W):W=e[20];var X=V&&q.invisible,Y;e[21]!==U||e[22]!==V||e[23]!==f?(Y=U?null:i.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:V,children:f}),e[21]=U,e[22]=V,e[23]=f,e[24]=Y):Y=e[24];var Z;e[25]!==V||e[26]!==u||e[27]!==X||e[28]!==Y?(Z=i.jsx(c("BaseView.react"),{hidden:V,ref:u,xstyle:X,children:Y}),e[25]=V,e[26]=u,e[27]=X,e[28]=Y,e[29]=Z):Z=e[29];var $;e[30]!==T||e[31]!==P||e[32]!==L||e[33]!==Z?($=i.jsx("div",{className:W,"data-testid":void 0,onClickCapture:T,onFocusCapture:T,onKeyPressCapture:T,ref:P,style:L,children:Z}),e[30]=T,e[31]=P,e[32]=L,e[33]=Z,e[34]=$):$=e[34];return $}e=a;g["default"]=e}),98);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";a=d("Lexical").createCommand();g.COMET_LEXICAL_ARIA_COMMAND=a}),98);
__d("mlcEditableSubscription",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{initialValueFn:function(){return a.isEditable()},subscribe:function(b){return a.registerEditableListener(b)}}}f["default"]=a}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useLayoutEffect,k=b.useState;function a(a){var b=(h||(h=c("useUnsafeRef_DEPRECATED")))(a.initialValueFn()),d=k(b.current),e=d[0],f=d[1];j(function(){var c=a.initialValueFn,d=a.subscribe;c=c();b.current!==c&&(b.current=c,f(c));return d(function(a){b.current=a,f(a)})},[a]);return e}g["default"]=a}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","mlcEditableSubscription","react","stylex","useCometLexicalSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useLayoutEffect,m=b.useMemo,n=b.useState,o={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function a(a){var b=a.ariaAutoComplete,e=a.ariaDescribedBy,f=a.ariaExpanded,g=a.ariaLabel,i=a.ariaLabelledBy,p=a.ariaMultiline,q=a.ariaOwneeID,r=a.ariaRequired,s=a.autoCapitalize,t=a.autoComplete,u=a.autoCorrect,v=a.contentEditableRef,w=a.editor,x=a.isInitiallyFocused,y=x===void 0?!1:x;x=a.role;x=x===void 0?"textbox":x;var z=a.spellCheck;z=z===void 0?!1:z;var A=a.tabIndex,B=a.webDriverTestID;B=a.xstyle;a=n(void 0);var C=a[0],D=a[1];a=n(void 0);var E=a[0],F=a[1];a=c("useCometLexicalSubscription")(m(function(){return c("mlcEditableSubscription")(w)},[w]));l(function(){return w.registerCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(a){Object.prototype.hasOwnProperty.call(a,"activeDescendantID")&&D(a.activeDescendantID);Object.prototype.hasOwnProperty.call(a,"controlsID")&&F(a.controlsID);return!1},d("Lexical").COMMAND_PRIORITY_EDITOR)},[w]);k(function(){y&&w.focus(function(){var a=document.activeElement,b=w.getRootElement();(!(b==null?void 0:b.contains(a))||b!=null||a==null)&&(b==null?void 0:b.focus({preventScroll:!0}))})},[w,y]);return j.jsx("div",{"aria-activedescendant":a?C:null,"aria-autocomplete":a?b:null,"aria-controls":a?E:null,"aria-describedby":e,"aria-expanded":a?x==="combobox"?!!f:null:null,"aria-label":g,"aria-labelledby":i,"aria-multiline":p,"aria-owns":a?q:null,"aria-required":r,autoCapitalize:s,autoComplete:t,autoCorrect:u,className:(h||(h=c("stylex")))(o.editor,B)+" "+(a?"notranslate":""),contentEditable:a,"data-testid":void 0,ref:v,role:a?x:null,spellCheck:z,suppressContentEditableWarning:!0,tabIndex:A})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometLexicalBaseTheme",[],(function(a,b,c,d,e,f,g){"use strict";a={ltr:"xdpxx8g",rtl:"x1hr2gdg"};b=a;g["default"]=b}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","ix","MWChatComposerMentionsUtils","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=h._("__JHASH__5zKX9L3wCmC__JHASH__").toString(),k={decorType:"regular",handle:j,key:"0",label:j,rawData:{image:i("391426"),subtitle:void 0},type:"entry"};function a(a,b,e,f,g,i,l){var m=a.query,n=[];g===!0&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(j,m)&&n.push(k);if(g===!0?i:!0){b.forEach(function(a){var b=a.actualName,c=a.contactId,e=a.nickname,f=a.profilePictureUrl;a=a.secondaryName;var g=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,m)?g="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)?g="name":e!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,m)&&(g="nickname");if(g!=null&&f!=null){var h;n.push({decorType:"regular",handle:(h=a)!=null?h:g==="nickname"?(h=e)!=null?h:b:b,key:c+" "+g,label:b,rawData:{photoURI:f,source:g,subtitle:(h=a)!=null?h:e},type:"entry"})}});if(c("gkx")("12638")){g=h._("__JHASH__sTLNkkV9rF7__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(g,m)){i=h._("__JHASH__rLeo5-LqefI__JHASH__").toString();n.push({decorType:"regular",handle:g,key:""+e,label:g,rawData:{source:"all",subtitle:i},type:"entry"})}b=h._("__JHASH__qb09B47tS-j__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)){g=h._("__JHASH__Y9cD1qBx4DO__JHASH__").toString();n.push({decorType:"regular",handle:b,key:e+"-active",label:b,rawData:{source:"all",subtitle:g},type:"entry"})}}}n.length>l&&(n=n.slice(0,l));n.length<l&&f&&f(m,l-n.length);return{entries:n,params:a}}var l=(e={},e[j]="ai",e);function b(a){a=l[a];return a==null?"p":a}g.aiBotMentionsEntry=k;g.fetchCacheComposerMentionsTypeahead=a;g.commandToRangeType=b}),98);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MWChatComposerTypeaheadUtil","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");a=a.replace(" secondaryName","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:this.__text.slice(1),type:"actor"})};function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,""+e+a,c)||this;a.__contactID=h(d);a.__prefix=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};c.getRangeType=function(){return d("MWChatComposerTypeaheadUtil").commandToRangeType(this.__text.slice(1))};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a,b){b===void 0&&(b="segmented");return new i(a).setMode(b).toggleDirectionless()}function a(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("CometLexicalPlaceholder.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={placeholder:{color:"xi81zsa",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",left:null,right:null,textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children;a=a.xstyle;return j.jsx("div",{children:b,className:(h||(h=c("stylex")))(k.placeholder,a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=c("UserAgent").isPlatform("Mac OS X");b=String.fromCodePoint(h?8984:8963);function a(a){return a!==null&&(h?a.metaKey:a.ctrlKey)}g.COMMAND_UNICODE=b;g.hasCommandModifier=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){i(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(!c("gkx")("12204")||d("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("CometMetricsNavigationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1956659");b=d("FalcoLoggerInternal").create("comet_metrics_navigation",a);e=b;g["default"]=e}),98);
__d("useCometFeedNoRoutingNavigationEventsLoggerImpl",["CometMetricsNavigationFalcoEvent","JSScheduler","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,b,e){var f=j(function(d,f,g){if(b==null||b==="")return;var h=c("uuidv4")();c("CometMetricsNavigationFalcoEvent").logImmediately(function(){return{dest_module:g,event_trace_id:h,extra_fields:e,href:f,tn:a.join(""),ts:d.toString(),xt:b}})},[a,b,e]);return j(function(a,b,c){(i||(i=d("JSScheduler"))).scheduleLoggingPriCallback(function(){return f(a,b,c)})},[f])}g["default"]=a}),98);
__d("useCometFeedNoRoutingNavigationEventLogger",["CometFeedLoggingExtraFieldsContext","CometTrackingCodeContext","CometTrackingNodesContext","react","useCometFeedNoRoutingNavigationEventsLoggerImpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){var b=i(c("CometTrackingNodesContext")),d=i(c("CometTrackingCodeContext"));d=d.encrypted_tracking[0];var e=i(c("CometFeedLoggingExtraFieldsContext"));return c("useCometFeedNoRoutingNavigationEventsLoggerImpl")((a=a)!=null?a:b,d,e)}g["default"]=a}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo;function a(a,b,e){var f=b!=null?b:!1;i(function(){if(!f)return;var b=d("Run").onUnload(function(){return a(!1)});return function(){return b.remove()}},[f,a]);return j(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return a(!1)},e|0),f=c("CometThrottle")(function(){return a(!0)},3e3,{leading:!0,trailing:!1}),g=function(){a(!1),b.contents=!0},h=function(){f();return d()};return[h,g]},[a,e])}g.useLatch=a}),98);
__d("useMWXLexicalHasText",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function m(a){return a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing()))}function n(a){var b=l(function(){return!m(a)}),c=b[0],d=b[1];j(function(){return a.registerUpdateListener(function(){d(!m(a))})},[a]);return c}function a(a){var b=a.editor;a=a.initialValue;var c=k(a);return{useHasText:i(function(){var a,d=k((a=c.current)!=null?a:!1);j(function(){d.current=!1},[]);return n(b)||d.current},[b])}}g.useMWXLexicalHasText=a}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=a.editor;a=a.onTypingStateChanged;a=d("MWXUseLatch").useLatch(a,!0,5e3);var c=a[0],e=a[1],f=j("");i(function(){var a=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return e();else return c()}};return b.registerUpdateListener(a)},[c,e,b]);return{}}g["default"]=a}),98);
__d("MAWEphemeralConsts",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";a=300;b=600;c=900;e=1800;d=Math.imul((f=d("WATimeUtils")).HOUR_SECONDS,6);var h=Math.imul(f.HOUR_SECONDS,12),i=Math.imul(f.DAY_SECONDS,14),j=1e3,k=5,l=10,m=30,n=60,o=d;g.fiveMinutesInSeconds=a;g.tenMinutesInSeconds=b;g.fifteenMinutesInSeconds=c;g.thirtyMinutesInSeconds=e;g.oneHourInSeconds=f.HOUR_SECONDS;g.sixHoursInSeconds=d;g.twelveHoursInSeconds=h;g.oneDayInSeconds=f.DAY_SECONDS;g.ephemeralMaxDelectionWindowForUnseenMessage=i;g.msPerSec=j;g.fiveSeconds=k;g.tenSeconds=l;g.thirtySeconds=m;g.oneMinuteInSeconds=n;g.ephemeralReportingWindowInSeconds=o}),98);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={aspectRatioWrapper:{height:"xqtp20y",marginStart:"x12mruv9",marginLeft:null,marginRight:null,marginTop:"xr9ek0c",paddingBottom:"x1vrad04",position:"x1n2onr6",$$css:!0},grid:{display:"x78zum5",flexWrap:"x1a02dak",marginStart:"x8182xy",marginLeft:null,marginRight:null,marginTop:"x1kgmq87",$$css:!0},gridImage:{bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,height:"x5yr21d",objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},gridItem:{flexBasis:"x1yu6fn4",$$css:!0}};function a(a){var b=i(6);a=a.urls;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x78zum5 x1a02dak x8182xy x1kgmq87",b[0]=d):d=b[0];if(b[1]!==a){var e;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return j.jsx("li",{className:"x1yu6fn4",children:j.jsx("div",{className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6",children:j.jsx(c("BaseImage.react"),{src:a,xstyle:k.gridImage})})},a)},b[3]=e):e=b[3];e=a.map(e);b[1]=a;b[2]=e}else e=b[2];b[4]!==e?(a=j.jsx("ul",{className:d,children:e}),b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.unstable_useMemoCache,k=function(a){a=a.previewUrl;return a};function a(a){var b=j(5);a=a.attachmentItems;var d;b[0]!==a?(d=a.map(k).filter(Boolean),b[0]=a,b[1]=d):d=b[1];a=d;d=a;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a="x193iq5w xgqtt45 xdzyupr",b[2]=a):a=b[2];b[3]!==d?(a=i.jsx("div",{className:a,children:i.jsx(c("MWPResponsiveImageGrid.react"),{urls:d})}),b[3]=d,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("issueIGDReceiverFetchTask",["LSFactory","LSIgdXMADispatchSingleItemReceiverFetchBase","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,d,e,f){return e==null?(h||(h=b("Promise"))).resolve():a.runInTransaction(function(a){return c("LSIgdXMADispatchSingleItemReceiverFetchBase")(d,e,"","",f,c("LSFactory")(a))},"readwrite")}function a(a,b,c){return i(a,b,c,!0)}function d(a,b,c){return i(a,b,c,!1)}g.issueIGDReceiverFetchTaskDeidentified=a;g.issueIGDReceiverFetchTaskIdentified=d}),98);
__d("MWBaseTheme",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={dark:b,light:a,type:"VARIABLES"};f.empty=c}),66);
__d("MWCombineThemeConfigs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("MWMessageTableFocusTable.react",["fbt","CometKeys","FocusTable.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");var j="messages_table";a=function(a,b,c){return c.getAttribute("data-scope")===j};b=d("FocusTable.react").createFocusTable(a);e={key:c("CometKeys").UP};f={key:c("CometKeys").DOWN};d={key:c("CometKeys").LEFT};var k={key:c("CometKeys").RIGHT};e=[{command:e,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")},{command:f,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:d,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:k,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")}];g.scopeID=j;g.scopeQuery=a;g.FocusTable=b;g.commandConfigs=e}),98);
__d("MWMessageCellFocusTable.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","MWMessageTableFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;b=d("FocusTable.react").createFocusTable(d("focusScopeQueries").tabbableScopeQuery);var l={key:c("CometKeys").ESCAPE},m={key:c("CometKeys").ENTER},n={key:c("CometKeys").SPACE},o=h._("__JHASH__dr5LK8JTLfs__JHASH__"),p=h._("__JHASH__NgBmedKphX2__JHASH__");function a(a){var b=j(9),e=a.children,f=a.onEnter,g=a.onEscape;a=a.onSpace;var h;if(b[0]!==g||b[1]!==f||b[2]!==a){var i=[];g!=null&&i.push({command:l,description:o,handler:g});f!=null&&i.push({command:m,description:p,handler:f});a!=null&&i.push({command:n,description:p,handler:a});h=c("CometComponentWithKeyCommands.react");i=d("MWMessageTableFocusTable.react").commandConfigs.concat(i);b[0]=g;b[1]=f;b[2]=a;b[3]=h;b[4]=i}else h=b[3],i=b[4];b[5]!==h||b[6]!==i||b[7]!==e?(g=k.jsx(h,{commandConfigs:i,xstyle:!1,children:e}),b[5]=h,b[6]=i,b[7]=e,b[8]=g):g=b[8];return g}e=a;g.FocusTable=b;g.keyCommands=e}),98);
__d("getMAWLinkEntityRenderer.react",["MWMessageCellFocusTable.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.encryptedLink,e=a.target,f=a.testid,g=a.xstyle;return function(a,f){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",{role:"gridcell",children:i.jsx(c("MWXLink.react"),{encryptedLink:b,href:f.uri,target:e,testid:void 0,xstyle:g,children:a})})})}}g["default"]=a}),98);
__d("MDSSvgIcon.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(7),d=a.children,e=a.color,f=a.dataTestId,g=a.inline,h=a.size;a=a.viewBox;g=g===void 0?!1:g;h=h===void 0?24:h;a=a===void 0?"0 0 36 36":a;var k;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==a||b[5]!==d?(k=j.jsx(c("CometSVGIcon.react"),{color:e,"data-testid":void 0,inline:g,size:h,viewBox:a,children:d}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=a,b[5]=d,b[6]=k):k=b[6];return k}g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(4),d,e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),e=j.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"}),b[0]=d,b[1]=e):(d=b[0],e=b[1]);b[2]!==a?(d=j.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[d,e]})),b[2]=a,b[3]=d):d=b[3];return d}g["default"]=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(){var a=i(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",{className:b,children:j.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})}),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("MWChatFilePreview.react",["CometImageCover.react","MWChatFileIconV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={icon:{paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,$$css:!0},imageCover:{maxHeight:"x138jeol",objectPosition:"x8ozjh4",$$css:!0}};function a(a){var b=i(7),d=a.attachment,e=a.fileName;a=a.withPreview;if(b[0]!==d){var f;f=(f=d)!=null?f:{};b[0]=d;b[1]=f}else f=b[1];d=f;f=d.previewUrl;if(f==null||!a){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(d="x1ye3gou",b[2]=d):d=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("div",{className:d,children:j.jsx(c("MWChatFileIconV2.react"),{})}),b[3]=a):a=b[3];return a}a=(d=e)!=null?d:"";b[4]!==a||b[5]!==f?(e=j.jsx(c("CometImageCover.react"),{alt:a,src:f,style:k.imageCover}),b[4]=a,b[5]=f,b[6]=e):e=b[6];return e}g["default"]=a}),98);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(7),d=a.children,e=a.onPress,f=a.url;a=a.xstyle;var g;b[0]!==f?(g=f!=null?{download:!0,target:"_blank",url:f}:void 0,b[0]=f,b[1]=g):g=b[1];b[2]!==d||b[3]!==g||b[4]!==e||b[5]!==a?(f=j.jsx(c("MWXPressable.react"),{children:d,display:"inline",linkProps:g,onPress:e,overlayDisabled:!0,xstyle:a}),b[2]=d,b[3]=g,b[4]=e,b[5]=a,b[6]=f):f=b[6];return f}g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","LSIntEnum","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return(h||(h=d("I64"))).to_string(b())}var j=c("gkx")("12622");function k(a,b){if(j){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?(h||(h=d("I64"))).to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:(h||(h=d("I64"))).to_string(b.thread.threadKey),thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.thread.threadType)}})}}function e(a){return k("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("useMWFileOnPress",["MWFileViewerLogger","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.unstable_useMemoCache;function a(a,e,f,g,i){var k=j(7),l=(h||(h=c("useReStore")))(),m;k[0]!==f||k[1]!==l||k[2]!==a||k[3]!==e||k[4]!==g||k[5]!==i?(m=function(h){f==null?void 0:f(h),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,c=(yield (b=d("ReQL")).firstAsync(b.fromTableAscending(l.table("threads")).getKeyRange(a.threadId)));b=(yield b.firstAsync(b.fromTableAscending(l.table("attachments")).getKeyRange(a.threadId,a.messageId)));if(c){b={attachment:b,attachmentID:e,entryPoint:g,messageID:a,sessionId:i,thread:c};d("MWFileViewerLogger").logFileViewerDirectDownload(b)}})())},k[0]=f,k[1]=l,k[2]=a,k[3]=e,k[4]=g,k[5]=i,k[6]=m):m=k[6];return m}g["default"]=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFileViewerLogger","goUriOnNewWindow","react","useMWFileOnPress"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(13),c=a.attachmentID,e=a.children,f=a.entryPoint,g=a.messageID,h=a.onPress,l=a.url;a=a.xstyle;if(g!=null&&g.type==="sent"&&c!=null&&l!=null){var m;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==h||b[4]!==g.value||b[5]!==l||b[6]!==a?(m=j.jsx(k,{attachmentID:c,children:e,entryPoint:f,onPress:h,sentMessage:g.value,url:l,xstyle:a}),b[0]=c,b[1]=e,b[2]=f,b[3]=h,b[4]=g.value,b[5]=l,b[6]=a,b[7]=m):m=b[7];return m}b[8]!==e||b[9]!==h||b[10]!==l||b[11]!==a?(c=j.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:e,onPress:h,url:l,xstyle:a}),b[8]=e,b[9]=h,b[10]=l,b[11]=a,b[12]=c):c=b[12];return c}function k(a){var b=i(12),e=a.attachmentID,f=a.children,g=a.entryPoint,h=a.onPress,k=a.sentMessage,l=a.url;a=a.xstyle;var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=d("MWFileViewerLogger").generateSessionId(),b[0]=m):m=b[0];m=m;k=c("useMWFileOnPress")(k,e,h,g,m);b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){return null},b[1]=e):e=b[1];b[2]!==l?(h=function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(l);a!=null&&c("goUriOnNewWindow")(a)},b[2]=l,b[3]=h):h=b[3];b[4]!==f||b[5]!==k||b[6]!==l||b[7]!==a?(g=j.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:f,onPress:k,url:l,xstyle:a}),b[4]=f,b[5]=k,b[6]=l,b[7]=a,b[8]=g):g=b[8];b[9]!==h||b[10]!==g?(m=j.jsx(c("CometErrorBoundary.react"),{fallback:e,onError:h,children:g}),b[9]=h,b[10]=g,b[11]=m):m=b[11];return m}g["default"]=a}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(a,b,c,d,e,f,g){"use strict";g.MWChatComposerIconsGif=(a=b("cr:2809")).Gif;g.MWChatComposerIconsSticker=a.Sticker;g.MWChatComposerIconsPhoto=a.Photo;g.MWChatComposerIconsMoreActions=a.MoreActions;g.MWChatComposerIconsEmoji=a.Emoji}),98);
__d("MWChatFocusComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({focusComposer:void 0,setFocusComposer:function(){}});function a(a){a=a.children;var b=l(),c=b.current,d=k(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return i.jsx(m.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWChatFocusComposerContextProvider=a;g.useMWChatFocusComposer=b}),98);
__d("TetraMWChatComposerIcons.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={fillGrey:{fill:"xsrhx6k",$$css:!0},icon:{display:"x1lliihq",$$css:!0},moreActionsIcon:{transitionDuration:"x1k90msu",transitionProperty:"x11xpdln",transitionTimingFunction:"x1qfuztq",$$css:!0},notRotated:{transform:"x7p49u4",$$css:!0},rotated:{transform:"x1158fpu",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};function a(a){var b=j(9),d=a.fill,e=a.size;a=a.xstyle;a=a===void 0?!1:a;var f;b[0]!==a?(f=(h||(h=c("stylex")))(l.icon,l.fillGrey,a),b[0]=a,b[1]=f):f=b[1];a=String(e)+"px";e=String(e)+"px";var g;b[2]!==d?(g=k.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:d,fillRule:"nonzero"}),b[2]=d,b[3]=g):g=b[3];b[4]!==f||b[5]!==a||b[6]!==e||b[7]!==g?(d=k.jsx("svg",{className:f,height:a,viewBox:"0 0 16 16",width:e,x:"0px",y:"0px",children:g}),b[4]=f,b[5]=a,b[6]=e,b[7]=g,b[8]=d):d=b[8];return d}function b(a){var b=j(12),d=a.fill,e=a.size;a=a.xstyle;a=a===void 0?null:a;var f;b[0]!==a?(f=(h||(h=c("stylex")))(l.icon,l.fillGrey,a),b[0]=a,b[1]=f):f=b[1];a=String(e)+"px";e=String(e)+"px";var g,i,m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),i=k.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),m=k.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),b[2]=g,b[3]=i,b[4]=m):(g=b[2],i=b[3],m=b[4]);b[5]!==d?(g=k.jsxs("g",{fillRule:"evenodd",children:[g,i,m,k.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:d}),k.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:d,fillRule:"nonzero"})]}),b[5]=d,b[6]=g):g=b[6];b[7]!==f||b[8]!==a||b[9]!==e||b[10]!==g?(i=k.jsx("svg",{className:f,height:a,viewBox:"0 0 17 16",width:e,x:"0px",y:"0px",children:g}),b[7]=f,b[8]=a,b[9]=e,b[10]=g,b[11]=i):i=b[11];return i}function e(a){var b=j(24),d=a.fill,e=a.size;a=a.xstyle;a=a===void 0?!1:a;var f;b[0]!==d?(f=d==null?"xsrhx6k":void 0,b[0]=d,b[1]=f):f=b[1];f=f;var g;b[2]!==d?(g=d==null?"x1dmfqyo":void 0,b[2]=d,b[3]=g):g=b[3];g=g;var i;b[4]!==a?(i=(h||(h=c("stylex")))(l.icon,a),b[4]=a,b[5]=i):i=b[5];a=String(e)+"px";e=String(e)+"px";var m,n,o;b[6]!==f||b[7]!==d?(m=k.jsx("path",{className:f,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:d}),n=k.jsx("circle",{className:f,cx:"8.5",cy:"4.5",fill:d,r:"1.5"}),o=k.jsx("path",{className:f,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:d}),b[6]=f,b[7]=d,b[8]=m,b[9]=n,b[10]=o):(m=b[8],n=b[9],o=b[10]);b[11]!==g||b[12]!==d?(f=k.jsx("path",{className:g,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:d,strokeLinecap:"round",strokeLinejoin:"round"}),b[11]=g,b[12]=d,b[13]=f):f=b[13];b[14]!==m||b[15]!==n||b[16]!==o||b[17]!==f?(g=k.jsxs("g",{fill:"none",fillRule:"evenodd",children:[m,n,o,f]}),b[14]=m,b[15]=n,b[16]=o,b[17]=f,b[18]=g):g=b[18];b[19]!==i||b[20]!==a||b[21]!==e||b[22]!==g?(d=k.jsx("svg",{className:i,height:a,viewBox:"0 -1 17 17",width:e,children:g}),b[19]=i,b[20]=a,b[21]=e,b[22]=g,b[23]=d):d=b[23];return d}function f(a){var b=j(10),d=a.fill,e=a.isRotated;a=a.size;e=e===void 0?!1:e;e=e?l.rotated:l.notRotated;var f;b[0]!==e?(f=(h||(h=c("stylex")))(l.icon,l.moreActionsIcon,l.fillGrey,e),b[0]=e,b[1]=f):f=b[1];e=String(a)+"px";a=String(a)+"px";var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),b[2]=g):g=b[2];b[3]!==d?(g=k.jsxs("g",{fillRule:"evenodd",children:[g,k.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:d})]}),b[3]=d,b[4]=g):g=b[4];b[5]!==f||b[6]!==e||b[7]!==a||b[8]!==g?(d=k.jsx("svg",{className:f,height:e,viewBox:"0 0 24 24",width:a,children:g}),b[5]=f,b[6]=e,b[7]=a,b[8]=g,b[9]=d):d=b[9];return d}function m(a){var b=j(12),d=a.fill,e=a.size;a=a.xstyle;a=a===void 0?!1:a;var f;b[0]!==d?(f=d==null?"xsrhx6k":void 0,b[0]=d,b[1]=f):f=b[1];f=f;var g;b[2]!==a?(g=(h||(h=c("stylex")))(l.icon,a),b[2]=a,b[3]=g):g=b[3];a=String(e)+"px";e=String(e)+"px";var i;b[4]!==f||b[5]!==d?(i=k.jsx("g",{fill:"none",fillRule:"evenodd",children:k.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:k.jsx("g",{transform:"translate(709.000000, 314.000000)",children:k.jsx("g",{children:k.jsx("path",{className:f,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:d})})})})}),b[4]=f,b[5]=d,b[6]=i):i=b[6];b[7]!==g||b[8]!==a||b[9]!==e||b[10]!==i?(f=k.jsx("svg",{className:g,height:a,viewBox:"0 0 38 38",width:e,children:i}),b[7]=g,b[8]=a,b[9]=e,b[10]=i,b[11]=f):f=b[11];return f}g.Gif=a;g.Sticker=b;g.Photo=e;g.MoreActions=f;g.Emoji=m}),98);
__d("shouldApplyCSAMBlock",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a==null)return!1;switch((h||(h=d("I64"))).to_int32(a.enforcements)){case 1:case 8192:case 4096:case 512:case 256:case 2048:case 1024:return!0}return!1}g["default"]=a}),98);
__d("useMaybeShowCSAMBlockAsync",["JSResourceForInteraction","Promise","ReQL","promiseDone","react","shouldApplyCSAMBlock","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.unstable_useMemoCache;function a(){var a=j(4),e=c("useAsyncReStore")(),f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("JSResourceForInteraction")("MWChatCSAMBlockDialog.react").__setRef("useMaybeShowCSAMBlockAsync"),a[0]=f):f=a[0];f=c("useMWXLazyDialog")(f);var g=f[0];a[1]!==e||a[2]!==g?(f=function(a){var f=a.onProceed,i=a.threadKey;c("promiseDone")(e,function(a){return(h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.thread_limits).getKeyRange(i)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(i))]).then(function(a){var b=a[0];a=a[1];return!c("shouldApplyCSAMBlock")(b)||b==null||a==null?f&&f():g({thread:a,threadLimit:b})},function(){return f&&f()})})},a[1]=e,a[2]=g,a[3]=f):f=a[3];return f}g["default"]=a}),98);
__d("MWLSPostbackCtaHandler",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","MessagePowerUp","promiseDone","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useLSMessagingInitiatingSource")(),g=c("useLSMessagingSource")();return d("Int64Hooks").useCallbackInt64(function(i,j){var k=d("LSThreadAttributionTypeUtil").getSource(e,g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(a=f)!=null?a:void 0,mark_read:!0,platform_token:i,power_up_style:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:h.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:h.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:k}),mailboxType:h.ofNumber(c("LSMailboxType").MESSENGER),senderId:b,snippet:j,text:j,threadKey:e,threadType:h.ofNumber(1)})},"readwrite"))},[a,g,f,b,e])}g.usePostbackCtaHandler=a}),98);
__d("MWPComposerDraftMessages",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a,b){if(b==null){i["delete"]((h||(h=d("I64"))).to_string(a));return}i.set((h||(h=d("I64"))).to_string(a),b)}function b(a){return i.get((h||(h=d("I64"))).to_string(a))}g.updateDraftMessage=a;g.getDraftMessage=b}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWPComposerDraftMessages","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(a){var b=i(10),e=a.editor,f=a.isPreviewThread,g=a.threadKey,h;b[0]!==f||b[1]!==e||b[2]!==g?(a=function(){return f?void 0:e.registerUpdateListener(c("CometDebounce")(function(a){a=a.editorState;a=a.read(function(){return d("LexicalText").$rootTextContent()});d("MWPComposerDraftMessages").updateDraftMessage(g,a)},{wait:250}))},h=[e,g,f],b[0]=f,b[1]=e,b[2]=g,b[3]=a,b[4]=h):(a=b[3],h=b[4]);d("Int64Hooks").useEffectInt64(a,h);b[5]!==f||b[6]!==e||b[7]!==g?(a=function(){return function(){if(f)return;var a=e.getEditorState().read(function(){return d("LexicalText").$rootTextContent()});d("MWPComposerDraftMessages").updateDraftMessage(g,a)}},h=[e,g,f],b[5]=f,b[6]=e,b[7]=g,b[8]=a,b[9]=h):(a=b[8],h=b[9]);d("Int64Hooks").useEffectInt64(a,h)}g["default"]=a}),98);
__d("getGroupThreadViewParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b==null?void 0:b.main.route.params;a=(a==null?void 0:a.entity_type)==="group"&&(a==null?void 0:a.section)==="CHATS";if(!a)return null;a=b==null?void 0:b.thread_id;b=b==null?void 0:b.idorvanity;if(a==null||b==null)return null;return typeof a==="string"&&typeof b==="string"?{groupId:b,threadKey:a}:null}f["default"]=a}),66);
__d("useGroupThreadViewParams",["getGroupThreadViewParams","react","useCometRouterState","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(){var a=i(3),b=c("useTopMostRouteCometEntityKey")(),d=c("useCometRouterState")(),e;a[0]!==b||a[1]!==d?(e=c("getGroupThreadViewParams")(b,d),a[0]=b,a[1]=d,a[2]=e):e=a[2];return e}g["default"]=a}),98);
__d("useMWInboxURIState",["CometRouteParams","CometRouteURL","ConstUriUtils","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MessengerURIConstants","ReQL","ReQLSuspense","gkx","isArmadillo","nullthrows","react","useCurrentRoute","useGroupThreadViewParams","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).unstable_useMemoCache;e="Compose";var l="PayFriendPicker",m="PayThread",n="SecureThread",o="Thread";e={Compose:e};l={PayFriendPicker:l,PayThread:m};m={SecureThread:n,Thread:o};var p=babelHelpers["extends"]({},e,l,m);n="Null";o="Payment";e="People";l="Search";m="SearchMessages";var q="SeeAllGroups",r="SeeAllPages",s="SeeAllPeople",t="SeeAllUnread",u="TeamworkSeeAllAnnouncementGroups",v="Recent",w="UnsupportedThread";n={Null:n,Payment:o,People:e,Search:l,SearchMessages:m,SeeAllGroups:q,SeeAllPages:r,SeeAllPeople:s,SeeAllUnread:t,TeamworkSeeAllAnnouncementGroups:u};o={Recent:v};e={UnsupportedThread:w};var x=babelHelpers["extends"]({},n,o,e),y={type:x.Null},z="/?$";function A(a){a=a.match(new RegExp(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));if(a!=null)return decodeURIComponent(a[1])}var B=c("CurrentEnvironment").instagramdotcom?c("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:c("CurrentEnvironment").facebookdotcom?c("MessengerURIConstants").FACEBOOK_PREFIX:"";function C(a){a=new URL(a.url,window.location.origin);var b=a.pathname;a=a.searchParams;var e=new RegExp("^"+(B+"(/|$)"));if(c("CurrentEnvironment").facebookdotcom&&!e.test(b))throw c("FBLogger")("messenger_web_product").mustfixThrow("MWInboxURIState.NonMessengerState wrong CurrentEnvironment pattern for %s",B);b=b.replace(e,"/");e=a==null?void 0:a.get("fbid");a=a==null?void 0:a.get("id");if(b.match(new RegExp("^"+c("MessengerURIConstants").PEOPLE_PATH))!=null)return{type:x.People};if(b.match(new RegExp("^"+c("MessengerURIConstants").PAYMENT_PATH))!=null)return{type:x.Payment};if(b.match(new RegExp("^"+c("MessengerURIConstants").SEARCH_PATH))!=null)return{type:x.Search};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_GROUP_VIEW))!=null)return{type:x.SeeAllGroups};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_CHAT_VIEW))!=null)return{type:x.SeeAllPeople};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_UNREAD_VIEW))!=null)return{type:x.SeeAllUnread};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW))!=null)return{type:x.TeamworkSeeAllAnnouncementGroups};if(b==="/read/"&&e!=null)return{type:x.Recent,uriStateDetails:{fbid:(j||(j=d("I64"))).of_string(e),type:p.Thread}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").COMPOSE_SUBPATH+z)))!=null)return{type:x.Recent,uriStateDetails:{initialTogglePosition:"E2EEToggleOff",type:p.Compose}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").PAYMENT_PATH+c("MessengerURIConstants").PAYMENT_PAY_PATH)))!=null)return{type:x.Recent,uriStateDetails:{fbid:void 0,type:a!=null?p.PayThread:p.PayFriendPicker}};e=E(A(b));return e!=null?{type:x.Recent,uriStateDetails:{fbid:e,type:p.Thread}}:y}var D=c("gkx")("12228")||c("gkx")("11782");function a(a){return new URL(a,window.location.origin).pathname.split("/")}function E(a){try{return a!=null?(j||(j=d("I64"))).of_string_opt(a):void 0}catch(a){return void 0}}function b(a){var b,e=k(26),g=(h||(h=c("useReStore")))(),i=c("useCurrentRoute")(),l=d("CometRouteURL").useRouteURLPath(),m=c("useGroupThreadViewParams")();a=E(a);var n=d("CometRouteParams").useRouteParams();b=a!=null?(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(a),f.id+":319"))==null?void 0:b.threadType:null;var o=b!=null?c("MWCMIsAnyCMThread")(b):!1,q=b!=null?d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannelWithNoAccessibility(b):!1;if(m!=null){var r;e[0]!==m.threadKey?(r=(j||(j=d("I64"))).of_string(m.threadKey),e[0]=m.threadKey,e[1]=r):r=e[1];e[2]!==r?(m={type:x.Recent,uriStateDetails:{fbid:r,type:p.Thread}},e[2]=r,e[3]=m):m=e[3];return m}if(i==null)return y;if(!l.startsWith(B)&&!l.startsWith(c("MessengerURIConstants").GROUPS_PATH))throw c("FBLogger")("messenger_web_product").mustfixThrow("MWInboxURIState.NonMessengerState wrong groups path %s",l);r=n.initial_e2ee_toggle_position==="1"||n.initial_e2ee_toggle_position===1||n.initial_e2ee_toggle_position===!0?"E2EEToggleOn":"E2EEToggleOff";m=i.url.substring(B.length);n=c("nullthrows")((l=d("ConstUriUtils").getUri(m))==null?void 0:l.getPath().split("/"));if(a!=null){if(n.length===4&&n[0]===""&&n[1]==="e2ee"&&n[2]==="t"&&c("isArmadillo")()){e[4]!==a?(m={type:x.Recent,uriStateDetails:{fbid:a,type:p.SecureThread}},e[4]=a,e[5]=m):m=e[5];return m}if(b!=null&&d("LSMessagingThreadTypeUtil").isSecure(b)){e[6]!==i?(l=C(i),e[6]=i,e[7]=l):l=e[7];return l}if(o&&!D)return y;if(q){e[8]!==a?(m={fbid:a,type:x.UnsupportedThread},e[8]=a,e[9]=m):m=e[9];return m}e[10]!==a?(b={type:x.Recent,uriStateDetails:{fbid:a,type:p.Thread}},e[10]=a,e[11]=b):b=e[11];return b}if(n==null){e[12]!==i?(l=C(i),e[12]=i,e[13]=l):l=e[13];return l}switch(n.length){case 2:if(n[1]==="new"){e[14]!==r?(o={type:x.Recent,uriStateDetails:{initialTogglePosition:r,type:p.Compose}},e[14]=r,e[15]=o):o=e[15];return o}e[16]!==i?(q=C(i),e[16]=i,e[17]=q):q=e[17];return q;case 3:if(n[1]!=="t"){e[18]!==i?(m=C(i),e[18]=i,e[19]=m):m=e[19];return m}if(n[2]===""){e[20]!==i?(a=C(i),e[20]=i,e[21]=a):a=e[21];return a}b=E(n[2]);l=b!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(b),f.id+":429"):null;if(b!=null&&l!=null&&d("LSMessagingThreadTypeUtil").isSecure(l==null?void 0:l.threadType)){e[22]!==b?(r={type:x.Recent,uriStateDetails:{fbid:b,type:p.Thread}},e[22]=b,e[23]=r):r=e[23];return r}return y;case 0:case 1:default:e[24]!==i?(o=C(i),e[24]=i,e[25]=o):o=e[25];return o}}g.MWInboxURIStateDetailsType=p;g.MWInboxURIStateTag=x;g.getRouteTokens=a;g.useMWInboxURIState=b}),98);
__d("MWInboxProvider.react",["react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;c=b.createContext;var j=b.unstable_useMemoCache,k=c();function a(a){var b=j(3),c=a.children;a=a.threadKey;a=d("useMWInboxURIState").useMWInboxURIState(a);var e;b[0]!==a||b[1]!==c?(e=i.jsx(k.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=e):e=b[2];return e}g.MWInboxProviderContext=k;g.MWInboxProvider=a}),98);
__d("MWInboxPassiveContext.react",["I64","MWInboxProvider.react","emptyFunction","react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;e=b.createContext;var k=b.useContext,l=b.useEffect;b.useMemo;var m=b.unstable_useMemoCache;f={isPassive:!1,setIsPassive:c("emptyFunction")};var n=e(f);function o(a){if(a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateTag.Recent){a=a.uriStateDetails;a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateDetailsType.Thread&&(i||(i=d("I64"))).to_string(a.fbid)}return""}function a(a){var b=m(13),c=a.children,e=a.isPassive,f=a.setIsPassive;a=k(d("MWInboxProvider.react").MWInboxProviderContext);var g;b[0]!==a?(g=o(a),b[0]=a,b[1]=g):g=b[1];a=g;b[2]!==f?(g=function(){f(!1)},b[2]=f,b[3]=g):g=b[3];var h;b[4]!==f||b[5]!==a?(h=[f,a],b[4]=f,b[5]=a,b[6]=h):h=b[6];l(g,h);b[7]!==e||b[8]!==f?(a={isPassive:e,setIsPassive:f},b[7]=e,b[8]=f,b[9]=a):a=b[9];g=a;h=g;b[10]!==h||b[11]!==c?(e=j.jsx(n.Provider,{value:h,children:c}),b[10]=h,b[11]=c,b[12]=e):e=b[12];return e}g.MWInboxPassiveContext=n;g.MWInboxPassiveContextProvider=a}),98);
__d("MWCMBotIcons.react",["ix","cr:2344","cr:4919","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(){var a=j(3);if(b("cr:4919")!=null){var c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1n2onr6 x1atx4j1",a[0]=c):c=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(c=k.jsx("span",{className:c,children:k.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"4 4 24 24"})}),a[1]=c):c=a[1];return c}if(b("cr:2344")!=null){a[2]===Symbol["for"]("react.memo_cache_sentinel")?(c=k.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}),a[2]=c):c=a[2];return c}return null}function c(){var a=j(2);if(b("cr:4919")!=null){var c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=k.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"2 4 24 24"}),a[0]=c):c=a[0];return c}if(b("cr:2344")!=null){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(c=k.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}),a[1]=c):c=a[1];return c}return null}function e(){var a=j(2);if(b("cr:4919")!=null){var c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=k.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:24,viewBox:"4 4 24 24"}),a[0]=c):c=a[0];return c}if(b("cr:2344")!=null){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(c=k.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("621884"),20)}),a[1]=c):c=a[1];return c}return null}function f(){var a=j(2);if(b("cr:4919")!=null){var c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=k.jsx(b("cr:4919"),{color:"primary",inline:!1,size:28,viewBox:"-1 -1 32 32"}),a[0]=c):c=a[0];return c}if(b("cr:2344")!=null){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(c=k.jsx(b("cr:2344"),{color:"primary",icon:d("fbicon")._(h("621884"),20)}),a[1]=c):c=a[1];return c}return null}g.BadgeIcon=a;g.WelcomeCardBadgeIcon=c;g.ProfileCardBadgeIcon=e;g.EntryPointIcon=f}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};g["default"]=a}),98);
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function a(a){var b=a.action,c=a.category_id,d=a.client_extras,e=a.community_id,f=a.entry_point,g=a.event,i=a.field_value,j=a.group_id,k=a.parent_surface,l=a.source,m=a.surface,n=a.thread_id;h.onReady(function(a){return a.log(function(){return{action:b,category_id:c,client_extras:d,community_id:e,entry_point:f,event:g,field_value:i,group_id:j,parent_surface:k,source:l,surface:m,thread_id:n}})})}g.logC4GEngagementFalcoEvent=a}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a={buildURL:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",a)}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",a)}}:{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",a)}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("MWInboxInfoSharedContentQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1};function a(a){h.contents=!0,c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{entrypoint:"side_panel_"+a}},cancelOnUnload:!0})}function b(a){if(h.contents===!1){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}h.contents=!0;c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{content_location:"thread",content_type:b,entrypoint:"thread"}},cancelOnUnload:!0})}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{})}function d(a){var b;switch(a){case"media":b="open_tab_media";break;case"files":b="open_tab_files";break;case"links":b="open_tab_links";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),b,{})}function e(a,b){switch(a){case"media":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_media",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{media_count:b}});return;case"files":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_files",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{files_count:b}});return;case"links":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_links",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{links_count:b}});return}}function f(a){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{string:{content_location:"side_panel",content_type:b}});if(a==="links"){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206"));h.contents=!1;return}}function i(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"side_panel_navigated_back"}}}),h.contents=!1}function j(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"close_info_panel"}}}),h.contents=!1}function k(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"navigated_away"}}}),h.contents=!1}function l(){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206")),h.contents=!1}g.logOpenSidePanel=a;g.logOpenSharedContentFromThread=b;g.logOpenTab=d;g.logLoadTab=e;g.logOpenSharedContentFromSidePanel=f;g.logNavigateBackFromSidePanel=i;g.logCloseInfoPanel=j;g.logNavigateAwaySidePanel=k;g.logOpenContentViewer=l}),98);
__d("MWChatMessagesOnChatTabLoadTracker",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i={},j={};function a(a){return function(b){var c=(h||(h=d("I64"))).to_string(b);c in a||(a[(h||(h=d("I64"))).to_string(b)]=0);a[h.to_string(b)]++}}f=a(i);a=a(j);function b(a){return i[a]||0}function c(a){return j[a]||0}function e(a){delete i[a],delete j[a]}g.trackSendFor=f;g.trackReceivedFor=a;g.getMessageSendsCountFor=b;g.getMessageReceivesCountFor=c;g.clearMessageCountsFor=e}),98);
__d("MWChatTabSharedQPLAnnotations",["I64","MAWCurrentUser","MAWEBSwitch","MWChatMessagesOnChatTabLoadTracker","MultipleTabsLogger","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MAWThreadCutover").__setRef("MWChatTabSharedQPLAnnotations");function j(a){return a===15||a===16}function a(a,b,e){var f=(h||(h=d("I64"))).to_string(e),g=b!=null?j(b):!1;a.addAnnotation("thread_id",f);a.addAnnotation("thread_type",b?b.toString():"");a.addAnnotation("isSecure",g?"true":"false");a.addAnnotationInt("is_secure",g?1:0);a.addAnnotation("isEBEnabled",c("MAWEBSwitch").isEnabled().toString());d("MultipleTabsLogger").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotationInt("is_tlc_public_user",d("MAWCurrentUser").isTlcPublicUser()?1:0);i.onReady(function(b){c("promiseDone")(b.isCutoverThreadKey(e).then(function(b){a.addAnnotationInt("is_cutover",b?1:0)}))});a.onComplete(function(){var b=d("MWChatMessagesOnChatTabLoadTracker").getMessageSendsCountFor(f),c=d("MWChatMessagesOnChatTabLoadTracker").getMessageReceivesCountFor(f);a.addAnnotationInt("messagesSent",b);a.addAnnotationInt("messagesReceived",c);a.addAnnotationInt("totalMessages",c+b);d("MWChatMessagesOnChatTabLoadTracker").clearMessageCountsFor(f)})}g.addSharedAnnotations=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=(h||(h=d("I64"))).to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("useMWChatOpenTabTraceProvider",["CometCurrentInitialLoadVC","CometHeroLogging","I64","MAWEBSwitch","MAWMICSafe","MWChatTabSharedQPLAnnotations","gkx","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback,k=!1;function a(){var a=c("useCometInteractionTracing")(c("qpl")._(30605380,"18"),"responsive","INTERACTION");return j(function(b,e,f,g,h){a(function(a){var i=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());a.addAnnotationInt("pdb",c("gkx")("12676")?1:0);var j=d("MAWMICSafe").duringMIC();j&&a.addAnnotationInt("startedDuringMIC",1);a.addMetadata("entrypoint",f);a.addAnnotation("isEBEnabled",c("MAWEBSwitch").isEnabled().toString());a.addMetadata("hasBadge",h!=null?h.toString():"");d("MWChatTabSharedQPLAnnotations").addSharedAnnotations(a,e,g);a.onComplete(function(b){k?a.addMetadata("revisit",1):(a.addMetadata("revisit",0),k=!0);var c=d("CometCurrentInitialLoadVC").getInitialLoadVC();c!=null&&a.addAnnotationInt("sinceInitialLoadVC",Math.round(b.start-c))});b(i,a)},void 0,void 0,void 0,(i||(i=d("I64"))).to_string(g))},[a])}g["default"]=a}),98);
__d("MWMessageCellKeyCommands.react",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.react","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.unstable_useMemoCache;function a(a){var b=j(24);a=a.children;a=a;var e=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),f=e.forwardMessage,g=e.openReactionsMenu,h=e.removeMessage,k=e.replyToMessage;b[0]!==g?(e=function(){return g.current()},b[0]=g,b[1]=e):e=b[1];e=e;var l;b[2]!==k?(l=function(){return k.current()},b[2]=k,b[3]=l):l=b[3];l=l;var m;b[4]!==f?(m=function(){return f.current()},b[4]=f,b[5]=m):m=b[5];m=m;var n;b[6]!==h?(n=function(){return h.current()},b[6]=h,b[7]=n):n=b[7];n=n;var o;if(b[8]!==e||b[9]!==l||b[10]!==m||b[11]!==n){o=[];var p;b[13]!==e?(p=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","likeMessage",e),b[13]=e,b[14]=p):p=b[14];p=p;o.push(p);b[15]!==l?(p=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","replyToMessage",l),b[15]=l,b[16]=p):p=b[16];p=p;o.push(p);b[17]!==m?(p=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","forwardMessage",m),b[17]=m,b[18]=p):p=b[18];p=p;o.push(p);b[19]!==n?(p=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","removeMessage",n),b[19]=n,b[20]=p):p=b[20];p=p;o.push(p);b[8]=e;b[9]=l;b[10]=m;b[11]=n;b[12]=o}else o=b[12];p=o;e=p;b[21]!==e||b[22]!==a?(l=i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:e,xstyle:!1,children:a}),b[21]=e,b[22]=a,b[23]=l):l=b[23];return l}e=a;g.keyCommands=e}),98);
__d("MDSAccountSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z",fillRule:"evenodd"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:d})),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),98);
__d("MDSGlimmer.react",["BaseGlimmer.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=i(9),d,e;b[0]!==a?(d=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]),b[0]=a,b[1]=d,b[2]=e):(d=b[1],e=b[2]);a=c("useCurrentDisplayMode")();a=a==="dark"?k.dark:k.light;var f;b[3]!==a||b[4]!==d?(f=[a,d],b[3]=a,b[4]=d,b[5]=f):f=b[5];b[6]!==f||b[7]!==e?(a=j.jsx(c("BaseGlimmer.react"),babelHelpers["extends"]({xstyle:f},e)),b[6]=f,b[7]=e,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:c("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};g["default"]=a}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","CometEntryPointPopoverTrigger.react","CometImageCover.react","I64","LSContactBitOffset","MDSAccountSvgIcon.react","MDSGlimmer.react","MWCMIsAnyCMThread","MWLSThread","MWPActor.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXIcon.react","MWXPressable.react","MWXTooltip.react","QE2Logger","ReQLSuspense","SVGIcon","getLSMediaContactProfilePictureUrl","qex","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(k||(k=d("react"))).unstable_useMemoCache,m=k,n=h._("__JHASH__G4Bi2CYTkJR__JHASH__"),o={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1fgtraw",width:"xgd8bvy",$$css:!0},noProfilePhoto:{width:"xgd8bvy",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b=l(39),e=a.ariaHidden,g=a.contact,h=a.isGroupThread,k=a.isLastMessageInGroup,p=a.message;a=a.nickname;e=e===void 0?!1:e;var q=d("MWPActor.react").useActor(),r=(i||(i=c("useReStore")))(),s=d("MWLSThread").useThread(p.threadKey),t;b[0]!==s?(t=s==null?void 0:s.parentThreadKey,b[0]=s,b[1]=t):t=b[1];var u=t;b[2]!==s?(t=s==null?void 0:s.threadType,b[2]=s,b[3]=t):t=b[3];s=t;var v;b[4]!==r||b[5]!==u?(t=function(){var a;return d("MWPreloadableQueries").getCommunityFolderQuery(r,(a=u)!=null?a:(j||(j=d("I64"))).zero).map(function(a){return a.fbGroupId})},v=[r,u],b[4]=r,b[5]=u,b[6]=t,b[7]=v):(t=b[6],v=b[7]);t=d("ReQLSuspense").useFirst(t,v,f.id+":79");b[8]!==s?(v=s?c("MWCMIsAnyCMThread")(s):!1,b[8]=s,b[9]=v):v=b[9];s=v;if(!k){b[10]===Symbol["for"]("react.memo_cache_sentinel")?(v=m.jsx("div",{className:"xgd8bvy"}),b[10]=v):v=b[10];return v}if(p.takedownState!=null){b[11]===Symbol["for"]("react.memo_cache_sentinel")?(k=m.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:n,children:m.jsx(c("MWXIcon.react"),{alt:n,icon:d("SVGIcon").legacySVGIcon(function(){return m.jsx(c("MDSAccountSvgIcon.react"),{color:"disabled",size:28,viewBox:"6 6 24 24"})})})}),b[11]=k):k=b[11];v=k}else if(g!=null&&c("getLSMediaContactProfilePictureUrl")(g)!==""){k=a!=null?a+" ("+g.name+")":g.name;if(b[12]!==g){a=(a=d("LSContactBitOffset").has(77,g))!=null?a:!1;b[12]=g;b[13]=a}else a=b[13];a=a;if(b[14]!==g){var w;w=(w=d("LSContactBitOffset").has(84,g))!=null?w:!1;b[14]=g;b[15]=w}else w=b[15];w=w;var x;b[16]!==g?(x=c("getLSMediaContactProfilePictureUrl")(g),b[16]=g,b[17]=x):x=b[17];var y;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(y={borderRadius:"50%"},b[18]=y):y=b[18];b[19]!==g.name||b[20]!==x?(y=m.jsx(c("CometImageCover.react"),{alt:g.name,src:x,style:y}),b[19]=g.name,b[20]=x,b[21]=y):y=b[21];var z=y;if(b[22]!==s||b[23]!==w||b[24]!==a||b[25]!==t||b[26]!==q||b[27]!==p||b[28]!==h||b[29]!==z){x=s&&!w&&!a&&c("qex")._("20")?m.jsx(c("CometEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(j||(j=d("I64"))).to_string((g=t)!=null?g:(j||(j=d("I64"))).zero),userID:(j||(j=d("I64"))).to_string(q)},otherProps:{message:p},popoverEntryPoint:c("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(a,b,e,f,g,i){return h?m.jsx(c("MWXPressable.react"),{onHoverIn:f,onHoverOut:g,onPress:function(){d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"),b()},onPressIn:i,overlayRadius:"50%",ref:a,xstyle:o.profile,children:z}):z}}):z;b[22]=s;b[23]=w;b[24]=a;b[25]=t;b[26]=q;b[27]=p;b[28]=h;b[29]=z;b[30]=x}else x=b[30];b[31]!==k||b[32]!==x?(y=m.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:k,children:x}),b[31]=k,b[32]=x,b[33]=y):y=b[33];v=y}else{b[34]===Symbol["for"]("react.memo_cache_sentinel")?(g=m.jsx(c("MDSGlimmer.react"),{index:1,xstyle:o.glimmer}),b[34]=g):g=b[34];v=g}b[35]===Symbol["for"]("react.memo_cache_sentinel")?(s="xuk3077 x78zum5 x2lah0s x1fgtraw xgd8bvy",b[35]=s):s=b[35];b[36]!==e||b[37]!==v?(w=m.jsx("div",{"aria-hidden":e,className:s,children:v}),b[36]=e,b[37]=v,b[38]=w):w=b[38];return w}g["default"]=a}),98);
__d("MWV2MessageProfilePhoto.react",["MWPContactContext.react","MWV2MessageProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(7),e=a.ariaHidden,f=a.isGroupThread,g=a.isLastMessageInGroup;a=a.message;e=e===void 0?!1:e;var h=d("MWPContactContext.react").useMWPContactStableContext(),k=h.contact;h=h.nickname;var l;b[0]!==e||b[1]!==k||b[2]!==f||b[3]!==g||b[4]!==a||b[5]!==h?(l=j.jsx(c("MWV2MessageProfilePhotoContent.react"),{ariaHidden:e,contact:k,isGroupThread:f,isLastMessageInGroup:g,message:a,nickname:h}),b[0]=e,b[1]=k,b[2]=f,b[3]=g,b[4]=a,b[5]=h,b[6]=l):l=b[6];return l}g["default"]=a}),98);
__d("MWEditMessageOverlay.react",["MWPColorUtils","MWPEditMessageUtil","gkx","nullthrows","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(10),e=a.disabledWithBackgroundUrl;a=a.messageId;e=e===void 0?!0:e;var f=d("MWPEditMessageUtil").useGetEditMessageData(),g=f!=null;a=a!=null&&a===(f==null?void 0:f.messageId);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("gkx")("12708"),b[0]=f):f=b[0];f=f;var h=c("useMWPThreadTheme")();h=h.threadTheme;var k=f&&e&&h.backgroundUrl!=null;if(k||!g||a)return null;b[1]!==e||b[2]!==h?(k=f&&!e&&h.titlebarBackgroundColor!=null,b[1]=e,b[2]=h,b[3]=k):k=b[3];g=k;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a="x2bj2ny x5yr21d x1ks1olk x10l6tqk x17qophe x13vifvy xh8yej3 x1vjfegm",b[4]=a):a=b[4];b[5]!==g||b[6]!==h?(f=g?{backgroundColor:d("MWPColorUtils").int64ToHex(c("nullthrows")(h.titlebarBackgroundColor))}:void 0,b[5]=g,b[6]=h,b[7]=f):f=b[7];b[8]!==f?(e=j.jsx("div",{className:a,style:f}),b[8]=f,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("useMWPEditMessageDeemphasizer",["MAWEditMessageContext.react","gkx","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j={deemphasize:{opacity:"x197sbye",$$css:!0}};function a(a){var b=i(d("MAWEditMessageContext.react").Context);b=b.editMessageData;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=e.backgroundUrl!=null&&c("gkx")("12708")&&(b==null?void 0:b.messageId)!=null&&(b==null?void 0:b.messageId)!==a;return e?j.deemphasize:null}g["default"]=a}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","stylex","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.unstable_useMemoCache,n={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=m(12),e=a.children,f=a.domElementRef;a=a.focusCellOnRender;var g=a===void 0?!1:a;a=c("useMWPEditMessageDeemphasizer")();var i=l(null),o,p;b[0]!==g?(o=function(){if(g){var a;(a=i.current)==null?void 0:a.focus();(a=i.current)==null?void 0:a.scrollIntoView()}},p=[g],b[0]=g,b[1]=o,b[2]=p):(o=b[1],p=b[2]);k(o,p);b[3]!==a?(o=(h||(h=c("stylex")))(a),b[3]=a,b[4]=o):o=b[4];b[5]!==i||b[6]!==e?(p=j.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:j.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return j.jsxs("div",{className:(h||(h=c("stylex")))(n.row,b?n.rowFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:i,role:"gridcell",tabIndex:0,children:[e,j.jsx(c("MWEditMessageOverlay.react"),{})]})}})}),b[5]=i,b[6]=e,b[7]=p):p=b[7];b[8]!==o||b[9]!==f||b[10]!==p?(a=j.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:j.jsx("div",{className:o,ref:f,role:"row",children:p})}),b[8]=o,b[9]=f,b[10]=p,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("MWPMessageListColumn.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={centered:{alignItems:"x6s0dn4",$$css:!0},customHeight:function(a){return[{height:"x1jwls1v",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(a)}]},grow:{flexGrow:"x1iyjqo2",$$css:!0},makeSpaceForActions:{maxWidth:"xhj03cu",$$css:!0},paint:{backgroundColor:"x1eb86dx",$$css:!0},profile:{paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,paddingStart:"x1nvil2r",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"x1eb86dx",width:"xh8yej3",$$css:!0},withGutters:{paddingEnd:"xe53cfu",paddingLeft:null,paddingRight:null,paddingStart:"xrgni87",$$css:!0}};function l(a){var b=i(12),c=a.centered,e=a.children,f=a.grow,g=a.makeSpaceForActions,h=a.paint,l=a.profile,m=a.selfCentered,n=a.shrinkwrap;a=a.withGutters;f=f===!0?k.grow:!1;n=n===!0?k.shrinkwrap:!1;h=h===!0?k.paint:!1;l=l===!0?k.profile:!1;a=a===!0?k.withGutters:!1;g=g===!0?k.makeSpaceForActions:!1;c=c===!0?k.centered:!1;m=m===!0?k.selfCentered:!1;var o;b[0]!==f||b[1]!==n||b[2]!==h||b[3]!==l||b[4]!==a||b[5]!==g||b[6]!==c||b[7]!==m?(o=[k.root,f,n,h,l,a,g,c,m],b[0]=f,b[1]=n,b[2]=h,b[3]=l,b[4]=a,b[5]=g,b[6]=c,b[7]=m,b[8]=o):o=b[8];b[9]!==o||b[10]!==e?(f=j.jsx(d("react-strict-dom").html.div,{role:"none",style:o,children:e}),b[9]=o,b[10]=e,b[11]=f):f=b[11];return f}function a(a){var b=i(4),c=a.children,d=a.grow;a=a.shrinkwrap;d=d!=null?d:!1;a=a!=null?a:!1;var e;b[0]!==d||b[1]!==a||b[2]!==c?(e=j.jsx(l,{grow:d,paint:!0,shrinkwrap:a,withGutters:!0,children:c}),b[0]=d,b[1]=a,b[2]=c,b[3]=e):e=b[3];return e}function b(a){var b=i(3),c=a.children;a=a.selfCentered;a=a!=null?a:!1;var d;b[0]!==a||b[1]!==c?(d=j.jsx(l,{paint:!0,profile:!0,selfCentered:a,shrinkwrap:!0,children:c}),b[0]=a,b[1]=c,b[2]=d):d=b[2];return d}function c(a){var b=i(4),c=a.centered,d=a.children;a=a.paint;c=c!=null?c:!1;a=a!=null?a:!0;var e;b[0]!==c||b[1]!==a||b[2]!==d?(e=j.jsx(l,{centered:c,paint:a,shrinkwrap:!0,children:d}),b[0]=c,b[1]=a,b[2]=d,b[3]=e):e=b[3];return e}function e(a){var b=i(2);a=a.children;var c;b[0]!==a?(c=j.jsx(l,{grow:!0,paint:!0,children:a}),b[0]=a,b[1]=c):c=b[1];return c}function f(a){var b=i(4),c=a.children,d=a.makeSpaceForActions;a=a.paint;var e;b[0]!==d||b[1]!==a||b[2]!==c?(e=j.jsx(l,{makeSpaceForActions:d,paint:a,children:c}),b[0]=d,b[1]=a,b[2]=c,b[3]=e):e=b[3];return e}function m(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(d("react-strict-dom").html.div,{role:"none",style:k.spacer}),a[0]=b):b=a[0];return b}function n(a){var b=i(4);a=a.height;var c;b[0]!==a?(c=k.customHeight(a),b[0]=a,b[1]=c):c=b[1];b[2]!==c?(a=j.jsx(d("react-strict-dom").html.div,{role:"none",style:[k.vr,c]}),b[2]=c,b[3]=a):a=b[3];return a}g.MWPMessageListColumnWithGutters=a;g.MWPMessageListColumnProfile=b;g.MWPMessageListColumnShrinkwrap=c;g.MWPMessageListColumnGrow=e;g.MWPMessageListColumnBubble=f;g.MWPMessageListColumnHorizontalSpacer=m;g.MWPMessageListColumnVerticalRhythm=n}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","MWChatTextTransform","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(7),e=a.cta;a=a.message;a=a.text;if(a!=null)if(e!=null){var f;b[0]!==a?(f=j.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms}),b[0]=a,b[1]=f):f=b[1];var g;b[2]!==f||b[3]!==e?(g=j.jsxs(j.Fragment,{children:[f," ",e]}),b[2]=f,b[3]=e,b[4]=g):g=b[4];return g}else{b[5]!==a?(f=j.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").epdTextTransforms}),b[5]=a,b[6]=f):f=b[6];return f}else if(e!=null)return e;else return null}g["default"]=a}),98);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",a[1]),d[1].set("muted_user_id",a[0]),d[1].set("owner_id",d[0]),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"instant_game_custom_update_mute_management",c.i64.cast([0,759]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.mutedUserId;d[1]=b.gameId;d[2]=b.userActionType;return c("LSCustomUpdateMuteManagement").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.unstable_useMemoCache;function a(a){var b=l(19),e=a.message,g=a.shouldMute,j=(h||(h=c("useReStore")))();b[0]!==j.tables.admin_message_ctas||b[1]!==e.threadKey||b[2]!==e.messageId?(a=function(){return d("ReQL").fromTableAscending(j.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId)},b[0]=j.tables.admin_message_ctas,b[1]=e.threadKey,b[2]=e.messageId,b[3]=a):a=b[3];var m;b[4]!==j||b[5]!==e.messageId||b[6]!==e.threadKey?(m=[j,e.messageId,e.threadKey],b[4]=j,b[5]=e.messageId,b[6]=e.threadKey,b[7]=m):m=b[7];var n=d("ReQLSuspense").useFirst(a,m,f.id+":32");b[8]!==n||b[9]!==g||b[10]!==j||b[11]!==e.threadKey?(a=function(){if((n==null?void 0:n.targetId)==null)return;var a=n.targetId,b=g?(i||(i=d("LSIntEnum"))).ofNumber(0):(i||(i=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(j.runInTransaction(function(d){return c("LSCustomUpdateMuteManagementStoredProcedure")(c("LSFactory")(d),{gameId:a,mutedUserId:e.threadKey,userActionType:b})},"readwrite"))},b[8]=n,b[9]=g,b[10]=j,b[11]=e.threadKey,b[12]=a):a=b[12];m=a;b[13]!==e.adminMsgCtaTitle||b[14]!==m?(a=e.adminMsgCtaTitle!=null?k.jsx(c("MWXLink.react"),{onClick:m,target:"_blank",children:e.adminMsgCtaTitle}):void 0,b[13]=e.adminMsgCtaTitle,b[14]=m,b[15]=a):a=b[15];m=a;b[16]!==m||b[17]!==e?(a=k.jsx(c("MWAdminTextLayout.react"),{cta:m,message:e}),b[16]=m,b[17]=e,b[18]=a):a=b[18];return a}g["default"]=a}),98);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"game_messenger_updates_management_xmat",c.i64.cast([0,755]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSUpdateBotSubscription"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.userActionType;return c("LSUpdateBotSubscription").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));b=k;b.useCallback;var m=b.unstable_useMemoCache;function a(a){var b=m(12),e=a.message,f=a.shouldSubscribe,g=(h||(h=c("useReStore")))();b[0]!==e.threadKey?(a=(i||(i=d("I64"))).to_string(e.threadKey),b[0]=e.threadKey,b[1]=a):a=b[1];var k=a;b[2]!==f||b[3]!==g||b[4]!==k?(a=function(){var a=f?(j||(j=d("LSIntEnum"))).ofNumber(0):(j||(j=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(b){return c("LSUpdateBotSubscriptionStoredProcedure")(c("LSFactory")(b),{threadKey:(i||(i=d("I64"))).of_string(k),userActionType:a})},"readwrite"))},b[2]=f,b[3]=g,b[4]=k,b[5]=a):a=b[5];var n=a;b[6]!==e.adminMsgCtaTitle||b[7]!==n?(a=e.adminMsgCtaTitle!=null?l.jsx(c("MWXLink.react"),{onClick:function(){return n()},target:"_blank",children:e.adminMsgCtaTitle}):void 0,b[6]=e.adminMsgCtaTitle,b[7]=n,b[8]=a):a=b[8];a=a;var o;b[9]!==a||b[10]!==e?(o=l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e}),b[9]=a,b[10]=e,b[11]=o):o=b[11];return o}g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var d=i(6);a=a.message;var e=a.adminMsgCtaTitle,f;d[0]!==e||d[1]!==a?(f=e!=null&&b("cr:7125")!=null?j.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:j.jsx(b("cr:7125"),{threadKey:a.threadKey,title:e})}):null,d[0]=e,d[1]=a,d[2]=f):f=d[2];e=f;d[3]!==e||d[4]!==a?(f=j.jsx(c("MWAdminTextLayout.react"),{cta:e,message:a}),d[3]=e,d[4]=a,d[5]=f):f=d[5];return f}g["default"]=a}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);k=function(){return a};return a}var l=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(b.threadKey).map(function(a){return(i||(i=d("I64"))).to_string(a.jid)})},[e,b.threadKey],f.id+":39");a=a!=null?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):d("MWInboxRouteBuilder").buildURL({thread_key:a}):(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(b.threadKey)),d("MWInboxRouteBuilder").buildHomeURL());var g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":64");g=g==null?void 0:g.title;a=g!=null?l.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:l.jsx(c("MWXLink.react"),{href:a,target:"_self",children:g})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSLockSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{clipRule:"evenodd",d:"M12.25 15.5a.25.25 0 00.25-.25V12a5.5 5.5 0 1111 0v3.25c0 .138.112.25.25.25h.75a2 2 0 012 2v9a2 2 0 01-2 2h-13a2 2 0 01-2-2v-9a2 2 0 012-2h.75zm3 0h5.5a.25.25 0 00.25-.25V12a3 3 0 10-6 0v3.25c0 .138.112.25.25.25z",fillRule:"evenodd"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:d})),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","I64","JSResourceForInteraction","MDSLockSvgIcon.react","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(k||(k=d("react"))).unstable_useMemoCache,m=k,n=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),o=h._("__JHASH__8YEBJluoCs5__JHASH__");function a(a){var b=l(22),e=a.message,g=(i||(i=c("useReStore")))();b[0]!==g.tables.admin_message_ctas||b[1]!==e.threadKey||b[2]!==e.messageId||b[3]!==e.adminMsgCtaId?(a=function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},b[0]=g.tables.admin_message_ctas,b[1]=e.threadKey,b[2]=e.messageId,b[3]=e.adminMsgCtaId,b[4]=a):a=b[4];var h;b[5]!==g||b[6]!==e?(h=[g,e],b[5]=g,b[6]=e,b[7]=h):h=b[7];a=d("ReQLSuspense").useFirst(a,h,f.id+":52");if(b[8]===Symbol["for"]("react.memo_cache_sentinel")){h=(h=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(h=h.setProtocol("https"))==null?void 0:h.toString();b[8]=h}else h=b[8];h=h;var k;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(k={},b[9]=k):k=b[9];var p=k;k=c("useMWXLazyDialog")(n);var q=k[0];b[10]!==q?(k=function(){return q(p)},b[10]=q,b[11]=k):k=b[11];k=k;var r;b[12]!==a?(r=a==null?void 0:a.title,b[12]=a,b[13]=r):r=b[13];a=r;b[14]!==a||b[15]!==k?(r=a!=null?c("CurrentEnvironment").instagramdotcom?m.jsx(c("MWXLink.react"),{href:h,target:"_blank",children:o}):m.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:m.jsx(c("MWXLink.react"),{onClick:k,target:"_blank",children:a})}):null,b[14]=a,b[15]=k,b[16]=r):r=b[16];h=r;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(a="x1o583il x1rg5ohu x177n6bx x1n2onr6",b[17]=a):a=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(k=m.jsx("div",{className:a,children:m.jsx(c("MDSLockSvgIcon.react"),{color:"tertiary",size:16})}),b[18]=k):k=b[18];b[19]!==h||b[20]!==e?(r=m.jsxs(m.Fragment,{children:[k,m.jsx(c("MWAdminTextLayout.react"),{cta:h,message:e})]}),b[19]=h,b[20]=e,b[21]=r):r=b[21];return r}g["default"]=a}),98);
__d("MWV2AdminMsgICDC.react",["fbt","MWAdminTextLayout.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l="https://www.facebook.com/help/messenger-app/1577627185919537/?helpref=uf_permalink&parent_cms_id=1084673321594605";function a(a){var b=j(3);a=a.message;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsx("div",{children:k.jsx(c("MWXLink.react"),{href:l,target:"_blank",children:h._("__JHASH__t0_WbzixXKp__JHASH__")})}),b[0]=d):d=b[0];b[1]!==a?(d=k.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(i);var g=b[0];e=function(){return g(f,c("emptyFunction"))};return d(e)}g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(7),d=a.isOptOut,e=a.targetId,f=a.threadKey,g=a.title;b[0]!==g?(a=function(a){return j.jsx(c("MWXPressable.react"),{onPress:function(){return a()},children:j.jsx(c("CometTextWithEntities.react"),{text:g})})},b[0]=g,b[1]=a):a=b[1];a=a;var h;b[2]!==d||b[3]!==a||b[4]!==e||b[5]!==f?(h=j.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:d,renderer:a,targetId:e,threadKey:f}),b[2]=d,b[3]=a,b[4]=e,b[5]=f,b[6]=h):h=b[6];return h}g["default"]=a}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j;function a(a){var b=k(19),e=a.isOptOut,g=a.message,j=(h||(h=c("useReStore")))();b[0]!==j.tables.admin_message_ctas||b[1]!==g.threadKey||b[2]!==g.messageId||b[3]!==g.adminMsgCtaId?(a=function(){var a;return d("ReQL").fromTableAscending(j.tables.admin_message_ctas).getKeyRange(g.threadKey,g.messageId,(a=g.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},b[0]=j.tables.admin_message_ctas,b[1]=g.threadKey,b[2]=g.messageId,b[3]=g.adminMsgCtaId,b[4]=a):a=b[4];var m;b[5]!==j||b[6]!==g?(m=[j,g],b[5]=j,b[6]=g,b[7]=m):m=b[7];a=d("ReQLSuspense").useFirst(a,m,f.id+":35");m=g.adminMsgCtaTitle;var n;b[8]!==a?(n=a==null?void 0:a.targetId,b[8]=a,b[9]=n):n=b[9];n=n;var o;b[10]!==m||b[11]!==a||b[12]!==n||b[13]!==e||b[14]!==g?(o=m!=null&&a!=null&&n!=null?l.jsx("div",{className:"x1rg5ohu x1s688f",children:l.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:e,targetId:n,threadKey:g.threadKey,title:m})}):null,b[10]=m,b[11]=a,b[12]=n,b[13]=e,b[14]=g,b[15]=o):o=b[15];m=o;b[16]!==m||b[17]!==g?(a=l.jsx(c("MWAdminTextLayout.react"),{cta:m,message:g}),b[16]=m,b[17]=g,b[18]=a):a=b[18];return a}g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=k(17),e=a.message,g=(h||(h=c("useReStore")))();b[0]!==g.tables.admin_message_ctas||b[1]!==e.threadKey||b[2]!==e.messageId||b[3]!==e.adminMsgCtaId?(a=function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},b[0]=g.tables.admin_message_ctas,b[1]=e.threadKey,b[2]=e.messageId,b[3]=e.adminMsgCtaId,b[4]=a):a=b[4];var j;b[5]!==g||b[6]!==e?(j=[g,e],b[5]=g,b[6]=e,b[7]=j):j=b[7];a=d("ReQLSuspense").useFirst(a,j,f.id+":31");j=c("useMWXLazyDialog")(m);var n=j[0];b[8]!==a?(j=a==null?void 0:a.title,b[8]=a,b[9]=j):j=b[9];a=j;b[10]!==a||b[11]!==n||b[12]!==e?(j=a!=null?l.jsx(c("MWXLink.react"),{onClick:function(){n({entryPoint:"ADMIN_TEXT",threadKey:e.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(i||(i=d("I64"))).to_string(e.threadKey)}})},children:a}):null,b[10]=a,b[11]=n,b[12]=e,b[13]=j):j=b[13];a=j;b[14]!==a||b[15]!==e?(j=l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e}),b[14]=a,b[15]=e,b[16]=j):j=b[16];return j}g["default"]=a}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;b.useCallback;var l=b.unstable_useMemoCache,m=c("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function n(a){var b=l(7),e=a.senderId,f=a.threadKey;a=a.title;var g=c("useMWXLazyDialog")(m),h=g[0];b[0]!==f||b[1]!==h||b[2]!==e?(g=function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(j||(j=d("I64"))).to_string(f)}),h({senderId:e,threadKey:f})},b[0]=f,b[1]=h,b[2]=e,b[3]=g):g=b[3];g=g;var i;b[4]!==g||b[5]!==a?(i=k.jsx(c("MWXLink.react"),{color:"highlight",onClick:g,role:"button",children:a}),b[4]=g,b[5]=a,b[6]=i):i=b[6];return i}function a(a){var b=l(21),e=a.message,g=(h||(h=c("useReStore")))();b[0]!==g.tables.admin_message_ctas||b[1]!==e.threadKey||b[2]!==e.messageId||b[3]!==e.adminMsgCtaId?(a=function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},b[0]=g.tables.admin_message_ctas,b[1]=e.threadKey,b[2]=e.messageId,b[3]=e.adminMsgCtaId,b[4]=a):a=b[4];var i;b[5]!==g||b[6]!==e?(i=[g,e],b[5]=g,b[6]=e,b[7]=i):i=b[7];a=d("ReQLSuspense").useFirst(a,i,f.id+":60");b[8]!==a?(i=a==null?void 0:a.title,b[8]=a,b[9]=i):i=b[9];i=i;var m;b[10]!==a?(m=a==null?void 0:a.actionUrl,b[10]=a,b[11]=m):m=b[11];a=m;m=null;if(a!=null){if(b[12]!==a){var o=new URL(a);o=o.searchParams.get("removed_msg_sender_id");b[12]=a;b[13]=o}else o=b[13];m=o}b[14]!==m||b[15]!==i||b[16]!==e?(a=m!=null&&i!=null?k.jsx(n,{senderId:m,threadKey:e.threadKey,title:i}):null,b[14]=m,b[15]=i,b[16]=e,b[17]=a):a=b[17];o=a;b[18]!==o||b[19]!==e?(m=k.jsx(c("MWAdminTextLayout.react"),{cta:o,message:e}),b[18]=o,b[19]=e,b[20]=m):m=b[20];return m}g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=k(17),e=a.message,g=(h||(h=c("useReStore")))();b[0]!==g.tables.admin_message_ctas||b[1]!==e.threadKey||b[2]!==e.messageId||b[3]!==e.adminMsgCtaId?(a=function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},b[0]=g.tables.admin_message_ctas,b[1]=e.threadKey,b[2]=e.messageId,b[3]=e.adminMsgCtaId,b[4]=a):a=b[4];var j;b[5]!==g||b[6]!==e?(j=[g,e],b[5]=g,b[6]=e,b[7]=j):j=b[7];a=d("ReQLSuspense").useFirst(a,j,f.id+":32");j=c("useMWXLazyDialog")(m);var n=j[0];b[8]!==a?(j=a==null?void 0:a.title,b[8]=a,b[9]=j):j=b[9];a=j;b[10]!==a||b[11]!==n||b[12]!==e?(j=a!=null?l.jsx(c("MWXLink.react"),{onClick:function(){return n({entryPoint:"ADMIN_TEXT",threadKey:e.threadKey},function(){})},children:a}):null,b[10]=a,b[11]=n,b[12]=e,b[13]=j):j=b[13];a=j;b[14]!==a||b[15]!==e?(j=l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e}),b[14]=a,b[15]=e,b[16]=j):j=b[16];return j}g["default"]=a}),98);
__d("MWAdminMsgCtaLink.react",["MWPColorUtils","MWXLink.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(13),e,f,g;b[0]!==a?(g=a.children,e=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=c("useMWPThreadTheme")();a=a.threadTheme;a=a.fallbackColor;var h;b[4]!==a?(h=d("MWPColorUtils").int64ToHex(a),b[4]=a,b[5]=h):h=b[5];b[6]!==h?(a={color:h},b[6]=h,b[7]=a):a=b[7];b[8]!==a||b[9]!==e||b[10]!==f||b[11]!==g?(h=j.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:a,weight:"bold",xstyle:e},f,{children:g})),b[8]=a,b[9]=e,b[10]=f,b[11]=g,b[12]=h):h=b[12];return h}g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["I64","JSResourceForInteraction","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=k(19),e=a.message,g=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(m);var j=a[0];b[0]!==g.tables.admin_message_ctas||b[1]!==e.threadKey||b[2]!==e.messageId||b[3]!==e.adminMsgCtaId?(a=function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},b[0]=g.tables.admin_message_ctas,b[1]=e.threadKey,b[2]=e.messageId,b[3]=e.adminMsgCtaId,b[4]=a):a=b[4];var n;b[5]!==g||b[6]!==e?(n=[g,e],b[5]=g,b[6]=e,b[7]=n):n=b[7];a=d("ReQLSuspense").useFirst(a,n,f.id+":32");b[8]!==j||b[9]!==e.threadKey?(n=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return j({threadKey:e.threadKey},function(){})},b[8]=j,b[9]=e.threadKey,b[10]=n):n=b[10];n=n;var o;b[11]!==a?(o=a==null?void 0:a.title,b[11]=a,b[12]=o):o=b[12];a=o;b[13]!==a||b[14]!==n?(o=a!=null?l.jsx(c("MWAdminMsgCtaLink.react"),{onClick:n,children:a}):null,b[13]=a,b[14]=n,b[15]=o):o=b[15];a=o;b[16]!==a||b[17]!==e?(n=l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e}),b[16]=a,b[17]=e,b[18]=n):n=b[18];return n}g["default"]=a}),98);
__d("MWNavigationContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;c=b.createContext;var i=b.createElement,j=c();function a(a){var b=a.children;a=a.value;return i(j.Provider,{children:b,value:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.context=j;g.Provider=e}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","I64","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWCookieUtil","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRouteBuilder","MWNavigationContext","MessengerWebEntryPointsUtil","XCometGroupDiscussionControllerRouteBuilder","cr:7004","getGroupThreadViewParams","getTopMostRouteCometEntityKey","react","useCometFeedNoRoutingNavigationEventLogger","useCometRouterDispatcher","useLazyShouldShowMessagingEntrypointInCometRoot","useMWChatOpenTabTraceProvider","useMaybeShowCSAMBlockAsync"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");e.useCallback;var j=e.useContext;e.useMemo;var k=e.unstable_useMemoCache;function l(a){var b=d("MWCookieUtil").isAutoChatTabFromCookie(a);if(!b)return!1;b=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a));a=b==null?void 0:b.getTrace();return a!=null&&!a.completed}function m(){var a=k(4),b=d("MWChatStateV2.react").useDispatch(),e=c("useCometFeedNoRoutingNavigationEventLogger")(),f=c("useMWChatOpenTabTraceProvider")(),g;a[0]!==b||a[1]!==e||a[2]!==f?(g=function(a,c,g){var h=function(){return b(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:g!==!0},{threadKeyDescriptor:a,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))};e(Date.now(),"","messenger");return l(a.threadKey)?h():f(function(b){d("MWChatInteraction").set((i||(i=d("I64"))).to_string(a.threadKey),b);return h()},(i||(i=d("I64"))).to_int32(a.threadType),c,a.threadKey,a.isUnread)},a[0]=b,a[1]=e,a[2]=f,a[3]=g):g=a[3];return g}function n(a,e,f){return function(g){g=(i||(i=d("I64"))).to_string(g);if(b("cr:7004")!=null&&d("LSMessagingThreadTypeUtil").isSecure(a))return e==="message_requests"?d("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({thread_key:g}):d("MWInboxRouteBuilder").buildE2EEThreadURL({thread_key:g});if(f!=null)return c("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[f.threadKey,g],idorvanity:f.groupId});if(e==null)return d("MWInboxRouteBuilder").buildURL({thread_key:g});switch(e){case"archived":return d("MWInboxArchivedThreadsRouteBuilder").buildURL({thread_key:g});case"business_support":return d("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({thread_key:g});case"marketplace":return d("MWInboxMarketplaceThreadsRouteBuilder").buildURL({thread_key:g});case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildURL({thread_key:g});default:return d("MWInboxRouteBuilder").buildURL({thread_key:g})}}}function o(a,b){a=a.threadKey;return d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(a),b)}function a(){var a=k(18),b=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=c("useCometRouterDispatcher")(),f=j(d("MWNavigationContext").context),g=j(c("CometPassiveGetRouterStateContext")),h=m(),l=c("useMaybeShowCSAMBlockAsync")(),p;a[0]!==g||a[1]!==f?(p=function(a,b){var d,e=c("getTopMostRouteCometEntityKey")(g==null?void 0:g()),h=e==null?void 0:e.entity_type;e=c("getGroupThreadViewParams")(e,g==null?void 0:g());d=(d=f)!=null?d:n(b,h,e);return d(a)},a[0]=g,a[1]=f,a[2]=p):p=a[2];var q=p;a[3]!==e||a[4]!==q?(p=function(a,b){var c=a.isUnread,f=a.threadKey;a=a.threadType;if(e!=null){var g=d("MessengerWebEntryPointsUtil").cast(b);e.go(q(f,a),{traceParams:{TLTV:"true",entrypoint:g,hasBadge:c!=null?c.toString():"",inboxEntrypoint:b,isSecure:d("LSMessagingThreadTypeUtil").isSecure(a)?"true":"false",thread_id:(i||(i=d("I64"))).to_string(f),thread_type:i.to_string(a)}})}},a[3]=e,a[4]=q,a[5]=p):p=a[5];var r=p;a[6]!==l||a[7]!==r?(p=function(a,b){o(a,b);return l({onProceed:function(){r(a,b)},threadKey:a.threadKey})},a[6]=l,a[7]=r,a[8]=p):p=a[8];var s;a[9]!==b||a[10]!==l||a[11]!==h||a[12]!==r?(s=function(a,c,d){o(a,c);if(b())return l({onProceed:function(){h(a,c,d)},threadKey:a.threadKey});else return l({onProceed:function(){r(a,c)},threadKey:a.threadKey})},a[9]=b,a[10]=l,a[11]=h,a[12]=r,a[13]=s):s=a[13];var t;a[14]!==q||a[15]!==p||a[16]!==s?(t={getUrlFromThreadKey:q,openInbox:p,openTabOrInbox:s},a[14]=q,a[15]=p,a[16]=s,a[17]=t):t=a[17];p=t;return p}g["default"]=a}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Dual-thread-cutover] Failed to navitage to open messages thread ",""]);k=function(){return a};return a}var l=h||(h=d("react")),m=h.useCallback;function a(a){var e=a.message,f=c("useAsyncReStore")(),g=c("useMWNavigation")();a=m(function(){c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(e.threadKey))))==null?void 0:b.jid;f&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:f,threadType:i.ofNumber(1)})},"readwrite"));b=f?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(f)):null;b?g.openTabOrInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},"preCutoverThread"):void d("WALoggerDeferred").LOG(k(),(j||(j=d("I64"))).to_string(e.threadKey))});return function(b){return a.apply(this,arguments)}}())},[f,e.threadKey,g]);var h=e.adminMsgCtaTitle;a=h!=null?l.jsx(c("MWXLink.react"),{onClick:a,role:"button",children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:h})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgViewPoll.react",["I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","justknobx","react","useMWChatPollXMAActionHandler","useMWHasPollsVotingEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.unstable_useMemoCache;function a(a){var b=l(21),e=a.message,g=(h||(h=c("useReStore")))();b[0]!==g.tables.admin_message_ctas||b[1]!==e.threadKey||b[2]!==e.messageId||b[3]!==e.adminMsgCtaId?(a=function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},b[0]=g.tables.admin_message_ctas,b[1]=e.threadKey,b[2]=e.messageId,b[3]=e.adminMsgCtaId,b[4]=a):a=b[4];var j;b[5]!==g||b[6]!==e?(j=[g,e],b[5]=g,b[6]=e,b[7]=j):j=b[7];var m=d("ReQLSuspense").useFirst(a,j,f.id+":28");a=c("useMWHasPollsVotingEnabled")(e.threadKey);var n=c("useMWChatPollXMAActionHandler")();b[8]!==n||b[9]!==m?(j=function(){n(m==null?void 0:m.targetId,m==null?void 0:m.targetTitle)},b[8]=n,b[9]=m,b[10]=j):j=b[10];m==null?void 0:m.targetId;m==null?void 0:m.targetTitle;j=j;if(!c("justknobx")._("1987")||!a||m==null){b[11]!==e?(a=k.jsx(c("MWAdminTextLayout.react"),{message:e}),b[11]=e,b[12]=a):a=b[12];return a}b[13]!==m?(a=m==null?void 0:m.title,b[13]=m,b[14]=a):a=b[14];a=a;var o;b[15]!==a||b[16]!==j?(o=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:j,children:a}):null,b[15]=a,b[16]=j,b[17]=o):o=b[17];a=o;b[18]!==a||b[19]!==e?(j=k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e}),b[18]=a,b[19]=e,b[20]=j):j=b[20];return j}g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j;function a(a){var b=k(18),e=a.message,g=(h||(h=c("useReStore")))();b[0]!==g.tables.admin_message_ctas||b[1]!==e.threadKey||b[2]!==e.messageId||b[3]!==e.adminMsgCtaId?(a=function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},b[0]=g.tables.admin_message_ctas,b[1]=e.threadKey,b[2]=e.messageId,b[3]=e.adminMsgCtaId,b[4]=a):a=b[4];var j;b[5]!==g||b[6]!==e?(j=[g,e],b[5]=g,b[6]=e,b[7]=j):j=b[7];a=d("ReQLSuspense").useFirst(a,j,f.id+":24");b[8]!==a?(j=a==null?void 0:a.title,b[8]=a,b[9]=j):j=b[9];j=j;var m;b[10]!==a?(m=a==null?void 0:a.actionUrl,b[10]=a,b[11]=m):m=b[11];a=m;b[12]!==j||b[13]!==a?(m=j!=null&&a!=null?l.jsx(c("MWXLink.react"),{color:"primary",href:a,target:"_blank",children:j}):null,b[12]=j,b[13]=a,b[14]=m):m=b[14];j=m;b[15]!==j||b[16]!==e?(a=l.jsx(c("MWAdminTextLayout.react"),{cta:j,message:e}),b[15]=j,b[16]=e,b[17]=a):a=b[17];return a}g["default"]=a}),98);
__d("MWV2SBGProactiveChatMutationUrl.react",["CometRelay","I64","LWICometProactiveChatOptInMutation.react","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j;function a(a){var b=k(19),e=a.message,g=a.opted_in,j=d("CometRelay").useRelayEnvironment(),m=(h||(h=c("useReStore")))();b[0]!==m.tables.admin_message_ctas||b[1]!==e.threadKey||b[2]!==e.messageId||b[3]!==e.adminMsgCtaId?(a=function(){var a;return d("ReQL").fromTableAscending(m.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},b[0]=m.tables.admin_message_ctas,b[1]=e.threadKey,b[2]=e.messageId,b[3]=e.adminMsgCtaId,b[4]=a):a=b[4];var n;b[5]!==m||b[6]!==e?(n=[m,e],b[5]=m,b[6]=e,b[7]=n):n=b[7];a=d("ReQLSuspense").useFirst(a,n,f.id+":32");if(b[8]!==a){n=(n=a==null?void 0:a.title)!=null?n:"";b[8]=a;b[9]=n}else n=b[9];a=n;b[10]!==j||b[11]!==g?(n=function(){return d("LWICometProactiveChatOptInMutation.react").commitProactiveChatOptInMutation({entryPoint:"sbg_messenger_xmat",environment:j,optInValue:g,setLoading:function(){},setOptedIn:function(){}})},b[10]=j,b[11]=g,b[12]=n):n=b[12];n=n;var o;b[13]!==a||b[14]!==n?(o=a!=null?l.jsx(c("MWAdminMsgCtaLink.react"),{onClick:n,children:a}):null,b[13]=a,b[14]=n,b[15]=o):o=b[15];a=o;b[16]!==a||b[17]!==e?(n=l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e}),b[16]=a,b[17]=e,b[18]=n):n=b[18];return n}g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgICDC.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgViewPoll.react","MWV2AdminMsgWebUrl.react","MWV2SBGProactiveChatMutationUrl.react","MWXText.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={color:{color:"x186z157",fontWeight:"xk50ysn",$$css:!0},container:{paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function m(a){if(a!=null)return a.isAdminMessage;else return!1}function n(a){var b=j(9),d=a.children,e=a.nextMessage;a=a.prevMessage;a=m(a)?l.containerThatProceedsAdminMessage:!1;e=m(e)?l.containerThatPrecedesAdminMessage:!1;var f;b[0]!==a||b[1]!==e?(f=(h||(h=c("stylex")))(l.container,a,e),b[0]=a,b[1]=e,b[2]=f):f=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a="xr1yuqi xkrivgy x4ii5y1 x1gryazu x1ekjcvx x2b8uid x13faqbe",b[3]=a):a=b[3];b[4]!==d?(e=k.jsx("div",{className:a,children:d}),b[4]=d,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(a=k.jsx("div",{className:f,"data-testid":void 0,children:e}),b[6]=f,b[7]=e,b[8]=a):a=b[8];return a}function o(a){var b=j(40);a=a.message;bb1:switch(a.adminMsgCtaType){case"admin_msg_armadillo_ephemeral_change_duration":var d;b[0]!==a?(d=k.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:a}),b[0]=a,b[1]=d):d=b[1];return d;case"admin_msg_dual_thread_cutover":b[2]!==a?(d=k.jsx(c("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:a}),b[2]=a,b[3]=d):d=b[3];return d;case"admin_msg_web_url":b[4]!==a?(d=k.jsx(c("MWV2AdminMsgWebUrl.react"),{message:a}),b[4]=a,b[5]=d):d=b[5];return d;case"admin_msg_sbg_proactive_chat_opt_in":b[6]!==a?(d=k.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:a,opted_in:!0}),b[6]=a,b[7]=d):d=b[7];return d;case"admin_msg_sbg_proactive_chat_opt_out":b[8]!==a?(d=k.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:a,opted_in:!1}),b[8]=a,b[9]=d):d=b[9];return d;case"admin_msg_p2b_privacy_disclosure":if(c("gkx")("12724")){b[10]!==a?(d=k.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:a}),b[10]=a,b[11]=d):d=b[11];return d}else break bb1;case"admin_notification_messages_opt_out":b[12]!==a?(d=k.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:a}),b[12]=a,b[13]=d):d=b[13];return d;case"admin_notification_messages_opt_in":b[14]!==a?(d=k.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:a}),b[14]=a,b[15]=d):d=b[15];return d;case"admin_msg_thread_level_cutover":b[16]!==a?(d=k.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:a}),b[16]=a,b[17]=d):d=b[17];return d;case"admin_msg_e2ee_thread":return null;case"admin_msg_cutover_rollback":b[18]!==a?(d=k.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:a}),b[18]=a,b[19]=d):d=b[19];return d;case"xmat_instant_game_bot_message_subscribe":b[20]!==a?(d=k.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:a,shouldSubscribe:!0}),b[20]=a,b[21]=d):d=b[21];return d;case"xmat_instant_game_bot_message_unsubscribe":b[22]!==a?(d=k.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:a,shouldSubscribe:!1}),b[22]=a,b[23]=d):d=b[23];return d;case"admin_msg_view_pin_msgs_v2":b[24]!==a?(d=k.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:a}),b[24]=a,b[25]=d):d=b[25];return d;case"xmat_instant_game_custom_update_message_mute":b[26]!==a?(d=k.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:a,shouldMute:!0}),b[26]=a,b[27]=d):d=b[27];return d;case"xmat_instant_game_custom_update_message_unmute":b[28]!==a?(d=k.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:a,shouldMute:!1}),b[28]=a,b[29]=d):d=b[29];return d;case"admin_message_service_booking_legal_disclaimer":b[30]!==a?(d=k.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:a}),b[30]=a,b[31]=d):d=b[31];return d;case"admin_msg_admod_post_msg_remove_actions":b[32]!==a?(d=k.jsx(c("MWV2AdminMsgPostMessageRemoveActions.react"),{message:a}),b[32]=a,b[33]=d):d=b[33];return d;case"admin_msg_poll_details":b[34]!==a?(d=k.jsx(c("MWV2AdminMsgViewPoll.react"),{message:a}),b[34]=a,b[35]=d):d=b[35];return d;case"admin_msg_icdc":b[36]!==a?(d=k.jsx(c("MWV2AdminMsgICDC.react"),{message:a}),b[36]=a,b[37]=d):d=b[37];return d}b[38]!==a?(d=k.jsx(c("MWAdminTextLayout.react"),{message:a}),b[38]=a,b[39]=d):d=b[39];return d}function a(a){var b=j(7),d=a.message,e=a.nextMessage;a=a.prevMessage;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x186z157 xk50ysn",b[0]=f):f=b[0];b[1]!==d?(f=k.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:k.jsx("div",{className:f,children:k.jsx(o,{message:d})})}),b[1]=d,b[2]=f):f=b[2];b[3]!==e||b[4]!==a||b[5]!==f?(d=k.jsx(n,{nextMessage:e,prevMessage:a,children:f}),b[3]=e,b[4]=a,b[5]=f,b[6]=d):d=b[6];return d}g.isAdminMessage=m;g.MWV2ChatAdminMessageContainer=n;g.MWV2ChatAdminMessage=a}),98);
__d("MWV2MessageStartOfGroupContent.react",["I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).unstable_useMemoCache,k=h;function l(a,b){if(b!=null)return(i||(i=d("I64"))).compare(i.abs(i.sub(a.timestampMs,b.timestampMs)),i.of_string("900000"))>0;else return!0}function m(a){var b=j(12),e=a.domElementRef,f=a.message,g=a.prevMessage;a=a.renderTextWrapper;if(l(f,g)){var h;b[0]!==f.timestampMs?(h=(i||(i=d("I64"))).to_float(f.timestampMs),b[0]=f.timestampMs,b[1]=h):h=b[1];var m;b[2]!==a||b[3]!==h?(m=k.jsx(c("MWPDateBreak.react"),{renderTextWrapper:a,timestamp:h}),b[2]=a,b[3]=h,b[4]=m):m=b[4];b[5]!==f||b[6]!==g||b[7]!==m?(a=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:k.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:f,prevMessage:g,children:m})}),b[5]=f,b[6]=g,b[7]=m,b[8]=a):a=b[8];b[9]!==e||b[10]!==a?(h=k.jsx(c("MWV2MessageRowSimple.react"),{domElementRef:e,children:a}),b[9]=e,b[10]=a,b[11]=h):h=b[11];return h}else return null}function a(a){var b=j(5),c=a.domElementRef,d=a.message,e=a.prevMessage;a=a.renderTextWrapper;var f;b[0]!==c||b[1]!==d||b[2]!==e||b[3]!==a?(f=k.jsx(m,{domElementRef:c,message:d,prevMessage:e,renderTextWrapper:a}),b[0]=c,b[1]=d,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("MWWorkForeignEntityTypeUtils",["I64","LSContactWorkForeignEntityType","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").NOT_FOREIGN))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)))return"NOT_FOREIGN";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").NOT_FOREIGN_LIMITED)))return"LIMITED";else return"FOREIGN"}g.getWorkForeignEntityType=a}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a({text:null});g["default"]=b}),98);
__d("LSReadReceiptSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("useMWIsReadReceiptsDisabledForUser",["LSIntEnum","LSReadReceiptSettingState","MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).unstable_useMemoCache;function a(){var a=k(6),b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g;a[0]!==b.tables.messaging_privacy_settings||a[1]!==e?(g=function(){return d("ReQL").fromTableAscending(b.tables.messaging_privacy_settings).getKeyRange(e)},a[0]=b.tables.messaging_privacy_settings,a[1]=e,a[2]=g):g=a[2];var j;a[3]!==b||a[4]!==e?(j=[b,e],a[3]=b,a[4]=e,a[5]=j):j=a[5];a=d("ReQLSuspense").useFirst(g,j,f.id+":23");if(a==null)return c("MessengerWebPrivacySettings").read_receipts_disabled===c("LSReadReceiptSettingState").DISABLED;g=a.readReceiptsDisabled!=null?(i||(i=d("LSIntEnum"))).toNumber(a.readReceiptsDisabled):c("LSReadReceiptSettingState").DEFAULT;return g===c("LSReadReceiptSettingState").DISABLED}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForThread",["LSIntEnum","LSReadReceiptSettingState","MWLSThread","react","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).unstable_useMemoCache;function a(a){var b=j(1),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return(i||(i=d("LSIntEnum"))).toNumber(a.readReceiptsDisabledV2)},b[0]=e):e=b[0];b=d("MWLSThread").useThread(a,e);a=c("useMWIsReadReceiptsDisabledForUser")();return b!=null&&b!==c("LSReadReceiptSettingState").DEFAULT?b===c("LSReadReceiptSettingState").DISABLED:a}g["default"]=a}),98);
__d("MWV2IsTabFocusedContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.unstable_useMemoCache,l=e(!1);function a(a){var b=k(3),c=a.children;a=a.isFocused;var d;b[0]!==a||b[1]!==c?(d=i.jsx(l.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=d):d=b[2];return d}function b(){return j(l)}g.MWV2IsTabFocusedContextProvider=a;g.useIsTabFocused=b}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:3101","cr:6138"],(function(a,b,c,d,e,f,g){"use strict";var h=b("cr:3101")||b("cr:6138");a={getRanges:function(a){var b=[],c=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var e=a.getEntity();b.push({id:e.id,length:a.getTextContent().length,offset:c,type:d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)?a.getRangeType():"p"})}if(h!=null&&a instanceof h.MessengerLexicalCommandNode){e=a.getEntity();b.push({id:e.commandId,length:a.getTextContent().length,offset:c,type:a.getRangeType()})}c+=a.getTextContent().length})});return b}};c=a;g["default"]=c}),98);
__d("MWV2ComposerActionsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;c=b.createContext;var j=b.useContext;b.useMemo;var k=b.unstable_useMemoCache,l=c({});function a(a){var b=k(6),c=a.children,d=a.onMessageSendAttempt;a=j(l);var e=a.onMessageSendAttempt;b[0]!==e||b[1]!==d?(a={onMessageSendAttempt:function(a){e==null?void 0:e(a),d==null?void 0:d(a)}},b[0]=e,b[1]=d,b[2]=a):a=b[2];a=a;a=a;var f;b[3]!==a||b[4]!==c?(f=i.jsx(l.Provider,{value:a,children:c}),b[3]=a,b[4]=c,b[5]=f):f=b[5];return f}g.MWV2ComposerActionsContext=l;g.MWV2ComposerActionsListener=a}),98);
__d("MWV2ComposerHasContentContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext;c.useMemo;var k=c.useRef,l=c.unstable_useMemoCache,m=e({hasContentRef:void 0});function a(a){var b=l(5);a=a.children;var c=k(!1),d;b[0]!==c?(d={hasContentRef:c},b[0]=c,b[1]=d):d=b[1];c=d;d=c;b[2]!==d||b[3]!==a?(c=i.jsx(m.Provider,{value:d,children:a}),b[2]=d,b[3]=a,b[4]=c):c=b[4];return c}function b(){return j(m)}g.MWV2ComposerHasContentContextProvider=a;g.useComposerHasContext=b}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(29),e=a.height;a=a.mediaStaging;var f=c("useMWPThreadTheme")();f=f.threadTheme;var g;b[0]!==a.hasError||b[1]!==f?(g=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(f.fallbackColor),b[0]=a.hasError,b[1]=f,b[2]=g):g=b[2];f=g;g=Math.ceil(a.progress*100);var h=(e/2).toString();h="M 0,"+h+" L 100,"+h;if(a.progress===1)return null;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a="x1ey2m1c x10l6tqk x17qophe xh8yej3",b[3]=a):a=b[3];var k;b[4]!==e?(k=e.toString(),b[4]=e,b[5]=k):k=b[5];var l;b[6]!==k?(l={height:k},b[6]=k,b[7]=l):l=b[7];k="0 0 100 "+e.toString();var m;b[8]!==e?(m=e.toString(),b[8]=e,b[9]=m):m=b[9];var n;b[10]!==h||b[11]!==m?(n=j.jsx("path",{d:h,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:m}),b[10]=h,b[11]=m,b[12]=n):n=b[12];m=g===0?0:e;b[13]!==m?(e=m.toString(),b[13]=m,b[14]=e):e=b[14];m=100-g|0;b[15]!==m?(g=m.toString(),b[15]=m,b[16]=g):g=b[16];b[17]!==g?(m={strokeDasharray:"100",strokeDashoffset:g,transition:"stroke-dashoffset .5s, stroke .5s"},b[17]=g,b[18]=m):m=b[18];b[19]!==h||b[20]!==f||b[21]!==e||b[22]!==m?(g=j.jsx("path",{d:h,stroke:f,strokeLinecap:"round",strokeWidth:e,style:m}),b[19]=h,b[20]=f,b[21]=e,b[22]=m,b[23]=g):g=b[23];b[24]!==l||b[25]!==k||b[26]!==n||b[27]!==g?(h=j.jsxs("svg",{"aria-hidden":!0,className:a,preserveAspectRatio:"none",style:l,viewBox:k,children:[n,g]}),b[24]=l,b[25]=k,b[26]=n,b[27]=g,b[28]=h):h=b[28];return h}g["default"]=a}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWXText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;e=b.createContext;var m=b.createElement;b.useCallback;var n=b.useRef,o=b.unstable_useMemoCache,p=e({current:{enabled:!0,handler:null}});function q(a){var b=a.children;a=a.fileUploadHandlerConfigRef;return m(p.Provider,{children:b,value:a})}var r={dropzone:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function s(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function t(a){switch(a){case 0:return void 0;case 1:return h._("__JHASH__M7mGXjgzxvT__JHASH__").toString();default:return h._("__JHASH__UaK2GgtSNQH__JHASH__").toString()}}function u(a,b){var d=t(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:d,errorTitleText:d})},"readwrite"))}function v(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var w=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=o(27),e=a.children,f=a.isDisabled,g=a.isMediaOnly,k=a.thread;a=a.xstyle;var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m={enabled:!1,handler:null},b[0]=m):m=b[0];var p=n(m);m=n(null);var t=(i||(i=c("useReStore")))(),x;b[1]!==k?(x=k!=null?(d("MWCMThreadTypes.react").isBroadcastThread(k.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(k.threadType)||d("LSMessagingThreadTypeUtil").isAiBot(k.threadType))&&!d("LSThreadBitOffset").has(56,k):!1,b[1]=k,b[2]=x):x=b[2];var y=x;k=!c("gkx")("12713");b[3]!==f||b[4]!==y?(x=f===!0||k||y,b[3]=f,b[4]=y,b[5]=x):x=b[5];var z=x;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(k=function(a){var b;return((b=p.current)==null?void 0:b.handler)==null?!1:!s(a).some(function(a){return w.has(a)})},b[6]=k):k=b[6];f=k;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){return!1},b[7]=x):x=b[7];k=c("useFileDragEvents")(x,void 0,f);b[8]!==y||b[9]!==g||b[10]!==t||b[11]!==z?(x=function(a){var b;if(((b=p.current)==null?void 0:b.enabled)===!1)return;b=(b=p.current)==null?void 0:b.handler;if(b==null){if(!y){var d=p.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_comet")}return}d=Array.from(a);a=g?d.filter(v):d;d.length!==a.length&&u(t,d.length);!z&&a.length!==0&&b(a)},b[8]=y,b[9]=g,b[10]=t,b[11]=z,b[12]=x):x=b[12];f=x;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(a){return!0},b[13]=x):x=b[13];c("useFileDragEvents")(f,m.current,x);x=(f=a)!=null?f:!1;b[14]!==x?(a=(j||(j=c("stylex")))(r.root,x),b[14]=x,b[15]=a):a=b[15];b[16]!==p||b[17]!==e||b[18]!==z||b[19]!==k?(f=l.jsx(q,{fileUploadHandlerConfigRef:p,children:e}),x=!z&&k?l.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:l.jsx(c("MWXText.react"),{type:"body1",children:h._("__JHASH__Cpq0daihgaG__JHASH__")})}):null,b[16]=p,b[17]=e,b[18]=z,b[19]=k,b[20]=f,b[21]=x):(f=b[20],x=b[21]);b[22]!==a||b[23]!==m||b[24]!==f||b[25]!==x?(e=l.jsxs("div",{className:a,ref:m,children:[f,x]}),b[22]=a,b[23]=m,b[24]=f,b[25]=x,b[26]=e):e=b[26];return e}g.mWV2FileDropzoneContext=p;g.MWV2FileDropzone=a}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d,e=a.commandId,f=a.commandPrefix,g=a.handle;a=a.rangeType;d=b.call(this,""+((d=f)!=null?d:"")+g,c)||this;d.__handle=g;d.__commandId=e;d.__rangeType=a;d.__commandPrefix=f;return d}a.getType=function(){return"command"};a.clone=function(b){var c,d=b.getEntity();return new a({commandId:d.commandId,commandPrefix:(c=b.__commandPrefix)!=null?c:"",handle:d.handle,rangeType:d.rangeType},b.__key)};a.importJSON=function(a){return i({commandId:a.commandId,handle:a.handle,rangeType:a.rangeType})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType}};c.getRangeType=function(){return this.__rangeType};c.getCommandId=function(){return this.__commandId};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return j(a,b).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:b,syncChannel:(h||(h=d("I64"))).neg_one,tags:h.to_string(e)+","+h.to_string(f)})})}g.logMediaSendStart=a}),98);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=a.take(1);var e=(h||(h=c("ErrorGuard"))).guard(b),f=!1,g=null,i=a.subscribe(function(a,b){if(f)return;switch(b.operation){case"delete":(g==null||g.current!==void 0)&&(g={current:void 0},e(g.current));return;case"add":case"put":((a=g)==null?void 0:a.current)!==b.value&&(g={current:b.value},e(g.current))}});c("promiseDone")(d("ReQL").firstAsync(a),function(a){!f&&g==null&&(g={current:a},e(a))});return function(){f||(f=!0,i==null?void 0:i())}}g.subscribeToFirst=a}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","err","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a,"received_successful_server_ack"),d("sendToSentQPLLogger").markSendToSentSuccess(a),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function k(a,b){d("sendToSentQPLLogger").markSendToSentFail(a,c("err")("fail_to_send_message")),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function l(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"sending_message")}function a(a){var c=a.db,e=a.initiatingSource,f=a.isCommunityEvent,g=a.isMessageRequest,m=a.s2sInstanceKey,n=a.threadType,o=a.traceSendMessageAPI,p={initiatingSource:e,isCommunityEvent:f,isMessageRequest:g,mwVersion:d("MWVersion").v2,threadType:n};return function(a){d("MWLSLogSend").logSentHeroInteraction(o,a,p);d("MWChatInteraction").set(d("MWChatInteraction").s2sKey(a),String(m));d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:babelHelpers["extends"]({},d("MWLSLogSend").getMessageSendAnnotations(p))});d("sendToSentQPLLogger").addSendToSentAnnotations(m,{bool:{subscription_points_gk:!0}});var e=!1,f=d("ReQL").fromTableAscending(c.tables.messages.index("optimistic")).getKeyRange(a),g=d("ReQLSubscribe").subscribeToFirst(f,function(b){b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2))?(e=!0,j(m,a),g()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(4))?(e=!0,k(m,a),g()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(1))&&l(m)});window.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!e){var a=(yield d("ReQL").firstAsync(f));e||d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{status_after_10s:a?""+(i||(i=d("LSIntEnum"))).toNumber(a.sendStatusV2):"none"}})}}),1e4);window.setTimeout(function(){g()},6e4)}}g["default"]=a}),98);
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"add_messenger_contact",c.i64.cast([0,308]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSAddMessengerContactStoredProcedure",["LSAddMessengerContact"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.contactId;return c("LSAddMessengerContact").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return;c("promiseDone")(e.runInTransaction(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g;g=(g=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,f)}))))!=null?g:[void 0,void 0];g[0];g=g[1];if(g==null)return;var i=babelHelpers["extends"]({},g,{contactViewerRelationship:(h||(h=d("I64"))).of_string("2")});yield b.table("contacts").upsert([g.id],i);d("LSMessagingThreadTypeUtil").isSecure(a.threadType)&&(yield c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(b),{contactId:g.id}))});return function(a){return g.apply(this,arguments)}}(),"readwrite"))}g.call=a}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","I64","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","MWPActor.react","MWPReplyContext.react","MessagePowerUp","MultipleTabsLogger","asyncToGeneratorRuntime","gkx","react","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("12607")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).minus_one,tags:b}))});return m.apply(this,arguments)}function a(a){var e=a.authorityLevel,f=a.onOptimisticMessageCreation,g=a.pluginType,h=a.skipUrlPreviewGen,m=a.threadKey,n=a.threadType,o=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var p=a.reply,q=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(a){var k=a.afterSend,r=a.attributionAppId,s=a.dataTraceId,t=a.externalAttachmentUrl,u=a.hotEmojiSize,v=a.logSendPoint,w=a.mentionData,x=a.messageText,y=a.messageTypeParams,z=a.optimisticAttachmentPreview,A=a.platformToken,B=a.profileRanges,C=a.richTextFormatType,D=a.s2sInstanceKey,E=a.sendFirstMessageSeparately,F=E===void 0?!1:E,G=a.setupS2SLogging,H=a.source,I=a.stickerID;E=a.transaction;return J(E);function J(a){return K.apply(this,arguments)}function K(){K=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("LSFactory")(a),E=c("gkx")("7566");yield l(a,(i||(i=d("I64"))).to_string(m),s);a=(yield d("MultipleTabsLogger").hasMultipleTabs());var J=y.hasAttachment,K=y.hasGif,L=y.hasLinks,M=y.hasSticker,N=y.hasText;b=(yield c("LSOptimisticSendMessageV2StoredProcedure")(b,{extraSendMessageParams:d("LSShape").ofRecord({attribution_app_id:r,calculate_denormalizations:!1,data_trace_id:(b=s)!=null?b:void 0,external_attachment_url:t,hot_emoji_size:u,initiating_source:q,mark_read:i.ge(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:w,multitab_env:a,optimistic_attachment_preview:z,platform_token:A,plugin_type:g,power_up_style:j.ofNumber(c("MessagePowerUp").NONE),qpl_instance_key:D==null?void 0:D.toString(),reply_source_id:p==null?void 0:p.messageId,reply_source_type:p!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:p!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,rich_text_format_type:C,skip_url_preview_gen:h,source:H,sticker_id:I,text_has_links:L&&E}),mailboxType:j.ofNumber(c("LSMailboxType").MESSENGER),senderId:o,text:x,threadKey:m,threadType:n}));v("create_optimistic_message_success");if(!J){a=b[0];G(a)}f!=null&&f({TAG:0,hasLink:L,hasMention:B!=null&&B.length>0,isGIF:K,isReply:!!(p&&p.messageId!==""),isSticker:M,isText:N,offlineThreadingId:b[0]});E=b[0];k!=null&&k(E);return F===!0?null:b});return K.apply(this,arguments)}},[m,q,e,g,p,h,o,n,f])}g["default"]=a}),98);
__d("useMWV2SendOpenMessageImpl",["react","useMWV2SendOpenMessageImplShared"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(a){var b=i(7),d=a.onOptimisticMessageCreation,e=a.pluginType,f=a.skipUrlPreviewGen;a=a.thread;var g;b[0]!==a.authorityLevel||b[1]!==a.threadKey||b[2]!==a.threadType||b[3]!==d||b[4]!==e||b[5]!==f?(g={authorityLevel:a.authorityLevel,onOptimisticMessageCreation:d,pluginType:e,skipUrlPreviewGen:f,threadKey:a.threadKey,threadType:a.threadType},b[0]=a.authorityLevel,b[1]=a.threadKey,b[2]=a.threadType,b[3]=d,b[4]=e,b[5]=f,b[6]=g):g=b[6];return c("useMWV2SendOpenMessageImplShared")(g)}g["default"]=a}),98);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?b.i64.cast([0,1]):b.i64.cast([0,3])})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSInsertNewMediaSendStoredProcedure",["LSInsertNewMediaSend"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.offlineAttachmentId;d[1]=b.offlineThreadingId;d[2]=b.inMessageIndex;d[3]=b.attachmentType;d[4]=b.shouldTranscode;d[5]=b.useDoublePhase;d[6]=b.sendByServer;d[7]=b.isSecure;return c("LSInsertNewMediaSend").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],void 0,a[7],a[8],a[9],a[10],void 0,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[3]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],c.filter(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:c.i64.cast([0,20])}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],void 0)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure",["LSLocalApplyOptimisticMessageWithAttachments"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.senderId;d[1]=b.threadKey;d[2]=b.threadType;d[3]=b.text;d[4]=b.snippet;d[5]=b.snippetHasEmoji;d[6]=b.stickerId;d[7]=b.replySourceId;d[8]=b.replySourceType;d[9]=b.replySourceTypeV2;d[10]=b.isForwarded;d[11]=b.attachments;d[12]=b.mentionData;return c("LSLocalApplyOptimisticMessageWithAttachments").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWPSendMessageLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function a(a,b,c,d,e,f,g,i){h.onReady(function(h){return h.log({actor:c,attachmentFbids:e,attachmentType:g,backend:0,hasReply:i,offlineThreadingId:d,sendType:0,source:f,threadKey:a,threadType:b})})}g.log=a}),98);
__d("useMWV2SendOpenStagedMedia",["ArmadilloDataTraceCheckPoint","I64","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MWPSendMessageLogger","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","asyncToGeneratorRuntime","gkx","react","updateAndFlushLSDataTrace","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useContext,l=e.unstable_useMemoCache;function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(i||(i=d("I64"))).of_int32(e)))});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("12607")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).minus_one,tags:b}))});return p.apply(this,arguments)}function a(a){var e=l(11),f=a.onOptimisticMessageCreation,g=a.thread,h=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var n=a.reply,p=c("useLSMessagingInitiatingSource")();e[0]!==g?(a=d("LSThreadBitOffset").has(40,g),e[0]=g,e[1]=a):a=e[1];var q=a,r;e[2]!==g.threadKey||e[3]!==g.threadType||e[4]!==h||e[5]!==n||e[6]!==q||e[7]!==p||e[8]!==f?(a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.firstAttachmentTypeContents,e=a.isFirstMessage,k=a.isFirstMessageText,l=a.mediaStagings,r=a.sendFirstMessageSeparately,s=a.setupS2SLogging,t=a.source,u=a.transaction;a=e===void 0?!1:e;e=r===void 0?!1:r;var v=c("LSFactory")(u);r={contents:b};b=l[0];if(l.length===0){d("MWPSendMessageLogger").log(g.threadKey,g.threadType,h,void 0,[],t,r.contents,n!=null);return}var w={contents:!0};r.contents=d("MessagingLoggingUtils").convertI64ToAttachmentType(b.attachmentType);b=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(l,q);for(var x=0;x<b.length;x++)if(e===!1||x===0&&a===!0&&k===!1||a===!1){var y=b[x],z=c("LSGenerateTraceId")(),A=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(v,{attachments:c("LSVec").ofArray(y.map(d("LSShape").ofRecord)),replySourceId:n==null?void 0:n.messageId,replySourceType:n!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:n!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:h,threadKey:g.threadKey,threadType:g.threadType})),B=A[0];x===0&&s(B);yield u.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:p,markThreadRead:!1,messageId:void 0,offlineThreadingId:B,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(i||(i=d("I64"))).of_string(B),threadAttributionSource:t,threadKey:g.threadKey});f!==void 0&&f({TAG:2,numberOfAttachments:y.length,offlineThreadingId:B});yield m(u,z,i.of_int32(y.length),r.contents);A=function*(a){var b=y[a];yield c("LSInsertNewMediaSendStoredProcedure")(v,{attachmentType:b.attachment_type,inMessageIndex:(i||(i=d("I64"))).of_int32(a),isSecure:!1,offlineAttachmentId:b.attachment_fbid,offlineThreadingId:B,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});a=l.find(function(a){return a.offlineAttachmentId===b.offline_attachment_id});if(a!=null){var e=a.fbid;e!=null&&(yield c("LSMarkSubJobCompletedV2StoredProcedure")(v,{fbid:e,offlineAttachmentId:b.attachment_fbid}),yield d("MWPOpenComposerUtils").deleteMediaStaging(u,b.attachment_fbid),yield d("MWPOpenComposerUtils").updateAttachment(u,g.threadKey,B,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:(i||(i=d("I64"))).to_string(e)})}))}w.contents=!1;yield d("MWPOpenComposerUtils").updateMediaStaging(u,b.attachment_fbid,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:!0,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}});c("gkx")("184")&&(yield d("MWPOpenComposerUtils").updateAttachment(u,g.threadKey,B,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))};for(var C=0;C<y.length;C++)yield* A(C);d("MWPSendMessageLogger").log(g.threadKey,g.threadType,h,B,y.map(function(a){return a.attachment_fbid}),t,r.contents,n!=null);yield d("MWPOpenComposerUtils").resumeSendJob(v,B,(A=z)!=null?A:void 0);yield o(u,i.to_string(g.threadKey),z);yield c("updateAndFlushLSDataTrace")(u,z)}C=(i||(i=d("I64"))).to_string(g.threadKey);A=d("LSMessagingThreadTypeUtil").isGroup(g.threadType)?[C,null]:[null,C];var D=A[0],E=A[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:w.contents?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:E,thread_fbid:D}})});return function(b){return a.apply(this,arguments)}}(),r=[q,g.threadKey,g.threadType,h,n,p,f],e[2]=g.threadKey,e[3]=g.threadType,e[4]=h,e[5]=n,e[6]=q,e[7]=p,e[8]=f,e[9]=a,e[10]=r):(a=e[9],r=e[10]);return d("Int64Hooks").useCallbackInt64(a,r)}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","Int64Hooks","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MWPReplyContext.react","MessagingLoggingUtils","OfflineThreadingId","ReQL","asyncToGeneratorRuntime","promiseDone","react","useLSMessagingInitiatingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=i||d("react");var l=e.useContext,m=e.unstable_useMemoCache;function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(k||(k=d("I64"))).of_int32(e)))});return o.apply(this,arguments)}function p(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.tables.attachments).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a){var e=m(14),f=a.onOptimisticMessageCreation,g=a.onUploadFailure,i=a.onUploadStart,o=a.onUploadSuccess,q=a.sendMessageLogger,r=a.skipUrlPreviewGen,s=a.threadKey,t=a.threadType,u=(h||(h=c("useReStore")))(),v=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var w=a.reply,x=c("useLSMessagingInitiatingSource")(),y;e[0]!==w||e[1]!==v||e[2]!==s||e[3]!==t||e[4]!==x||e[5]!==r||e[6]!==f||e[7]!==u||e[8]!==q||e[9]!==o||e[10]!==g||e[11]!==i?(a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.dataTraceId,h=a.setupS2SLogging,l=a.source,m=a.transaction;a=a.voiceClip;var y=c("LSFactory")(m),z=d("OfflineThreadingId").createOfflineThreadingID(),A=d("MWPComposerMediaUploadUtil").getAudioAttachment(z,a.file,a.duration,a.waveformData);yield n(m,e,(k||(k=d("I64"))).one,2);var B=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(y,{attachments:c("LSVec").ofArray([d("LSShape").ofRecord(A)]),replySourceId:w==null?void 0:w.messageId,replySourceType:w!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:w!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:v,threadKey:s,threadType:t})),C=B[0];h(C);yield m.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:x,markThreadRead:!1,messageId:void 0,offlineThreadingId:C,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:r,taskId:k.of_string(C),threadAttributionSource:l,threadKey:s});f!=null&&f({TAG:1,offlineThreadingId:C});yield c("LSInsertNewMediaSendStoredProcedure")(y,{attachmentType:A.attachment_type,inMessageIndex:k.zero,isSecure:!1,offlineAttachmentId:z,offlineThreadingId:C,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});B=function(a,f){if(f==null)return;c("promiseDone")(u.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=c("LSFactory")(a);yield c("LSMarkSubJobCompletedV2StoredProcedure")(a,{fbid:(k||(k=d("I64"))).of_float(f),offlineAttachmentId:z});yield d("MWPOpenComposerUtils").resumeSendJob(a,C,e);p(A.playable_url,f,u,s)});return function(b){return a.apply(this,arguments)}}(),"readwrite"));q({actor:v,attachmentFbids:[(k||(k=d("I64"))).to_string(k.of_float(f))],attachmentType:d("MessagingLoggingUtils").convertI64ToAttachmentType(A.attachment_type),hasReply:w!=null,key:s,offlineThreadingId:C,source:l,type:t});o&&o(a)};h=function(a,b){if(g){g((b=b.response.getErrorDescriptionString())!=null?b:"unknown_upload_failure",a)}};d("MWPComposerMediaUploadUtil").startUpload(i,void 0,B,h,!0,[a.file],[z],void 0,void 0,a.waveformData,void 0,k.to_string(v))});return function(b){return a.apply(this,arguments)}}(),y=[u,v,s,t,w,x,r,f,i,q,o,g],e[0]=w,e[1]=v,e[2]=s,e[3]=t,e[4]=x,e[5]=r,e[6]=f,e[7]=u,e[8]=q,e[9]=o,e[10]=g,e[11]=i,e[12]=a,e[13]=y):(a=e[12],y=e[13]);return d("Int64Hooks").useCallbackInt64(a,y)}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","react","useMWV2SendOpenVoiceClipImplShared"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(a){var b=i(11),e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,h=a.onUploadSuccess,j=a.skipUrlPreviewGen;a=a.thread;var k,l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=function(a){var b=a.actor,c=a.attachmentFbids,e=a.attachmentType,f=a.hasReply,g=a.key,h=a.offlineThreadingId,i=a.source;a=a.type;b!=null&&d("MWPSendMessageLogger").log(g,a,b,h,c,i,e,f)},l=[],b[0]=k,b[1]=l):(k=b[0],l=b[1]);k=d("Int64Hooks").useCallbackInt64(k,l);b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==h||b[6]!==k||b[7]!==j||b[8]!==a.threadKey||b[9]!==a.threadType?(l={onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:h,sendMessageLogger:k,skipUrlPreviewGen:j,threadKey:a.threadKey,threadType:a.threadType},b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=k,b[7]=j,b[8]=a.threadKey,b[9]=a.threadType,b[10]=l):l=b[10];return c("useMWV2SendOpenVoiceClipImplShared")(l)}g["default"]=a}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSPendingTasksPluginType","LSShape","LSThreadBitOffset","MWPReplyContext.react","MWSharedMsgLogUtils","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","ReQL","asyncToGeneratorRuntime","gkx","hasDefaultThreadOneToOneCapability","react","sendToSentQPLLogger","useAsyncReStore","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useContext,l=e.unstable_useMemoCache;function a(a){var e=l(31),f=a.onOptimisticMessageCreation,g=a.onUploadFailure,h=a.onUploadStart,m=a.onUploadSuccess,n=a.skipUrlPreviewGen,o=a.thread,p=c("useAsyncReStore")();a=k(d("MWPReplyContext.react").MWPReplyContext);var q=a.reply,r=c("useLSMessagingInitiatingSource")(),s=c("useMWLSDefaultThreadSource")();e[0]!==o?(a=d("LSThreadBitOffset").has(211,o)?(i||(i=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):void 0,e[0]=o,e[1]=a):a=e[1];a=a;var t;e[2]!==f||e[3]!==g||e[4]!==h||e[5]!==m||e[6]!==n||e[7]!==o?(t={onOptimisticMessageCreation:f,onUploadFailure:g,onUploadStart:h,onUploadSuccess:m,skipUrlPreviewGen:n,thread:o},e[2]=f,e[3]=g,e[4]=h,e[5]=m,e[6]=n,e[7]=o,e[8]=t):t=e[8];var u=c("useMWV2SendOpenVoiceClip")(t);e[9]!==f||e[10]!==o?(g={onOptimisticMessageCreation:f,thread:o},e[9]=f,e[10]=o,e[11]=g):g=e[11];var v=c("useMWV2SendOpenStagedMedia")(g);e[12]!==f||e[13]!==a||e[14]!==n||e[15]!==o?(h={onOptimisticMessageCreation:f,pluginType:a,skipUrlPreviewGen:n,thread:o},e[12]=f,e[13]=a,e[14]=n,e[15]=o,e[16]=h):h=e[16];var w=c("useMWV2SendOpenMessageImpl")(h);e[17]!==o?(m=d("LSMessagingThreadTypeUtil").isMessageRequest(o),e[17]=o,e[18]=m):m=e[18];var x=m;t=k(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var y=t.onMessageSendAttempt;e[19]!==y||e[20]!==s||e[21]!==o||e[22]!==p||e[23]!==r||e[24]!==x||e[25]!==q||e[26]!==u||e[27]!==w||e[28]!==v?(g=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,i,k,l,m,n,t,z,A,B,C,D){var E=t===void 0?!1:t,F=z===void 0?!1:z,G;G=!1;y==null?void 0:y(!0);var H=function(a){A.addMarkerPoint(a,"AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(B,a)},I=s(o.threadKey),J=c("LSGenerateTraceId")(),K={contents:1};C=o.eventStartTimestampMs!=null;t=o.threadType;z=(yield p);var L=c("MWV2SetupS2SLoggingShared")({db:z,initiatingSource:r,isCommunityEvent:C,isMessageRequest:x,s2sInstanceKey:B,threadType:t,traceSendMessageAPI:A});if(c("gkx")("12704")){C=(yield c("hasDefaultThreadOneToOneCapability")(o.threadKey,z));C&&(H("invalid_send_to_default_e2ee"),d("sendToSentQPLLogger").addSendToSentAnnotations(B,{string:{invalid_send_to_default_e2ee_attribution:(j||(j=d("I64"))).to_string(I)}}))}return z.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.media_staging).filter(function(a){return!a.isSent&&(j||(j=d("I64"))).equal(a.threadKey,o.threadKey)}))),p=d("MWSharedMsgLogUtils").getMessageTypeParams(a,g,q,f,i,l,c);d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(A,p,o,r);d("sendToSentQPLLogger").addSendToSentAnnotations(B,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(o,p,r));if(l!=null){yield u({dataTraceId:J,setupS2SLogging:L,source:I,transaction:b,voiceClip:l});return}var s=p.hasGif,t=p.hasSticker,x=p.hasText;t?K.contents=4:s&&(K.contents=6);var y=e!=null?d("LSShape").ofRecord({mention_ids:e.map(function(a){return a.id}).join(","),mention_lengths:e.map(function(a){return String(a.length)}).join(","),mention_offsets:e.map(function(a){return String(a.offset)}).join(","),mention_types:e.length!==0?e.map(function(a){return a.type}).join(","):void 0}):void 0;H("before_create_optimistic_message");x||t||s?(G=!0,(E===!1||F===!0)&&(yield w({afterSend:n,attributionAppId:h,dataTraceId:J,externalAttachmentUrl:i,hotEmojiSize:g,logSendPoint:H,mentionData:y,messageText:a,messageTypeParams:p,optimisticAttachmentPreview:k,platformToken:m,profileRanges:e,richTextFormatType:D,s2sInstanceKey:B,sendFirstMessageSeparately:E,setupS2SLogging:L,source:I,stickerID:f,transaction:b}))):n!=null&&n();yield v({firstAttachmentTypeContents:K.contents,isFirstMessage:F,isFirstMessageText:G,mediaStagings:c,sendFirstMessageSeparately:E,setupS2SLogging:L,source:I,transaction:b})});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui")});return function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return a.apply(this,arguments)}}(),f=[s,r,x,p,q,v,u,w,y,o],e[19]=y,e[20]=s,e[21]=o,e[22]=p,e[23]=r,e[24]=x,e[25]=q,e[26]=u,e[27]=w,e[28]=v,e[29]=g,e[30]=f):(g=e[29],f=e[30]);return d("Int64Hooks").useCallbackInt64(g,f)}g["default"]=a}),98);
__d("useMWV2OnSendOpenMessage",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWOptimisticUpdateContactRelationship","MWCMThreadTypes.react","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useMWV2SendOpenMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useContext;b.useMemo;var l=b.unstable_useMemoCache;function a(a){var b=l(33),e=a.afterSendMessage,f=a.onOptimisticMessageCreation,g=a.onUploadFailure,j=a.onUploadStart,m=a.onUploadSuccess,n=a.skipUrlPreviewGen,o=a.thread,p=(h||(h=c("useReStore")))(),q=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var r=a.clearReply;a=o.threadSubtype;var s=o.eventStartTimestampMs!=null,t;b[0]!==s?(t=s.toString(),b[0]=s,b[1]=t):t=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(s=(!1).toString(),b[2]=s):s=b[2];var u;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(u=(!1).toString(),b[3]=u):u=b[3];var v,w;b[4]!==o.threadKey||b[5]!==a?(v=(i||(i=d("I64"))).to_string(o.threadKey),w=a&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a)?(i||(i=d("I64"))).to_string(a):"",b[4]=o.threadKey,b[5]=a,b[6]=v,b[7]=w):(v=b[6],w=b[7]);b[8]!==o.threadType?(a=(i||(i=d("I64"))).to_string(o.threadType),b[8]=o.threadType,b[9]=a):a=b[9];b[10]!==t||b[11]!==v||b[12]!==w||b[13]!==a?(s={is_community_event:t,isCutover:s,isSecure:u,thread_id:v,thread_subtype:w,thread_type:a},b[10]=t,b[11]=v,b[12]=w,b[13]=a,b[14]=s):s=b[14];u=s;var x=u;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(t=c("qpl")._(30605384,"573"),b[15]=t):t=b[15];var y=c("useCometInteractionTracing")(t,"fast","INTERACTION",void 0,x);b[16]!==f||b[17]!==g||b[18]!==j||b[19]!==m||b[20]!==n||b[21]!==o?(v={onOptimisticMessageCreation:f,onUploadFailure:g,onUploadStart:j,onUploadSuccess:m,skipUrlPreviewGen:n,thread:o},b[16]=f,b[17]=g,b[18]=j,b[19]=m,b[20]=n,b[21]=o,b[22]=v):v=b[22];var z=c("useMWV2SendOpenMessage")(v);b[23]!==o||b[24]!==y||b[25]!==x||b[26]!==z||b[27]!==e||b[28]!==r||b[29]!==p||b[30]!==q?(w=function(a,b,f,g,h,i,j,k,l,m,n,s,t,u){var v=n===void 0?!1:n,w=s===void 0?!1:s,A=d("LSMessagingThreadTypeUtil").isMessageRequest(o);return y(function(n){var s=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(s,{string:x});c("promiseDone")(z(a,b,f,g,h,i,j,k,l,m,v,w,n,s,void 0,u),function(){e(),r(o.threadKey,!1),d("MAWOptimisticUpdateContactRelationship").call(o,p,q),A&&d("MessageRequestsLog").logActionConfirmed(o,1)})})},a=[o,y,x,z,e,r,p,q],b[23]=o,b[24]=y,b[25]=x,b[26]=z,b[27]=e,b[28]=r,b[29]=p,b[30]=q,b[31]=w,b[32]=a):(w=b[31],a=b[32]);return d("Int64Hooks").useCallbackInt64(w,a)}g["default"]=a}),98);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);j(function(){var c={enabled:!0,handler:a};b.current=c;return function(){c.enabled=!1,c.handler=null}},[b,a])}g["default"]=a}),98);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");b.useMemo;var k=b.unstable_useMemoCache;function a(a){var b=k(15),e=a.threadKey,g=d("MWPActor.react").useActor(),j=(h||(h=c("useReStore")))();b[0]!==j.tables.participants||b[1]!==j.tables.contacts||b[2]!==e?(a=function(){return d("ReQL").fromTableAscending(j.tables.participants).getKeyRange(e).map(function(a){return[d("ReQLSuspense").first(d("ReQL").fromTableAscending(j.tables.contacts).getKeyRange(a.contactId),f.id+":42"),a]})},b[0]=j.tables.participants,b[1]=j.tables.contacts,b[2]=e,b[3]=a):a=b[3];var l;b[4]!==j||b[5]!==e?(l=[j,e],b[4]=j,b[5]=e,b[6]=l):l=b[6];a=d("ReQLSuspense").useArray(a,l,f.id+":36");var m;if(b[7]!==g||b[8]!==a){b[12]!==g?(l=function(a,b){var c=b[0];b=b[1];if(c!=null&&!(i||(i=d("I64"))).equal(c.id,g)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},b[12]=g,b[13]=l):l=b[13];l=a.reduce(l,[]);var n=l,o;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){var b,e=a[1];a=a[0];return[(i||(i=d("I64"))).to_string(a.id),{actualName:a.name,contactId:i.to_string(a.id),isAdmin:(b=e.isAdmin)!=null?b:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:e.nickname,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(a),secondaryName:a.secondaryName,workForeignEntityInfo:d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]},b[14]=o):o=b[14];n=new Map(n.map(o));b[7]=g;b[8]=a;b[9]=n;b[10]=m;b[11]=l}else n=b[9],m=b[10],l=b[11];m=n;return m}g["default"]=a}),98);
__d("MessengerBlurpleLogoSvg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.cloneElement,k=b.useId;b.useMemo;var l=b.unstable_useMemoCache;function a(a){var b=l(15),c=a.height;a=a.width;a=(a=a)!=null?a:"80";c=(c=c)!=null?c:"80";var d=k(),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{}),b[0]=e):e=b[0];var f="url(#"+(d+")");b[1]!==f?(e=j(e,{clipRule:"evenodd",d:"M40 .914C17.995.914.937 17.033.937 38.804c0 11.389 4.668 21.23 12.268 28.026a3.12 3.12 0 011.05 2.227l.212 6.95c.068 2.215 2.358 3.658 4.386 2.763l7.753-3.423a3.115 3.115 0 012.087-.153A42.602 42.602 0 0040 76.695c22.005 0 39.063-16.118 39.063-37.89C79.063 17.033 62.005.915 40 .915z",fill:f,fillRule:"evenodd",suppressHydrationWarning:!0}),b[1]=f,b[2]=e):e=b[2];f=e;e=f;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx("radialGradient",{}),g=i.jsxs(i.Fragment,{children:[i.jsx("stop",{stopColor:"#09F"}),i.jsx("stop",{offset:"0.61",stopColor:"#A033FF"}),i.jsx("stop",{offset:"0.935",stopColor:"#FF5280"}),i.jsx("stop",{offset:"1",stopColor:"#FF7061"})]}),b[3]=f,b[4]=g):(f=b[3],g=b[4]);b[5]!==d?(f=j(f,{children:g,cx:"0",cy:"0",gradientTransform:"rotate(-57.092 80.25 24.628) scale(85.1246)",gradientUnits:"userSpaceOnUse",id:d,r:"1",suppressHydrationWarning:!0}),b[5]=d,b[6]=f):f=b[6];g=f;d=g;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx("path",{clipRule:"evenodd",d:"M16.543 49.886L28.018 31.68a5.86 5.86 0 018.472-1.563l9.127 6.844a2.343 2.343 0 002.823-.008L60.765 27.6c1.645-1.248 3.793.72 2.692 2.467L51.982 48.272a5.86 5.86 0 01-8.472 1.563l-9.127-6.845a2.344 2.344 0 00-2.823.01l-12.325 9.354c-1.646 1.248-3.793-.72-2.692-2.467z",fill:"#fff",fillRule:"evenodd"}),b[7]=f):f=b[7];b[8]!==d?(g=i.jsx("defs",{children:d}),b[8]=d,b[9]=g):g=b[9];b[10]!==c||b[11]!==a||b[12]!==e||b[13]!==g?(d=i.jsxs("svg",{fill:"none",height:c,viewBox:" 0 0 80 80",width:a,children:[e,f,g]}),b[10]=c,b[11]=a,b[12]=e,b[13]=g,b[14]=d):d=b[14];return d}g["default"]=a}),98);
__d("MWV2MediaViewerContainer.react",["MessengerBlurpleLogoSvg.react","XMessengerDotComCometRootControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(14),d=a.actions,e=a.children;a=a.shouldShowMessengerLogo;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o x1uvtmcs",b[0]=f):f=b[0];var g;if(b[1]!==a){var h;g="x10l6tqk x16q8cke x1tk7jg1";h=((h=a)!=null?h:!1)?j.jsx("a",{"aria-label":"Messenger",href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:j.jsx(c("MessengerBlurpleLogoSvg.react"),{height:"40",width:"40"})}):null;b[1]=a;b[2]=g;b[3]=h}else g=b[2],h=b[3];b[4]!==g||b[5]!==h?(a=j.jsx("div",{className:g,children:h}),b[4]=g,b[5]=h,b[6]=a):a=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(g="x92rtbv x10l6tqk x1tk7jg1",b[7]=g):g=b[7];b[8]!==d?(h=j.jsx("div",{className:g,children:d}),b[8]=d,b[9]=h):h=b[9];b[10]!==e||b[11]!==a||b[12]!==h?(g=j.jsxs("div",{className:f,children:[e,a,h]}),b[10]=e,b[11]=a,b[12]=h,b[13]=g):g=b[13];return g}g["default"]=a}),98);
__d("MWXIconCross",["MWXSvgIcon","SVGIcon","cr:5977","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:5977")),c("gkx")("12097"));g["default"]=a}),98);
__d("MWXRow.react",["cr:2667","cr:2922","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a){return a===10?12:a}function l(a){switch(a){case 10:return 12;case 20:return 16;default:return a}}function m(a){return a===10?12:a}function a(a,c){var d=i(32);if(b("cr:2667")!=null){var e,f,g,h,n,o,p;d[0]!==a?(e=a.paddingHorizontal,f=a.paddingTop,g=a.paddingVertical,h=a.spacing,n=a.spacingHorizontal,o=a.spacingVertical,p=babelHelpers.objectWithoutPropertiesLoose(a,["paddingHorizontal","paddingTop","paddingVertical","spacing","spacingHorizontal","spacingVertical"]),d[0]=a,d[1]=e,d[2]=f,d[3]=g,d[4]=h,d[5]=n,d[6]=o,d[7]=p):(e=d[1],f=d[2],g=d[3],h=d[4],n=d[5],o=d[6],p=d[7]);var q;d[8]!==e?(q=k(e),d[8]=e,d[9]=q):q=d[9];d[10]!==f?(e=l(f),d[10]=f,d[11]=e):e=d[11];d[12]!==g?(f=l(g),d[12]=g,d[13]=f):f=d[13];d[14]!==h?(g=m(h),d[14]=h,d[15]=g):g=d[15];d[16]!==n?(h=m(n),d[16]=n,d[17]=h):h=d[17];d[18]!==o?(n=m(o),d[18]=o,d[19]=n):n=d[19];d[20]!==q||d[21]!==e||d[22]!==f||d[23]!==c||d[24]!==g||d[25]!==h||d[26]!==n||d[27]!==p?(o=j.jsx(b("cr:2667"),babelHelpers["extends"]({paddingHorizontal:q,paddingTop:e,paddingVertical:f,ref:c,spacing:g,spacingHorizontal:h,spacingVertical:n},p)),d[20]=q,d[21]=e,d[22]=f,d[23]=c,d[24]=g,d[25]=h,d[26]=n,d[27]=p,d[28]=o):o=d[28];return o}if(b("cr:2922")!=null){d[29]!==a||d[30]!==c?(q=j.jsx(b("cr:2922"),babelHelpers["extends"]({},a,{ref:c})),d[29]=a,d[30]=c,d[31]=q):q=d[31];return q}return null}c=j.forwardRef(a);e=c;g["default"]=e}),98);
__d("MWXRowItem.react",["cr:3083","cr:3084","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a,c){var d=i(6);if(b("cr:3083")!=null){var e;d[0]!==a||d[1]!==c?(e=j.jsx(b("cr:3083"),babelHelpers["extends"]({},a,{ref:c})),d[0]=a,d[1]=c,d[2]=e):e=d[2];return e}if(b("cr:3084")!=null){d[3]!==a||d[4]!==c?(e=j.jsx(b("cr:3084"),babelHelpers["extends"]({},a,{ref:c})),d[3]=a,d[4]=c,d[5]=e):e=d[5];return e}return null}c=j.forwardRef(a);g["default"]=c}),98);
__d("MWV2MediaViewerFallback.react",["fbt","MWV2MediaViewerContainer.react","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(6),d=a.onClose;a=a.shouldShowMessengerLogo;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__tnRfHlva-bL__JHASH__"),b[0]=e):e=b[0];b[1]!==d?(e=k.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconCross"),label:e,onPress:d,size:36,type:"dark-overlay"})})}),b[1]=d,b[2]=e):e=b[2];b[3]!==e||b[4]!==a?(d=k.jsx(c("MWV2MediaViewerContainer.react"),{actions:e,shouldShowMessengerLogo:a,children:null}),b[3]=e,b[4]=a,b[5]=d):d=b[5];return d}g["default"]=a}),98);
__d("MWV2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","cr:2472","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,e){if(a==null)return!1;var f=b("cr:2472")==null?a:b("cr:2472").unvault(a);a=d("EmojiRenderer").parse(f).map(function(a){return{length:a.length,offset:a.offset}});var g=c("gkx")("12721");g=g?e?d("EmoticonRenderer").parse(f).map(function(a){return{length:a.chars.length,offset:a.offset}}):[]:[];e=a.concat(g);if(e.length===0)return!1;a=e.sort(function(a,b){return a.offset-b.offset|0});var i={contents:0},j={contents:0};g=a.some(function(a){i.contents===a.offset?(i.contents=i.contents+a.length|0,j.contents=i.contents):j.contents=a.offset;var b=f.substring(i.contents,j.contents);i.contents=a.offset+a.length|0;return h.test(b)===!1});e=i.contents!==f.length&&!h.test(f.substring(j.contents));if(g)return!1;else return!e}g["default"]=a}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l=b.unstable_useMemoCache,m={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a){var b=l(6),d=k(!1),e=d[0],f=d[1],g=j(a),h;b[0]!==a?(d=function(){a!==g.current&&f(!0),g.current=a},h=[a],b[0]=a,b[1]=d,b[2]=h):(d=b[1],h=b[2]);i(d,h);d=e?m.mountAnimation:null;h=c("useDebouncedValue")(a,200);b[3]!==d||b[4]!==h?(e={mountAnimation:d,shouldShow:h,unmountAnimation:m.unmountAnimation},b[3]=d,b[4]=h,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState,n=b.unstable_useMemoCache;function o(a){if(a<d("MAWEphemeralConsts").oneMinuteInSeconds)return h._("__JHASH__A4ingmAx2be__JHASH__",[h._param("seconds",String(a).concat("s"))]);if(a<d("MAWEphemeralConsts").oneHourInSeconds)return h._("__JHASH__vWI2ZlgwXQb__JHASH__",[h._param("minutes",String(Math.floor(a/d("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]);return a<d("MAWEphemeralConsts").oneDayInSeconds?h._("__JHASH__25PcZ3MKsFM__JHASH__",[h._param("hours",String(Math.floor(a/d("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):h._("__JHASH__eRreAbYsreU__JHASH__",[h._param("days",String(Math.floor(a/d("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function p(a,b){a=(j||(j=d("I64"))).to_int32(j.sub(a,j.of_float(d("WATimeUtils").unixTime())));return b!=null&&a>(j||(j=d("I64"))).to_int32(b)?(j||(j=d("I64"))).to_int32(b):a}function a(a){var b=n(15),e=a.ephemeralDurationInSec,f=a.expirationTimestamp;b[0]!==f||b[1]!==e?(a=function(){return p(f,e)},b[0]=f,b[1]=e,b[2]=a):a=b[2];a=m(a);var g=a[0],i=a[1],j;b[3]!==g?(a=o(g),j=h._("__JHASH__LNXEmV_oB6W__JHASH__",[h._param("time",a)]),b[3]=g,b[4]=j,b[5]=a):(j=b[4],a=b[5]);j=j;var q;b[6]!==g?(q=function(){g>0&&c("setTimeout")(function(){return i(g-1)},d("MAWEphemeralConsts").msPerSec)},b[6]=g,b[7]=q):q=b[7];var r;b[8]!==g||b[9]!==f?(r=[g,f],b[8]=g,b[9]=f,b[10]=r):r=b[10];l(q,r);b[11]!==g||b[12]!==j||b[13]!==a?(q=g>0?k.jsxs("div",{className:"x2b8uid xbkr7qi",children:[k.jsx(c("CometScreenReaderText.react"),{text:j}),k.jsx("div",{"aria-hidden":!0,children:k.jsx(c("MWXText.react"),{testid:void 0,type:"meta1",children:a})})]}):null,b[11]=g,b[12]=j,b[13]=a,b[14]=q):q=b[14];return q}g["default"]=a}),98);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrlAttachment","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).unstable_useMemoCache,l=h;function a(a){var e=k(25),f=a.allowClickEventPropagation,g=a.ariaLabel,h=a.attachment,m=a.children,n=a.linkProps_,o=a.onHoverIn,p=a.onPress,q=a.overlayDisabled,r=a.testid;a=a.xstyle;q=q===void 0?!1:q;var s=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();s=s.blurMediaEnabled;s=c("gkx")("12682")&&s;var t=(i||(i=d("I64"))).equal(h.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)),u=i.equal(h.attachmentType,j.ofNumber(c("MessagingAttachmentType").VIDEO)),v=t?"Image":u?"Video":"Media";if(b("cr:4509")!=null&&(t||u)&&s){t=u?"video":"image";e[0]!==h?(s=d("LSMediaUrlAttachment").previewUrl(h),e[0]=h,e[1]=s):s=e[1];e[2]!==g||e[3]!==n||e[4]!==v||e[5]!==p||e[6]!==q||e[7]!==r||e[8]!==t||e[9]!==s||e[10]!==a||e[11]!==m?(u=l.jsx(b("cr:4509"),{ariaLabel:g,linkProps:n,mediaType:v,onPress:p,overlayDisabled:q,testid:void 0,type:t,url:s,xstyle:a,children:m}),e[2]=g,e[3]=n,e[4]=v,e[5]=p,e[6]=q,e[7]=r,e[8]=t,e[9]=s,e[10]=a,e[11]=m,e[12]=u):u=e[12];return u}e[13]!==p?(h=function(){return p()},e[13]=p,e[14]=h):h=e[14];e[15]!==f||e[16]!==g||e[17]!==n||e[18]!==o||e[19]!==h||e[20]!==q||e[21]!==r||e[22]!==a||e[23]!==m?(v=l.jsx(c("MWXPressable.react"),{allowClickEventPropagation:f,"aria-label":g,linkProps:n,onHoverIn:o,onPress:h,overlayDisabled:q,testid:void 0,xstyle:a,children:m}),e[15]=f,e[16]=g,e[17]=n,e[18]=o,e[19]=h,e[20]=q,e[21]=r,e[22]=a,e[23]=m,e[24]=v):v=e[24];return v}g["default"]=a}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(7);a=a.attachment;var e=a.offlineAttachmentId,g=(h||(h=c("useReStore")))();b[0]!==e||b[1]!==g.tables.media_staging?(a=function(){return e!=null?d("ReQL").fromTableAscending(g.tables.media_staging).getKeyRange(e):d("ReQL").empty()},b[0]=e,b[1]=g.tables.media_staging,b[2]=a):a=b[2];var i;b[3]!==e?(i=[e],b[3]=e,b[4]=i):i=b[4];a=d("ReQLSuspense").useFirst(a,i,f.id+":24");if(a!=null&&a.isSent){b[5]!==a?(i=k.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:a}),b[5]=a,b[6]=i):i=b[6];return i}return null}g["default"]=a}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b){b===void 0&&(b=1024);if(a==null)return null;if(a===0)return i[j](0);var c=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,c);a=Math.round(a*100)/100;return i[c](a)}g["default"]=a}),98);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","I64","LSMediaUrlAttachment","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWInboxInfoSharedContentQPLLogger","MWV2ChatAttachmentParserUtils","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));b=j;b.useMemo;var m=b.unstable_useMemoCache,n={content:{color:"xzsf02u",flexGrow:"x1iyjqo2",fontWeight:"x1s688f",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0},fileSize:{paddingTop:"x889kno",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=m(39),e=a.attachment;a=a.getPlayableUrlSecure;var f=e.filename;if(f!=null)f=f;else{var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__uiTAWyhPCWI__JHASH__"),b[0]=g):g=b[0];f=g}g=f;if(b[1]!==e.filesize){f=e.filesize!=null?(k||(k=d("I64"))).to_int32(e.filesize):void 0;f!=null?f=c("formatFileSize")(f):f=null;b[1]=e.filesize;b[2]=f}else f=b[2];f=f;var j,o,p;if(b[3]!==a||b[4]!==e){bb45:{if(a!=null){var q;q=(q=a(e))!=null?q:"";q=d("ConstUriUtils").getUri(q);break bb45}else{var r=d("LSMediaUrlAttachment").playableUrl(e);if(r!=null){var s=d("MWV2ChatAttachmentParserUtils").getBlobUrl(r);if(s!=null){q=d("ConstUriUtils").getUri(s);break bb45}else{q=d("ConstUriUtils").getUri(r);break bb45}}}c("recoverableViolation")("Attachment has no playable_url "+e.attachmentFbid,"messenger_comet");q=void 0}s=q;r=c("MWFilePressable.react");q=e.attachmentFbid;j="chat_file_v4";b[11]!==e.threadKey||b[12]!==e.timestampMs||b[13]!==e.messageId?(o=d("MWChatMessageId").makeSent((k||(k=d("I64"))).to_string(e.threadKey),e.messageId,k.to_string(e.timestampMs)),b[11]=e.threadKey,b[12]=e.timestampMs,b[13]=e.messageId,b[14]=o):o=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){return d("MWInboxInfoSharedContentQPLLogger").logOpenSharedContentFromThread("files")},b[15]=p):p=b[15];s=s==null?void 0:s.toString();b[3]=a;b[4]=e;b[5]=r;b[6]=q;b[7]=j;b[8]=o;b[9]=p;b[10]=s}else r=b[5],q=b[6],j=b[7],o=b[8],p=b[9],s=b[10];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(a=(i||(i=c("stylex")))(n.root,!1),b[16]=a):a=b[16];var t;b[17]!==e?(t=l.jsx(c("MWChatFilePreview.react"),{attachment:e,withPreview:!1}),b[17]=e,b[18]=t):t=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(e="xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",b[19]=e):e=b[19];var u;b[20]!==g?(u=l.jsx(c("MDSTextPairing.react"),{headline:g,headlineLineLimit:3,level:4}),b[20]=g,b[21]=u):u=b[21];b[22]===Symbol["for"]("react.memo_cache_sentinel")?(g="x889kno",b[22]=g):g=b[22];b[23]!==f?(g=l.jsx("div",{className:g,children:l.jsx(c("MDSTextPairing.react"),{body:f,bodyColor:"secondary",bodyLineLimit:1,level:4,testid:void 0})}),b[23]=f,b[24]=g):g=b[24];b[25]!==u||b[26]!==g?(f=l.jsxs("div",{className:e,children:[u,g]}),b[25]=u,b[26]=g,b[27]=f):f=b[27];b[28]!==t||b[29]!==f?(e=l.jsxs("div",{className:a,"data-testid":void 0,children:[t,f]}),b[28]=t,b[29]=f,b[30]=e):e=b[30];b[31]!==r||b[32]!==q||b[33]!==j||b[34]!==o||b[35]!==p||b[36]!==s||b[37]!==e?(u=l.jsx(r,{attachmentID:q,entryPoint:j,messageID:o,onPress:p,url:s,children:e}),b[31]=r,b[32]=q,b[33]=j,b[34]=o,b[35]=p,b[36]=s,b[37]=e,b[38]=u):u=b[38];return u}g["default"]=a}),98);
__d("MWPVisibleMessageContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;f=e.createContext;var j=e.useContext;e.useMemo;var k=e.useState,l=e.unstable_useMemoCache;d={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var m=f(d);function a(a){var b=l(5);a=a.children;var c=k(),d=c[0];c=c[1];b[0]!==d?(c={setVisibleMessage:c,visibleMessage:d},b[0]=d,b[1]=c):c=b[1];d=c;c=d;b[2]!==c||b[3]!==a?(d=i.jsx(m.Provider,{value:c,children:a}),b[2]=c,b[3]=a,b[4]=d):d=b[4];return d}function b(){return j(m)}g.MWPVisibleMessageContext=m;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="xzrp4sq x26u7qi x7g060r x1gslohp x11i5rnm x12nagc x1mh8g0r x1pi30zi x1swvt13 x126k92a",b[0]=c):c=b[0];b[1]!==a?(c=j.jsx("blockquote",{className:c,children:a}),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(a,b,c,d,e,f){a=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});f["default"]=a}),66);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}});f["default"]=a}),66);
__d("MWChatTextFormatting",["$InternalEnum","MWChatBlockQuote.react","MWXText.react","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]),l=new Set(Object.values(c("MessageMarkdownCodeblockLanguages")));function m(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case k.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case k.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case k.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case k.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case k.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case k.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case k.CodeBlock:d=function(a){var b,c;b=((b=a[3])!=null?b:"").trim().toLowerCase();c=(c=a[4])!=null?c:a[5];a=(a=a[2])!=null?a:"";return b===""||l.has(b)?c:a+c};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var n=[k.CodeBlock,k.BlockQuote,k.InlineQuote,k.InlineCode,k.Bold,k.Italics,k.StrikeThrough];function a(a,b){switch(b.format){case k.Bold:return j.jsx("b",{children:b.text});case k.Italics:return j.jsx("i",{children:b.text});case k.StrikeThrough:return j.jsx("strike",{children:b.text});case k.CodeBlock:return j.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:j.jsx(c("MWXText.react"),{type:"body4",children:j.jsx("code",{children:b.text})})});case k.InlineCode:return j.jsx("code",{className:"",children:b.text});case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,b){switch(b.format){case k.Bold:return j.jsx("b",{children:b.text});case k.Italics:return j.jsx("i",{children:b.text});case k.StrikeThrough:return j.jsx("strike",{children:b.text});case k.CodeBlock:return j.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:j.jsx(c("MWXText.react"),{type:"body4",children:j.jsx("code",{children:b.text})})});case k.InlineCode:return j.jsx("code",{className:"",children:b.text});case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}e.displayName=e.name+" [from "+f.id+"]";function o(a){var b=[];n.forEach(function(c){var e=m(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,j=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=(i||(i=d("UnicodeUtils"))).substr(a,0,k.index);e=e.length-i.strlen(e);var h=k.index-e,l=i.strlen(k[0]);g&&(h+=k[j].length,l-=k[j].length);e=function(a){var b=h+l,c=a.offset+a.length;return b>a.offset&&h<c};var m=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+m;e.length+=l+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:m},length:l,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=o}),98);
__d("MessageProfileRangeType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"n",COMMUNITY_CHANNEL:"cc",PROFILE:"p",THREAD:"t",THREAD_ACTIVE:"a",SILENT:"s",THREAD_SHOUT:"ts",POLL:"pl",AI:"ai",AI_IMAGE:"im",CUSTOM:"cu",ADMINS:"ad"});f["default"]=a}),66);
__d("MessageProfileRangeType.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="ai")return"ai";else if(a==="c")return"cc";else if(a==="cu")return"cu";else return"n"}f.ofString=a}),66);
__d("XCometVanityURLControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f,g){var h="scraperLastPermissiveMatch";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var e=b.prototype;e.reset=function(){d("DataStore").set(this.input,h,null)};e.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=c("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};e.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};e.check=function(a){var c=this.getValueFn?this.getValueFn():this.input.value;if(a&&b.trigger(c))return;a=b.match(c);c=d("URLMatcher").permissiveMatch(c);c&&c!=d("DataStore").get(this.input,h)&&(d("DataStore").set(this.input,h,c),this.inform("match",{url:a||c,alt_url:c}))};return b}(c("mixin")(c("ArbiterMixin")));Object.assign(a,d("URLMatcher"));g["default"]=a}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=[],e=0;while(!0){var f=(i||(i=d("UnicodeUtils"))).substr(a,e),g=c("URLScraper").match(f);if(!g)break;if(!(h||(h=c("URI"))).isValidURI(g))break;var j=g;/^[a-z][a-z0-9\-+.]+:\/\//i.test(g)||(j="http://"+g);var k=f.indexOf(g);f=i.strlen(f.substr(0,k));e+=f;k=g.length;b.push({offset:e,length:g.length,entity:{url:j}});e+=k}return b}g["default"]=a}),98);
__d("MWV2ChatTextParserUtils",["EmojiRenderer","EmoticonRenderer","I64","LSContactTypeExact","LSIntEnum","MWChatTextFormatting","MWLSContactTypeExactUtils","MessageProfileRangeType.bs","ReQL","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),e=c("gkx")("12721")?d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];b=b.concat(e).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var f={contents:0},g={contents:0};e=b.some(function(b){f.contents===b.offset?(f.contents=f.contents+b.length|0,g.contents=f.contents):g.contents=b.offset;var c=a.substring(f.contents,g.contents);f.contents=b.offset+b.length|0;return k.test(c)===!1});b=f.contents!==a.length&&!k.test(a.substring(g.contents));if(e)return!1;else return!b}function b(a){var b=c("getURLRanges")(a),e=[];a=d("MWChatTextFormatting").getFormattingRanges(a);b.forEach(function(a){a={entity:{__typename:"Link",uri:a.entity.url},length:a.length,offset:a.offset};e.push(a)});return e.concat(a)}function l(a){if(c("gkx")("12228"))return"/t/"+a;else return"/messages/t/"+a}function m(a,b){try{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((h||(h=d("I64"))).of_string(b)),f.id+":111")}catch(b){a=void 0}if(a==null)return l(b);var e=a.contactTypeExact;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils").isIgContact(e))return l(b);e=a.secondaryName;if(e!=null)return"https://www.instagram.com/"+e+"/";else return l(b)}function e(a,b,c,e,f,g){b=b.split(",");var i=c.split(","),k=e.split(","),n=f.split(",");return b.reduce(function(b,c,e){var f=d("MessageProfileRangeType.bs").ofString(n[e]),o=Number(i[e]);e=Number(k[e]);var p=(j||(j=d("UnicodeUtils"))).strlen(g.slice(0,e));p=e-p;e=e-p;f==="t"||f==="a"?b.push({entity:{__typename:"Profile",id:c,uri:l(c)},length:o,offset:e}):f==="p"?b.push({entity:{__typename:"Profile",id:c,uri:m(a,c)},length:o,offset:e}):f==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:(h||(h=d("I64"))).of_string(c)},length:o,offset:e}):f==="s"||f==="cu"?b.push({entity:{__typename:"Command"},length:o,offset:e}):f==="ai"&&b.push({entity:{__typename:"Ai"},length:o,offset:e});return b},[])}g.isEmojiOnlyMessage=a;g.findRanges=b;g.findRangesForMentions=e}),98);
__d("MWV2ChatTextUtils",["MWPVisibleMessageContext.react","MWV2ChatTextParserUtils","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function k(a,b,c){var e=b.mentionIds,f=b.mentionLengths,g=b.mentionOffsets;b=b.mentionTypes;return e!=null&&f!=null&&g!=null&&b!=null?d("MWV2ChatTextParserUtils").findRangesForMentions(a,e,f,g,b,c):[]}function l(a,b,c){if(a==null)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d}});else return[]}function a(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=f.visibleMessage;return j(function(){return a==null||d("MWV2ChatTextParserUtils").isEmojiOnlyMessage(a)?[]:k(e,{mentionIds:b.mentionIds,mentionLengths:b.mentionLengths,mentionOffsets:b.mentionOffsets,mentionTypes:b.mentionTypes},a).concat(d("MWV2ChatTextParserUtils").findRanges(a)).concat(l(g==null?void 0:g,a,b.messageId))},[a,b.mentionIds,b.mentionLengths,b.mentionOffsets,b.mentionTypes,b.messageId,e,g])}g.useRanges=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.react","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useLayoutEffect,k=b.unstable_useMemoCache;function a(){var a=k(14),b=i(d("MWV2MessageRowIsRowFocusedContext.react").context),e=b.isDialogOpened,f=b.setIsDialogOpened,g=b.setFocused;b=c("useCometRouterState")();var h;if(a[0]!==b){if(b==null)h=0;else{var l=b.pushViewStack,m;a[2]!==l?(m=l==null?0:l.length,a[2]=l,a[3]=m):m=a[3];h=m}a[0]=b;a[1]=h}else h=a[1];var n=c("usePrevious")(h);l=h;a[4]!==n||a[5]!==e||a[6]!==l||a[7]!==f||a[8]!==g?(m=function(){if(n!=null){e===!0&&n>0&&h===0&&(f(function(){return!1}),g(function(){return!0}));return}},a[4]=n,a[5]=e,a[6]=l,a[7]=f,a[8]=g,a[9]=m):m=a[9];b=h;a[10]!==e||a[11]!==n||a[12]!==b?(l=[e,n,b],a[10]=e,a[11]=n,a[12]=b,a[13]=l):l=a[13];j(m,l);return f}g["default"]=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3,CHEVRON_DOWN:4,FB_INFO_SMALL:5});f["default"]=a}),66);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","I64","ImageIconSource","LSCTAIconType","LSIntEnum","LSMessagingThreadTypeUtil","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","react","recoverableViolation","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));b=j;var n=b.useEffect,o=b.unstable_useMemoCache,p=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function q(a){if(a==null)return null;switch((l||(l=d("LSIntEnum"))).toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=o(43),e=a.attachmentId,g=a.ctaIconType,h=a.ctaId,j=a.getCtaRegistryHandler,l=a.renderButtonActionEventButton,r=a.renderButtonActionNonEventButton,s=a.renderDeeplinkActionButton,t=a.renderDisabledButtonActionButton,u=a.renderPopoverMenuButtonActionButton,v=a.renderUrlActionButton,w=a.threadKey,x=a.title,y=a.type,z=(i||(i=c("useReStore")))();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){return a.threadType},b[0]=a):a=b[0];a=d("MWLSThread").useThread(w,a);var A;b[1]!==y||b[2]!==w||b[3]!==a?(A={ctaType:y,eventName:"xma_attachment_cta",threadKey:w,threadType:a},b[1]=y,b[2]=w,b[3]=a,b[4]=A):A=b[4];A=c("MessengerWebUXLogger").useImpressionLoggerRef(A);var B;b[5]!==a?(B=a?d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a):!1,b[5]=a,b[6]=B):B=b[6];a=B;b[7]!==z.tables.attachment_ctas||b[8]!==h?(B=function(){return d("ReQL").fromTableAscending(z.tables.attachment_ctas).getKeyRange(h)},b[7]=z.tables.attachment_ctas,b[8]=h,b[9]=B):B=b[9];var C;b[10]!==z||b[11]!==h?(C=[z,h],b[10]=z,b[11]=h,b[12]=C):C=b[12];B=d("ReQLSuspense").useFirst(B,C,f.id+":137");var D;b[13]!==y?(C=function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(y);a&&p.onReady(function(a){a.logImpression({surface:"admin_message"})})},D=[y],b[13]=y,b[14]=C,b[15]=D):(C=b[14],D=b[15]);n(C,D);if(B==null){b[16]!==y||b[17]!==t||b[18]!==x||b[19]!==A?(C=y==="xma_disabled_cta"?m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:A,children:t(x)}):null,b[16]=y,b[17]=t,b[18]=x,b[19]=A,b[20]=C):C=b[20];return C}var E;if(b[21]!==j||b[22]!==B||b[23]!==g||b[24]!==y||b[25]!==e||b[26]!==w||b[27]!==a||b[28]!==l||b[29]!==x||b[30]!==r||b[31]!==u||b[32]!==v||b[33]!==t||b[34]!==s){D=j(B);C=q(g);E=null;bb20:switch(D.actionType){case"BUTTON":var F,G=D.secondaryInfo,H=D.primaryInfo,I=y==="xma_event_rsvp"&&c("gkx")("12725");e!=null&&w!=null&&!((F=a)!=null?F:!1)&&I?E=l(e,w,x,C,B,G):I||(E=r(x,C,B,G,H));break bb20;case"POPOVER_BUTTON":u&&(E=u(x,B,D.primaryInfo));break bb20;case"URL":F=D.secondaryInfo;E=v(x,C,B,F,D.primaryInfo);break bb20;case"DISABLED_BUTTON":b[36]!==t||b[37]!==x?(I=t(x),b[36]=t,b[37]=x,b[38]=I):I=b[38];E=I;break bb20;case"DEEPLINK":G=D.primaryInfo;H=G.loggingDetails;C=G.threadKey;F=d("MWInboxRouteBuilder").buildURL({thread_key:(k||(k=d("I64"))).to_string(C)});E=s(x,C,B,H,F);break bb20;case"CTA_ERROR":c("recoverableViolation")(D.primaryInfo,D.secondaryInfo,void 0,{trackOnly:!0});E=null;break bb20;case"NOT_SUPPORTED":E=null}b[21]=j;b[22]=B;b[23]=g;b[24]=y;b[25]=e;b[26]=w;b[27]=a;b[28]=l;b[29]=x;b[30]=r;b[31]=u;b[32]=v;b[33]=t;b[34]=s;b[35]=E}else E=b[35];b[39]===Symbol["for"]("react.memo_cache_sentinel")?(I="x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",b[39]=I):I=b[39];b[40]!==A||b[41]!==E?(G=m.jsx("div",{className:I,ref:A,children:E}),b[40]=A,b[41]=E,b[42]=G):G=b[42];return G}g["default"]=a}),98);
__d("MWXMAAttachmentItemIcon.react",["CometImageCover.react","CometSkittleIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(8);a=a.icon;if(a==null)return null;if(typeof a==="string"){var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x6s0dn4 x78zum5 x5yr21d xq8finb",b[0]=d):d=b[0];var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={borderRadius:"50%",height:"36px",width:"36px"},b[1]=e):e=b[1];b[2]!==a?(d=j.jsx("div",{className:d,children:j.jsx(c("CometImageCover.react"),{alt:"Icon for this message",src:a,style:e})}),b[2]=a,b[3]=d):d=b[3];return d}b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e="x6s0dn4 x78zum5 x5yr21d xq8finb",b[4]=e):e=b[4];b[5]!==a.color||b[6]!==a.icon?(d=j.jsx("div",{className:e,children:j.jsx(c("CometSkittleIcon.react"),{color:a.color,icon:a.icon,size:36})}),b[5]=a.color,b[6]=a.icon,b[7]=d):d=b[7];return d}g["default"]=a}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrlAttachment","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(6),c=a.attachment,e=a.renderDefaultListItem,f=a.renderPercentageListItem;if(b[0]!==c||b[1]!==f||b[2]!==e){a=[{contactUrlExpirationTimestampList:c.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:c.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList1(c),id:c.listItemId1,progressBarFilledPercentage:c.listItemProgressBarFilledPercentage1,titleText:c.listItemTitleText1,totalCount:c.listItemTotalCount1},{contactUrlExpirationTimestampList:c.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:c.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList2(c),id:c.listItemId2,progressBarFilledPercentage:c.listItemProgressBarFilledPercentage2,titleText:c.listItemTitleText2,totalCount:c.listItemTotalCount2},{contactUrlExpirationTimestampList:c.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:c.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList3(c),id:c.listItemId3,progressBarFilledPercentage:c.listItemProgressBarFilledPercentage3,titleText:c.listItemTitleText3,totalCount:c.listItemTotalCount3}];var g=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,f=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];g.push({contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:i[b],urlFallback:j[b]}}),id:e,progressBarFilledPercentage:f,titleText:h,totalCount:a})}});a=g.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?f(a,b):e(a)});b[0]=c;b[1]=f;b[2]=e;b[3]=a}else a=b[3];b[4]!==a?(c=j.jsx("ul",{children:a}),b[4]=a,b[5]=c):c=b[5];return c}g["default"]=a}),98);
__d("MNXMASubtitleDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2,EXTERNAL_LINK_ICON:3});f["default"]=a}),66);
__d("MWXMAAttachmentSubtitleDecoration.react",["ix","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||(i=d("react"))).unstable_useMemoCache,l=i;function a(a){var b=k(3),e=a.subtitleDecorationType,f;b[0]!==e?(a=function(){switch((j||(j=d("LSIntEnum"))).toNumber(e)){case c("MNXMASubtitleDecorationType").THREADS_ICON:return l.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(h("380222"),16)});default:return null}},f=[e],b[0]=e,b[1]=a,b[2]=f):(a=b[1],f=b[2]);return d("Int64Hooks").useMemoInt64(a,f)}g["default"]=a}),98);
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_product");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return a;if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{color:a,icon:b}}return}g.parse=a}),98);
__d("MWXMAIconParser.react",["ix","MWPXMAIconParser","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a){case"airplane":return d("fbicon")._(h("571771"),20);case"calendar":return d("fbicon")._(h("481118"),20);case"calendar-add":return d("fbicon")._(h("640913"),20);case"camcorder":return d("fbicon")._(h("493174"),20);case"camcorder-incoming":return d("fbicon")._(h("1096148"),20);case"camcorder-missed":return d("fbicon")._(h("662989"),20);case"camcorder-outgoing":return d("fbicon")._(h("1096150"),20);case"camcorder-plus":return d("fbicon")._(h("662993"),20);case"checkmark-circle":return d("fbicon")._(h("498146"),20);case"cross-circle":return d("fbicon")._(h("1501526"),20);case"currency-peso":return d("fbicon")._(h("1174630"),20);case"currency-pound":return d("fbicon")._(h("1174587"),20);case"currency-taka":return d("fbicon")._(h("182108"),20);case"currency-thai-baht":return d("fbicon")._(h("876716"),20);case"currency-usd":return d("fbicon")._(h("847056"),20);case"document-complete":return d("fbicon")._(h("728245"),20);case"friend-generic":return d("fbicon")._(h("502671"),20);case"friend-generic-checkmark":return d("fbicon")._(h("538342"),20);case"group":return d("fbicon")._(h("485091"),20);case"group-block":return d("fbicon")._(h("714636"),20);case"location":return d("fbicon")._(h("795388"),20);case"pin":return d("fbicon")._(h("481942"),20);case"phone":return d("fbicon")._(h("558161"),20);case"phone-incoming":return d("fbicon")._(h("1096151"),20);case"phone-outgoing":return d("fbicon")._(h("1096154"),20);case"shield":return d("fbicon")._(h("492714"),20);case"phone-missed":return d("fbicon")._(h("847457"),20);case"question-circle":return d("fbicon")._(h("1604445"),20);case"tag":return d("fbicon")._(h("502473"),20);case"watch":return d("fbicon")._(h("607169"),20);case"map":return d("fbicon")._(h("645715"),20);case"house-keyhole":return d("fbicon")._(h("1670302"),20);case"document":return d("fbicon")._(h("728245"),20);case"checkmark":return d("fbicon")._(h("477814"),20);case"shopping-cart":return d("fbicon")._(h("763120"),20);case"cross":return d("fbicon")._(h("478233"),20);default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_product");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=i(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=c.unstable_useMemoCache,m=e();function a(a){var b=l(3);a=a.children;var c=k(""),d;b[0]!==c||b[1]!==a?(d=i.jsx(m.Provider,{value:c,children:a}),b[0]=c,b[1]=a,b[2]=d):d=b[2];return d}function b(){return j(m)}g.MWPNewMessageDraftContextProvider=a;g.useNewMessageDraftContext=b}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","cr:6138","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";e=b("cr:3101")||b("cr:6138");var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,e==null?void 0:e.MessengerLexicalCommandNode],i=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"});function a(a){var b,e=d("Lexical").createEditor({namespace:"MWPEditor",nodes:(b=a==null?void 0:a.nodes)!=null?b:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,e,function(b){c("FBLogger")("messenger_web_product").catching(a).mustfix("Lexical Error MWP: %s",b)})},theme:(b=a==null?void 0:a.theme)!=null?b:i});return e}g["default"]=a}),98);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b,c){i(function(){if(b==null||c)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),c=a.getFirstChild();d("Lexical").$isParagraphNode(c)||(c=d("Lexical").$createParagraphNode(),a.append(c));a=d("Lexical").$createTextNode(b);c.clear();c.append(a)}})},[a,c])}g["default"]=a}),98);
__d("useMWPComposerAutoFocus",["MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j=b.useEffect,k=b.unstable_useMemoCache;function l(a){var b;b=(b=document.activeElement)==null?void 0:(b=b.attributes.getNamedItem("id"))==null?void 0:b.value;if(b==null?void 0:b.includes("prevent-composer-focus-steal"))return;return a.focus(function(){})}function a(a){var b=k(22),e=a.editor,f=a.focusEditorDelayed,g=a.hasUnsentAttachments,h=a.isPreviewThread,m=a.isQuickchat,n=g===void 0?!1:g;a=h===void 0?!1:h;g=d("MWChatFocusComposerContext").useMWChatFocusComposer();h=g.setFocusComposer;g=i(d("MWPReplyContext.react").MWPReplyContext);var o=g.reply,p=c("usePrevious")(o),q;b[0]!==p||b[1]!==o||b[2]!==m||b[3]!==f||b[4]!==e?(g=function(){(p==null?o!=null:!c("deepEquals")(p,o))&&(m&&f?f(e):l(e))},q=[e,o,p,f,m],b[0]=p,b[1]=o,b[2]=m,b[3]=f,b[4]=e,b[5]=g,b[6]=q):(g=b[5],q=b[6]);j(g,q);g=d("MWV2IsTabFocusedContext.react").useIsTabFocused();b[7]!==g||b[8]!==a?(q=g&&!a,b[7]=g,b[8]=a,b[9]=q):q=b[9];var r=q;b[10]!==r||b[11]!==m||b[12]!==f||b[13]!==e?(g=function(){r&&(m&&f?f(e):l(e))},a=[e,r,f,m],b[10]=r,b[11]=m,b[12]=f,b[13]=e,b[14]=g,b[15]=a):(g=b[14],a=b[15]);j(g,a);b[16]!==n||b[17]!==m||b[18]!==f||b[19]!==e?(q=function(){n&&(m&&f?f(e):l(e))},g=[e,n,f,m],b[16]=n,b[17]=m,b[18]=f,b[19]=e,b[20]=q,b[21]=g):(q=b[20],g=b[21]);j(q,g);h(function(){m&&f?f(e):l(e)})}g["default"]=a}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a){i(function(){a.update(function(){var b=d("Lexical").$getRoot();if(b.isEmpty()){var c=d("Lexical").$createParagraphNode();b.append(c);b=document.activeElement;(d("Lexical").$getSelection()!==null||b!==null&&b===a.getRootElement())&&c.select()}})},[a])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.unstable_useMemoCache;function a(a,b){var c=j(4),e=b===void 0?!1:b,f;c[0]!==a||c[1]!==e?(b=function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),b=d("Lexical").$getSelection(),c=d("Lexical").$createParagraphNode();a.clear();a.append(c);b!==null&&(c.select(),e===!0&&d("Lexical").$isRangeSelection(b)&&(b.format=0))});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},f=[e,a],c[0]=a,c[1]=e,c[2]=b,c[3]=f):(b=c[2],f=c[3]);i(b,f)}g["default"]=a}),98);
__d("useMWPUpdateNewMessageDraftsContext",["LexicalText","MWPNewMessageDraftContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=a.editor,c=a.isPreviewThread,e=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),f=i(function(a){a=a.read(function(){return d("LexicalText").$rootTextContent()});c&&e!=null&&(e.current=a)},[c,e]);j(function(){f(b.getEditorState());return b.registerUpdateListener(function(a){return f(a.editorState)})},[f,b])}g["default"]=a}),98);
__d("useMWPComposerEditor",["I64","Int64Hooks","Lexical","LexicalText","MWChatMessagesOnChatTabLoadTracker","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","WALoggerDeferred","cr:7101","emptyFunction","mwpLexicalCreateEditor","promiseDone","react","useLexicalInitializeEditor__DEPRECATED","useMWLSSaveDrafts","useMWPCometComposerPrepopulateDraftMessage","useMWPComposerAutoFocus","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWPUpdateNewMessageDraftsContext","useMWXLexicalHasText","useMWXLexicalOnTypingChanged"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useContext,k=e.useEffect,l=e.useMemo,m=e.useRef,n=b("cr:7101")==null?function(a){}:b("cr:7101").useMWComposerKeyCommandFocusRegister,o=[];function p(){c("promiseDone")(d("WALoggerDeferred").logWithTags(["MWPComposerEditor","Composer"],["Calling onSendMessage"],"LOG"))}var q=function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})};function a(a){var b=a.customizedRanges,e=a.getTextFromEditorState,f=e===void 0?q:e;e=a.isPreviewThread;e=e===void 0?!1:e;var g=a.isSendDisabled;g=g===void 0?!1:g;var h=a.mediaStaging;h=h===void 0?o:h;var r=a.onSendMessage,s=a.onTypingStateChanged,t=a.threadKey,u=a.clearFormatAfterSend,v=a.isQuickchat;v=v===void 0?!1:v;var w=a.focusEditorDelayed,x=a.editorNodes,y=a.editorTheme;a=m(null);var z=l(function(){return c("mwpLexicalCreateEditor")({nodes:x,theme:y})},[x,y]);h=h.length>0;c("useLexicalInitializeEditor__DEPRECATED")(z);c("useMWPLexicalClearEditor")(z,u);c("useMWPComposerAutoFocus")({editor:z,focusEditorDelayed:w,hasUnsentAttachments:h,isPreviewThread:e,isQuickchat:v});u=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext();w=j(c("MWPreloadedText"));w=w.text!=null?w.text:u!=null?u.current:d("MWPComposerDraftMessages").getDraftMessage(t);c("useMWLSSaveDrafts")({editor:z,isPreviewThread:e,threadKey:t});c("useMWPCometComposerPrepopulateDraftMessage")(z,w,v);c("useMWPUpdateNewMessageDraftsContext")({editor:z,isPreviewThread:e});var A=d("useMWXLexicalHasText").useMWXLexicalHasText({editor:z,initialValue:w!=null&&w!==""}).useHasText(),B=A||h;u=d("MWV2ComposerHasContentContext.react").useComposerHasContext();var C=u.hasContentRef;k(function(){if(C==null)return;C.current=A},[A,C]);c("useMWXLexicalOnTypingChanged")({editor:z,onTypingStateChanged:s});v=j(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var D=v.onMessageSendAttempt;e=d("Int64Hooks").useCallbackInt64(function(){D==null?void 0:D(B);z.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND);if(!B)return;d("MWChatMessagesOnChatTabLoadTracker").trackSendFor(t);p();var a=b!=null?b(z,(i||(i=d("I64"))).to_string(t)):c("MWV2ChatComposerGetViewContent").getRanges(z),e=z.getEditorState();e=f(e);r(e,a);d("MWPComposerDraftMessages").updateDraftMessage(t,"");z.focus()},[B,r,t,b,z,f,D]);w=g?c("emptyFunction"):e;c("useMWPLexicalCommitMessageOnEnter")(z,w);n(a.current);return{editor:z,editorElementRef:a,hasStuffToSend:B,sendMessage:w}}g["default"]=a}),98);
__d("MWPStableImage.react",["CometObjectFitContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useMemo;var k=b.unstable_useMemoCache,l={constraint:{maxWidth:"x193iq5w",$$css:!0},image:{display:"x1lliihq",height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageFill:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function m(a){var b=k(12),d=a.alt,e=a.aspectRatio,f=a.maxHeight;a=a.src;f=f.toString()+"px";var g;b[0]!==f?(g={display:"block",maxHeight:f,maxWidth:"100%"},b[0]=f,b[1]=g):g=b[1];f=g;g=f;f=e==null?!1:l.imageFill;var i;b[2]!==f?(i=(h||(h=c("stylex")))(l.image,f),b[2]=f,b[3]=i):i=b[3];b[4]!==d||b[5]!==i||b[6]!==a||b[7]!==g?(f=j.jsx("img",{alt:d,className:i,src:a,style:g}),b[4]=d,b[5]=i,b[6]=a,b[7]=g,b[8]=f):f=b[8];d=f;if(e!=null){b[9]!==e||b[10]!==d?(i=j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:d}),b[9]=e,b[10]=d,b[11]=i):i=b[11];return i}else return d}function n(a){var b=k(12),c=a.aspectRatio,d=a.children,e=a.className,f=a.height,g=a.maxHeight;a=a.maxWidth;d=(d=d)!=null?d:null;bb18:{if(c!=null&&f!=null){c=(c*Math.min(g,f)).toString()+"px";b[0]!==c?(g={maxWidth:"100%",width:c},b[0]=c,b[1]=g):g=b[1];f=g;break bb18}f=void 0}c=f;bb19:{if(a!=null){g=a.toString()+"px";b[2]!==g?(f={maxWidth:g},b[2]=g,b[3]=f):f=b[3];a=f;break bb19}a=void 0}g=a;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f="x193iq5w",b[4]=f):f=b[4];b[5]!==e||b[6]!==c||b[7]!==d?(a=j.jsx("div",{className:e,style:c,children:d}),b[5]=e,b[6]=c,b[7]=d,b[8]=a):a=b[8];b[9]!==g||b[10]!==a?(e=j.jsx("div",{className:f,children:j.jsx("div",{style:g,children:a})}),b[9]=g,b[10]=a,b[11]=e):e=b[11];return e}function a(a){var b=k(14),c=a.alt,d=a.children,e=a.className,f=a.height,g=a.maxHeight,h=a.maxWidth,i=a.src;a=a.width;var l=a!=null&&f!=null?a/f:void 0,o;b[0]!==c||b[1]!==l||b[2]!==g||b[3]!==i?(o=j.jsx(m,{alt:c,aspectRatio:l,maxHeight:g,src:i}),b[0]=c,b[1]=l,b[2]=g,b[3]=i,b[4]=o):o=b[4];b[5]!==l||b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==h||b[10]!==a||b[11]!==o||b[12]!==d?(c=j.jsxs(n,{aspectRatio:l,className:e,height:f,maxHeight:g,maxWidth:h,width:a,children:[o,d]}),b[5]=l,b[6]=e,b[7]=f,b[8]=g,b[9]=h,b[10]=a,b[11]=o,b[12]=d,b[13]=c):c=b[13];return c}g.MWPStableImageContainer=n;g.MWPStableImage=a}),98);
__d("StylexHelpers.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};g.styles=a}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(7),c=a.message;a=a.outgoing;var e=d("MWPMessageAuthor.react").useAuthorName();e=e[0];var f;b[0]!==a?(f=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__"),b[0]=a,b[1]=f):f=b[1];f=f;var g;b[2]!==c.isAdminMessage||b[3]!==e||b[4]!==a||b[5]!==f?(g=!c.isAdminMessage&&k.jsx("span",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",children:e!=null&&!a?e:f}),b[2]=c.isAdminMessage,b[3]=e,b[4]=a,b[5]=f,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("EntMessageReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({REGULAR:0,BUMP:1});f["default"]=a}),66);
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return[(h||(h=d("I64"))).and_((i||(i=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes),h.and_(i.ofNumber(2048),a.displayedContentTypes)].some(function(a){return(h||(h=d("I64"))).to_int32(a)!==0})}g["default"]=a}),98);
__d("MWPMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.replySourceTypeV2!=null&&(h||(h=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("MWPMessageParsingUtils",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=280,k=3e5;function l(a){return!c("isStringNullOrEmpty")(a.text)}function m(a){a=a.replySourceTypeV2;return a==null?!1:!(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function n(a){a=a.replySourceTypeV2;return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function o(a){return((a=a.text)!=null?a:"").length>j}var p=[128,256,4096,4,512];function q(a){return a.isAdminMessage||p.some(function(b){return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(b),a.displayedContentTypes)})||o(a)}function r(a,b){if(b===void 0)return!0;var c=Math.abs((h||(h=d("I64"))).to_float(a.timestampMs)-h.to_float(b.timestampMs))>k,e=n(a),f=h.equal(a.senderId,b.senderId);if(b.isUnsent||a.isUnsent||m(a)||!f||c||e||q(a))return!0;else return q(b)}function s(a,b){return b==null||r(a,b)}function t(a,b){return b==null||r(b,a)}function a(a,b,c){return c==="below"?l(a)?!0:!s(a,b):!1}function b(a,b,c){if(c==="below")return!t(a,b);else if(t(a,b))return!1;else return l(a)}e={shouldConnectBottom:b,shouldConnectTop:a};g.hasText=l;g.isReplyToSomething=m;g.isForwarded=n;g.isLongText=o;g.shouldBeStandalone=q;g.isInDifferentGroup=r;g.isStartOfGroup=s;g.isEndOfGroup=t;g.MessageWithAttachments=e}),98);
__d("xmaLayouts",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};f.XMA_LAYOUTS=a}),66);
__d("MWPBaseMessageContent.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageHasAttachment","MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPThreadCapabilitiesContext","gkx","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).unstable_useMemoCache,l=h;function a(a){var b=k(33),e=a.attachmentRenderPosition,f=a.isEmojiOnly,g=a.isFirstMessageInGroup,h=a.isLastMessageInGroup,m=a.isMessagePinned,n=a.isNextMessagePinned,o=a.isSearchPluginAttachment,p=a.message,q=a.nextMessage,r=a.outgoing,s=a.prevMessage,t=a.renderAttachment,u=a.renderEmoji,v=a.renderMessageBubble,w=a.shouldHideLinkPreviews,x=a.shouldRenderMessageContent;a=a.xmaLayout;var y=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();y=y.disableLinks;var z;b[0]!==p?(z=c("MWPMessageIsReply")(p),b[0]=p,b[1]=z):z=b[1];z=z;var A;if(b[2]!==p||b[3]!==y||b[4]!==w||b[5]!==e||b[6]!==o||b[7]!==z||b[8]!==g||b[9]!==m||b[10]!==h||b[11]!==n||b[12]!==a||b[13]!==x||b[14]!==f||b[15]!==u||b[16]!==r||b[17]!==v||b[18]!==s||b[19]!==q||b[20]!==t){var B=d("MWPMessageParsingUtils").hasText(p),C=c("MWPMessageHasXMA")(p),D=c("gkx")("12734")&&y&&C&&p.textHasLinks;D=w===!0||D;var E=p.replyType!=null&&(i||(i=d("I64"))).equal(p.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP));E=!E&&C&&e==="below"&&!D&&!o;C=e==="below"?!z&&!g&&!m:!1;var F=!h&&!n||(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?E:!1);x?C=p.text!=null?f?z?l.jsx("div",{className:"x1n2onr6 x1vjfegm",children:u(p)}):z?null:l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[C?l.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,l.jsx("div",{className:"x1n2onr6 x1vjfegm",children:u(p)})]}):p.text!==""?l.jsxs(l.Fragment,{children:[C||e==="above"?l.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,l.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[r?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,v(p,C,F,E,r),r?null:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]})]}):null:null:C=null;c("MWPMessageHasAttachment")(p)&&!D&&(A=t(d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(p,s,e),d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(p,q,e),B));b[2]=p;b[3]=y;b[4]=w;b[5]=e;b[6]=o;b[7]=z;b[8]=g;b[9]=m;b[10]=h;b[11]=n;b[12]=a;b[13]=x;b[14]=f;b[15]=u;b[16]=r;b[17]=v;b[18]=s;b[19]=q;b[20]=t;b[21]=A;b[22]=C}else A=b[21],C=b[22];b[23]!==e||b[24]!==A?(F=e==="above"?A:null,b[23]=e,b[24]=A,b[25]=F):F=b[25];b[26]!==e||b[27]!==A?(E=e==="below"?A:null,b[26]=e,b[27]=A,b[28]=E):E=b[28];b[29]!==F||b[30]!==C||b[31]!==E?(D=l.jsxs(l.Fragment,{children:[F,C,E]}),b[29]=F,b[30]=C,b[31]=E,b[32]=D):D=b[32];return D}g.MWPBaseMessageContent=a}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.unstable_useMemoCache;function a(a){var b=j(18),e=a.attachmentRenderPosition,f=a.isEmojiOnly,g=a.isFirstMessageInGroup,h=a.isLastMessageInGroup,k=a.isSearchPluginAttachment,l=a.message,m=a.nextMessage,n=a.outgoing,o=a.prevMessage,p=a.renderAttachment,q=a.renderEmoji,r=a.renderMessageBubble,s=a.shouldHideLinkPreviews,t=a.shouldRenderMessageContent;a=a.xmaLayout;var u=c("useMWPIsMessagePinned")(l),v=c("useMWPIsMessagePinned")(m),w;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==u||b[5]!==v||b[6]!==k||b[7]!==l||b[8]!==m||b[9]!==n||b[10]!==o||b[11]!==p||b[12]!==q||b[13]!==r||b[14]!==s||b[15]!==t||b[16]!==a?(w=i.jsx(d("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:e,isEmojiOnly:f,isFirstMessageInGroup:g,isLastMessageInGroup:h,isMessagePinned:u,isNextMessagePinned:v,isSearchPluginAttachment:k,message:l,nextMessage:m,outgoing:n,prevMessage:o,renderAttachment:p,renderEmoji:q,renderMessageBubble:r,shouldHideLinkPreviews:s,shouldRenderMessageContent:t,xmaLayout:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=u,b[5]=v,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o,b[11]=p,b[12]=q,b[13]=r,b[14]=s,b[15]=t,b[16]=a,b[17]=w):w=b[17];e=w;return e}g["default"]=a}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MWV2MessageIsEmojiOnly","MessengerWebUXLogger","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||(i=d("react"))).unstable_useMemoCache,l=i,m={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",userSelect:"x1kxipp6",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function n(a,b){if(d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(128),a.displayedContentTypes))return!0;else return c("MWV2MessageIsEmojiOnly")(a.text,b)}function a(a){var b=k(51),e=a.attachmentRenderPosition,f=a.checkEmoticon,g=a.isFirstMessageInGroup,i=a.isLastMessageInGroup,j=a.isSearchPluginAttachment,o=a.message,p=a.nextMessage,q=a.outgoing,r=a.prevMessage,s=a.reactions,t=a.renderAttachment,u=a.renderEmoji,v=a.renderMessageBubble,w=a.renderMessageContainer,x=a.renderMessageFooter,y=a.renderUnsentMessage,z=a.shouldHideLinkPreviews,A=a.shouldRenderMessageContent;a=a.xmaLayout;e=e===void 0?"below":e;j=j===void 0?!1:j;A=A===void 0?!0:A;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var B;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(B={eventName:"messagelist_message_impression"},b[0]=B):B=b[0];B=c("MessengerWebUXLogger").useImpressionLoggerRef(B);if(o.isUnsent)if(y!=null){var C;b[1]!==y?(C=y(),b[1]=y,b[2]=C):C=b[2];b[3]!==C?(y=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:C}),b[3]=C,b[4]=y):y=b[4];return y}else return null;b[5]!==o||b[6]!==f?(C=n(o,f),b[5]=o,b[6]=f,b[7]=C):C=b[7];y=C;b[8]!==e||b[9]!==y||b[10]!==g||b[11]!==i||b[12]!==j||b[13]!==o||b[14]!==p||b[15]!==q||b[16]!==r||b[17]!==t||b[18]!==u||b[19]!==v||b[20]!==z||b[21]!==A||b[22]!==a?(f=l.jsx(c("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:e,isEmojiOnly:y,isFirstMessageInGroup:g,isLastMessageInGroup:i,isSearchPluginAttachment:j,message:o,nextMessage:p,outgoing:q,prevMessage:r,renderAttachment:t,renderEmoji:u,renderMessageBubble:v,shouldHideLinkPreviews:z,shouldRenderMessageContent:A,xmaLayout:a}),b[8]=e,b[9]=y,b[10]=g,b[11]=i,b[12]=j,b[13]=o,b[14]=p,b[15]=q,b[16]=r,b[17]=t,b[18]=u,b[19]=v,b[20]=z,b[21]=A,b[22]=a,b[23]=f):f=b[23];C=f;b[24]===Symbol["for"]("react.memo_cache_sentinel")?(e="x78zum5 xh8yej3",b[24]=e):e=b[24];b[25]!==q?(g=q?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,b[25]=q,b[26]=g):g=b[26];b[27]!==w||b[28]!==q||b[29]!==C?(i=w!=null?w(C,[m.container,q?m.outgoing:!1]):l.jsx("div",{className:(h||(h=c("stylex")))(m.container,q?m.outgoing:!1),children:C}),b[27]=w,b[28]=q,b[29]=C,b[30]=i):i=b[30];b[31]!==q?(j=q?null:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}),b[31]=q,b[32]=j):j=b[32];b[33]!==B||b[34]!==g||b[35]!==i||b[36]!==j||b[37]!==y||b[38]!==s?(o=l.jsxs("div",{className:e,ref:B,role:"none",children:[g,i,j]}),p=y&&s.length>0?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,b[33]=B,b[34]=g,b[35]=i,b[36]=j,b[37]=y,b[38]=s,b[39]=p,b[40]=o):(p=b[39],o=b[40]);b[41]!==x?(r=x(),b[41]=x,b[42]=r):r=b[42];b[43]!==r?(t=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:r}),b[43]=r,b[44]=t):t=b[44];b[45]!==p||b[46]!==t?(u=l.jsxs(l.Fragment,{children:[p,t]}),b[45]=p,b[46]=t,b[47]=u):u=b[47];b[48]!==o||b[49]!==u?(v=l.jsxs(l.Fragment,{children:[o,u]}),b[48]=o,b[49]=u,b[50]=v):v=b[50];return v}g["default"]=a}),98);
__d("getMessengerPreciseTimestamp",["$InternalEnum","formatDate"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum").Mirrored(["TODAY","WEEK_AGO","CURRENT_YEAR","OTHER_YEAR"]);d=864e5;var i=6*d;function j(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return h.TODAY;if(b.getTime()-i<a.getTime())return h.WEEK_AGO;return b.getFullYear()===a.getFullYear()?h.CURRENT_YEAR:h.OTHER_YEAR}function k(a){a=j(a);switch(a){case h.TODAY:return"g:ia";case h.WEEK_AGO:return"l g:ia";case h.CURRENT_YEAR:return"F jS, g:ia";case h.OTHER_YEAR:return"F j, Y g:i a"}}function a(a){return c("formatDate")(new Date(a),k(a))}g["default"]=a}),98);
__d("MWMessageDeliveryStatus",["fbt","I64","LSIntEnum","getFBTSafeGenderFromGenderConst","getMessengerPreciseTimestamp","intlList","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){if(a.length!==1)return{heads:a,type:"MultipleSeenHeads"};a=a[0];return{head:a,type:"SingleSeenHead"}}function b(a,b){return{delivered:b,heads:a,type:"DeliveredAndRead"}}function e(a){return{count:a,type:"SeenCount"}}function k(a){return a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",c("getMessengerPreciseTimestamp")(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])}function l(a,b){if(a.length===0)return"";if(b)return h._("__JHASH__xJFzJjmgrii__JHASH__").toString();b=a.map(function(a){return h._("__JHASH__anoMlIo0TA0__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])});a=c("intlList")(b,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__rtgGiNEWfHK__JHASH__",[h._param("full name",a)]).toString()}function m(a){a=c("intlSummarizeNumber")(a);return h._("__JHASH___KIWePVuuHb__JHASH__",[h._param("seen count",a)]).toString()}var n={delivered:h._("__JHASH__DGTdcv4yxEO__JHASH__"),error:h._("__JHASH__HWY7OcPbAjW__JHASH__"),loading:h._("__JHASH__ge1hq8iGlfw__JHASH__"),retriableError:h._("__JHASH__VG5ajSXV9DG__JHASH__"),sending:h._("__JHASH__-KPam8KdjJ8__JHASH__"),sent:h._("__JHASH__FdnMQ3ayYbi__JHASH__")};function f(a){switch(a.type){case"Sending":return n.sending;case"Sent":case"Delivered":return n.sent;case"Error":return n.error;case"SingleSeenHead":return k(a.head);case"NoneStatus":case"MultipleSeenHeads":return"";case"DeliveredAndRead":return l(a.heads,a.delivered);case"SeenCount":return m(a.count);case"Loading":return n.loading;case"RetriableError":return n.retriableError}}function o(a){switch(a.type){case"Sending":return n.sending;case"Sent":return n.sent;case"Delivered":return n.delivered;case"Error":return n.error;case"SingleSeenHead":return k(a.head);case"DeliveredAndRead":return l(a.heads,a.delivered);default:return""}}function p(a){if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(1)))return{type:"Sending"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(6)))return{type:"Sent"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(5)))return{type:"Error"};else return{type:"NoneStatus"}}function q(a,b,c){var e=p(a.sendStatusV2);if((i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(5))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(1)))return e;else if(!c&&(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(2)))return{type:"NoneStatus"};else if((i||(i=d("I64"))).ge(b,a.timestampMs))return{type:"Delivered"};else return e}function r(a){return["SingleSeenHead","Sending","MultipleSeenHeads","Error"].includes(a.type)}g.seenHead=a;g.deliveredAndRead=b;g.seenCount=e;g.getSingleSeenHead=k;g.getSeenCount=m;g.Titles=n;g.getBroadcastStatusTitle=f;g.getStatusTitle=o;g.getFromSendStatus=p;g.getDeliveryStatusForMessageSentByYou=q;g.isAlwaysShownStatus=r}),98);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",justifyContent:"xl56j7k",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=j(9),d=a.ariaHidden,e=a.ephemeralDurationInSec,f=a.expirationTimestamp;a=a.hasReactions;d=d===void 0?!1:d;a=a?l.moveUpToAccountForReactions:!1;var g;b[0]!==a?(g=(h||(h=c("stylex")))(l.root,a),b[0]=a,b[1]=g):g=b[1];b[2]!==e||b[3]!==f?(a=k.jsx(c("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:e,expirationTimestamp:f}),b[2]=e,b[3]=f,b[4]=a):a=b[4];b[5]!==d||b[6]!==g||b[7]!==a?(e=k.jsx("div",{"aria-hidden":d,className:g,children:a}),b[5]=d,b[6]=g,b[7]=a,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowCountdown.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i;m.useCallback;m.useMemo;var n=m.unstable_useMemoCache;function a(a){var b=a.children,c=a.message;a=a.prevMessage;c=d("MWPMessageParsingUtils").isStartOfGroup(c,a);return c?b():null}a.displayName=a.name+" [from "+f.id+"]";function o(a){return(j||(j=d("I64"))).equal(j.and_(a.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(2048)),j.zero)}var p={container:{display:"x78zum5",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0},innerOutgoing:{flexDirection:"x15zctf7",$$css:!0},multiReact:{zIndex:"x1vjfegm",$$css:!0},multiReactIncoming:{marginStart:"x1liizu2",marginLeft:null,marginRight:null,$$css:!0},multiReactOutgoing:{display:"x78zum5",flexDirection:"x15zctf7",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,marginStart:"x1mh8g0r",$$css:!0},multiReactWrapper:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0}};function b(a){var b=n(60),e=a.children,f=a.hasReactions,g=a.message,i=a.outgoing,j=a.renderGenAIFeedbackActions,k=a.renderGutterItem,m=a.renderMessageActions,q=a.renderMultiReactions;a=a.renderProfile;var r;b[0]!==g?(r=c("MWPMessageIsReply")(g),b[0]=g,b[1]=r):r=b[1];r=r;var s=g.ephemeralExpirationTs,t=g.ephemeralDurationInSec,u=g.isUnsent,v=d("MWMessageDeliveryStatus").getFromSendStatus(g.sendStatusV2).type==="Sending",w;b[2]!==q?(w=q&&q(),b[2]=q,b[3]=w):w=b[3];q=w;w=q!=null;var x;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(x="x78zum5",b[4]=x):x=b[4];var y;b[5]!==i||b[6]!==a?(y=i?null:a(),b[5]=i,b[6]=a,b[7]=y):y=b[7];b[8]!==f||b[9]!==w?(a=f&&!w?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null,b[8]=f,b[9]=w,b[10]=a):a=b[10];var z;b[11]!==y||b[12]!==a?(z=l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:[y,a]}),b[11]=y,b[12]=a,b[13]=z):z=b[13];y=i?p.innerOutgoing:!1;b[14]!==y?(a=(h||(h=c("stylex")))(p.inner,y),b[14]=y,b[15]=a):a=b[15];b[16]!==g?(y=o(g),b[16]=g,b[17]=y):y=b[17];var A;b[18]!==i||b[19]!==r?(A=!i||r,b[18]=i,b[19]=r,b[20]=A):A=b[20];var B;b[21]!==y||b[22]!==A||b[23]!==e||b[24]!==s||b[25]!==u||b[26]!==t||b[27]!==f?(r=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnBubble,{makeSpaceForActions:y,paint:A,children:e}),B=s!=null&&!u?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:l.jsx(c("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:t,expirationTimestamp:s,hasReactions:f})}):null,b[21]=y,b[22]=A,b[23]=e,b[24]=s,b[25]=u,b[26]=t,b[27]=f,b[28]=r,b[29]=B):(r=b[28],B=b[29]);b[30]!==j||b[31]!==v?(y=j!=null?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:v?null:j()}):null,b[30]=j,b[31]=v,b[32]=y):y=b[32];b[33]!==g||b[34]!==v||b[35]!==m?(A=o(g)?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:v?null:m()}):null,b[33]=g,b[34]=v,b[35]=m,b[36]=A):A=b[36];b[37]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}),b[37]=e):e=b[37];b[38]!==a||b[39]!==r||b[40]!==B||b[41]!==y||b[42]!==A?(s=l.jsxs("div",{className:a,"data-testid":void 0,role:"none",children:[r,B,y,A,e]}),b[38]=a,b[39]=r,b[40]=B,b[41]=y,b[42]=A,b[43]=s):s=b[43];b[44]!==k?(u=k(),b[44]=k,b[45]=u):u=b[45];b[46]!==f?(t=f?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null,b[46]=f,b[47]=t):t=b[47];b[48]!==u||b[49]!==t?(j=l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[u,t]}),b[48]=u,b[49]=t,b[50]=j):j=b[50];b[51]!==z||b[52]!==s||b[53]!==j?(g=l.jsxs("div",{className:x,role:"none",children:[z,s,j]}),b[51]=z,b[52]=s,b[53]=j,b[54]=g):g=b[54];v=g;b[55]!==w||b[56]!==i||b[57]!==q||b[58]!==v?(m=w?l.jsxs("div",{className:"x78zum5 xdt5ytf x1n2onr6",role:"none",children:[v,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx("div",{className:(h||(h=c("stylex")))(p.container,p.multiReact,i?p.multiReactOutgoing:p.multiReactIncoming),children:q})})]}):v,b[55]=w,b[56]=i,b[57]=q,b[58]=v,b[59]=m):m=b[59];return m}function e(a){var b=a.children,c=a.message,e=a.nextMessage;a=a.showContent;c=d("MWPMessageParsingUtils").isEndOfGroup(c,e);return c||a===!0?b():null}e.displayName=e.name+" [from "+f.id+"]";m={"mwp-reply-background-color":"var(--comment-footer-background)"};f={"mwp-reply-background-color":"var(--comment-footer-background)"};var q={dark:f,light:m,type:"VARIABLES"};function r(a){var b=n(15),e=a.children,f=a.domElementRef,g=a.role,i=a.setHovered,j=a.stopHoveringRef,k=a.theme,m=a.xstyle;a=k===void 0?q:k;b[0]!==i?(k=function(){return i(function(){return!1})},b[0]=i,b[1]=k):k=b[1];var o=k;b[2]!==a?(k=d("MWCombineThemeConfigs").combine(q,a),b[2]=a,b[3]=k):k=b[3];a=k;b[4]!==m||b[5]!==j||b[6]!==i||b[7]!==o||b[8]!==f||b[9]!==g||b[10]!==e?(k=function(a,b){return l.jsx("div",{className:(h||(h=c("stylex")))(a,m),onMouseEnter:function(){j.current&&j.current(),i(function(){return!0}),j.current=o},onMouseLeave:function(){if(j.current===o){o();j.current=function(){};return}},ref:f,role:g,style:babelHelpers["extends"]({},b),children:e})},b[4]=m,b[5]=j,b[6]=i,b[7]=o,b[8]=f,b[9]=g,b[10]=e,b[11]=k):k=b[11];var p;b[12]!==a||b[13]!==k?(p=l.jsx(c("BaseThemeProvider.react"),{config:a,children:k}),b[12]=a,b[13]=k,b[14]=p):p=b[14];return p}g.MWPBaseMessageListRowBeforeContent=a;g.MWPBaseMessageListRowBody=b;g.MWPBaseMessageListRowFooter=e;g.MWPBaseMessageListRow=r}),98);
__d("MWMessageDisplayContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.unstable_useMemoCache,l=i.createContext();function a(a){var b=k(3),c=a.children;a=a.value;a=a===void 0?"standard":a;var d;b[0]!==a||b[1]!==c?(d=i.jsx(l.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=d):d=b[2];return d}function b(){return j(l)}g.MWMessageDisplayContextProvider=a;g.useMWMessageDisplayContext=b}),98);
__d("MercuryTimestamp",["fbt","formatDate"],(function(a,b,c,d,e,f,g){a=864e5;var h=6*a,i={getFormatedTimestamp:function(a){var b=a/1e3;return i.getFormattedTimestampByBucket(b,i.getTimeBucket(a))},getAbsoluteTimestamp:function(a){if(a==null)return null;else{a=i.getFormatedTimestamp(a);return a.absolute}},getRelativeTimestamp:function(a){a=i.getFormatedTimestamp(a);return a.relative},getFormattedTimestampByBucket:function(a,c){switch(c){case 0:return{absolute:g._("__JHASH__EpdLnM9AeUo__JHASH__").toString(),relative:b("formatDate")(a,"g:ia")};case 1:return{absolute:b("formatDate")(a,"l"),relative:b("formatDate")(a,"D")};case 3:return{absolute:b("formatDate")(a,"F j"),relative:b("formatDate")(a,"M j")};default:return{absolute:b("formatDate")(a,"F j, Y"),relative:b("formatDate")(a,"n/j/y")}}},getTimeBucket:function(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return 0;else if(b-h<a)return 1;else if(b.getFullYear()===a.getFullYear())return 3;else return 4},getPreciseTimestamp:function(a){return b("formatDate")(new Date(a),i.getPreciseFormat(a))},getPreciseFormat:function(a){a=i.getTimeBucket(a);switch(a){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};e.exports=i}),null);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j;function a(a){var b=k(9),e=a.message,f=a.renderText,g=a.renderTimestamp;a=a.xstyle;var j;b[0]!==a?(j=(h||(h=c("stylex")))(a),b[0]=a,b[1]=j):j=b[1];b[2]!==e.timestampMs||b[3]!==g||b[4]!==f?(a=f(g(c("MercuryTimestamp").getRelativeTimestamp((i||(i=d("I64"))).to_float(e.timestampMs)))),b[2]=e.timestampMs,b[3]=g,b[4]=f,b[5]=a):a=b[5];b[6]!==j||b[7]!==a?(e=l.jsx("div",{className:j,children:a}),b[6]=j,b[7]=a,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("MWGroupUpdatesVerifiedIcon.react",["ix","CometIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("LSIssueCommunityAdminModerationActionsFetchImplWeb",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("fb_group_id",a[0]),d[0].set("target_user_id",a[1]),d[0].set("source",a[2]),d[0].set("thread_id",a[3]),d[0].set("request_id",a[4]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[5]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[5],c.i64.cast([0,0]))):d[1]=c.i64.cast([0,0]),d[2]=d[0].get("fb_group_id"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[2]),c.i64.cast([0,428]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueCommunityAdminModerationActionsFetchProxy",["LSIssueCommunityAdminModerationActionsFetchImplWeb"],(function(a,b,c,d,e,f,g){g["default"]=c("LSIssueCommunityAdminModerationActionsFetchImplWeb")}),98);
__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueCommunityAdminModerationActionsFetchProxy"],(function(a,b,c,d,e,f,g){f.exports=c("LSIssueCommunityAdminModerationActionsFetchProxy")}),34);
__d("LSIssueCommunityAdminModerationActionsFetchStoredProcedure",["LSIssueCommunityAdminModerationActionsFetch"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.fbGroupId;d[1]=b.targetUserId;d[2]=b.source;d[3]=b.threadId;d[4]=b.requestId;return c("LSIssueCommunityAdminModerationActionsFetch").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MessagingSpecialThreadRole",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN:1,THREAD_CREATOR:2,SUPER_ADMIN:3,MODERATOR:4,IG_BROADCAST_CHAT_COLLABORATOR:5,CHAT_HOST:6});f["default"]=a}),66);
__d("MessagingSpecialThreadRoleBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b==null?!1:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),b.threadRoles)}g.has=a}),98);
__d("useMWCMIsSenderChatHost",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","pageID","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).unstable_useMemoCache;function a(a,b,e){var g=k(6),j=(h||(h=c("useReStore")))(),l,m;g[0]!==j||g[1]!==a||g[2]!==e||g[3]!==b?(l=function(){c("promiseDone")(j.runInTransaction(function(f){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(f),{fbGroupId:a,requestId:c("pageID"),source:(i||(i=d("LSIntEnum"))).ofNumber(14),targetUserId:e,threadId:b})},"readwrite"))},m=[j,a,e,b],g[0]=j,g[1]=a,g[2]=e,g[3]=b,g[4]=l,g[5]=m):(l=g[4],m=g[5]);d("Int64Hooks").useEffectInt64(l,m);return(g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(j.table("community_members")).getKeyRange(a,e,(i||(i=d("LSIntEnum"))).ofNumber(14),c("pageID")).map(function(a){return d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,a)})},[j,a,e],f.id+":59"))!=null?g:!1}g["default"]=a}),98);
__d("useMWPIsSenderAdMod",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).unstable_useMemoCache;function a(a,e){var g=l(17),k=(h||(h=c("useReStore")))(),m,n;g[0]!==a||g[1]!==k||g[2]!==e?(m=function(){var f=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){a!=null&&!(i||(i=d("I64"))).is_zero(a)&&(yield k.runInTransaction(function(b){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(b),{fbGroupId:a,requestId:c("pageID"),source:(j||(j=d("LSIntEnum"))).ofNumber(14),targetUserId:e})},"readwrite"))});return function(){return f.apply(this,arguments)}}();c("promiseDone")(f())},n=[k,a,e],g[0]=a,g[1]=k,g[2]=e,g[3]=m,g[4]=n):(m=g[3],n=g[4]);d("Int64Hooks").useEffectInt64(m,n);g[5]!==a||g[6]!==k||g[7]!==e?(m=function(){return a!=null?d("ReQL").fromTableAscending(k.table("community_members").index("communityContact")).getKeyRange(a,e,c("pageID")):d("ReQL").empty()},n=[k,a,e],g[5]=a,g[6]=k,g[7]=e,g[8]=m,g[9]=n):(m=g[8],n=g[9]);m=d("ReQLSuspense").useFirst(m,n,f.id+":61");g[10]!==m?(n=(m==null?void 0:m.isAdmin)==null?!1:m.isAdmin,g[10]=m,g[11]=n):n=g[11];n=n;var o;g[12]!==m?(o=(m==null?void 0:m.isModerator)==null?!1:m.isModerator,g[12]=m,g[13]=o):o=g[13];m=o;g[14]!==n||g[15]!==m?(o={isAdmin:n,isModerator:m},g[14]=n,g[15]=m,g[16]=o):o=g[16];return o}g["default"]=a}),98);
__d("MWPMessageAdModOrHostText.react",["fbt","CometHovercardTrigger.react","CometMiddot.react","I64","MWCMHostTextHovercard.entrypoint","MWXText.react","react","useMWCMIsSenderChatHost","useMWPIsSenderAdMod"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||(i=d("react"))).unstable_useMemoCache,l=i;function m(a){var b=k(17),d=a.communityId,e=a.senderId,f=a.shouldRenderSenderName;a=a.threadKey;var g=c("useMWPIsSenderAdMod")(d,e),i=g.isAdmin;g=g.isModerator;d=c("useMWCMIsSenderChatHost")(d,a,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__l4xCpI5VHpV__JHASH__"),b[0]=e):e=b[0];e=e;var j;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._("__JHASH__hz8R4t8GDy7__JHASH__"),b[1]=j):j=b[1];j=j;var m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(){},b[2]=m):m=b[2];b[3]!==a?(m={onClose:m,threadKey:a},b[3]=a,b[4]=m):m=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[5]=a):a=b[5];var n;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(a){return l.jsx(c("MWXText.react"),{ref:a,type:"meta4",children:h._("__JHASH__bZRJOb_t9fa__JHASH__")})},b[6]=n):n=b[6];b[7]!==m?(a=l.jsx(c("CometHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:c("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:m,popoverProps:a,position:"above",children:n}),b[7]=m,b[8]=a):a=b[8];n=a;b[9]!==f||b[10]!==i||b[11]!==g||b[12]!==d||b[13]!==n?(m=f&&(i||g||d)&&l.jsxs(l.Fragment,{children:[l.jsx(c("CometMiddot.react"),{}),l.jsx("span",{"data-testid":void 0,children:i?e:g?j:n})]}),b[9]=f,b[10]=i,b[11]=g,b[12]=d,b[13]=n,b[14]=m):m=b[14];b[15]!==m?(a=l.jsx(l.Fragment,{children:m}),b[15]=m,b[16]=a):a=b[16];return a}function a(a){var b=k(5),c=a.communityId,e=a.message;a=a.shouldRenderSenderName;if(c==null||(j||(j=d("I64"))).is_zero(c))return null;var f;b[0]!==c||b[1]!==e.senderId||b[2]!==e.threadKey||b[3]!==a?(f=l.jsx(m,{communityId:c,senderId:e.senderId,shouldRenderSenderName:a,threadKey:e.threadKey}),b[0]=c,b[1]=e.senderId,b[2]=e.threadKey,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","I64","LSContactBitOffset","LSMessagingThreadTypeUtil","MWCMBotIcons.react","MWEditedEyebrow.react","MWGroupUpdatesVerifiedIcon.react","MWLSThread","MWMessageDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPEditMessageUtil","MWPMessageAdModOrHostText.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPThreadIsPage.react","ReQL","ReQLSuspense","react","stylex","useMWPIsMessagePinned","usePinnedTextAnimation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(l||(l=d("react"))).unstable_useMemoCache,n=l,o={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{bottom:"x1c7jfne",paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0},color:{color:"x186z157",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,$$css:!0},separator:{paddingEnd:"x19um543",paddingLeft:null,paddingRight:null,paddingStart:"x1m6msm",$$css:!0}};function p(a){var b=m(5),d=a.children;a=a.outgoing;a=a?o.alignEnd:o.alignStart;var e;b[0]!==a?(e=(i||(i=c("stylex")))(o.container,a),b[0]=a,b[1]=e):e=b[1];b[2]!==e||b[3]!==d?(a=n.jsx("div",{className:e,children:d}),b[2]=e,b[3]=d,b[4]=a):a=b[4];return a}function a(a){var b=m(71),e=a.message,g=a.outgoing,l=a.renderPaidPartnerShipText,q=a.renderPinnedText,r=a.renderTextWrapper;a=a.shouldRenderSenderName;var s=d("MWPMessageAuthor.react").useAuthorName();s=s[0];var t=d("MWPContactContext.react").useMWPContactStableContext(),u=t.contact;t=t.nickname;var v=d("Actor").useActor();v=v[0];var w=d("MWMessageDisplayContext.react").useMWMessageDisplayContext(),x=(k||(k=c("useReStore")))(),y;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(a){return a.parentThreadKey},b[0]=y):y=b[0];var z=d("MWLSThread").useThread(e.threadKey,y);b[1]!==z||b[2]!==x.tables.community_folders?(y=function(){return z?d("ReQL").fromTableAscending(x.tables.community_folders).getKeyRange(z).map(function(a){return a.folderId}):d("ReQL").empty()},b[1]=z,b[2]=x.tables.community_folders,b[3]=y):y=b[3];var A;b[4]!==x||b[5]!==z?(A=[x,z],b[4]=x,b[5]=z,b[6]=A):A=b[6];var B=d("ReQLSuspense").useFirst(y,A,f.id+":102");b[7]!==e?(y=d("MWPEditMessageUtil").isEditedMessage(e),b[7]=e,b[8]=y):y=b[8];var C=y;A=d("MWPThreadIsPage.react").useIsPage();b[9]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(a){return a.threadType},b[9]=y):y=b[9];y=d("MWLSThread").useThread(e.threadKey,y);var D;b[10]!==y?(D=y!=null&&d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(y),b[10]=y,b[11]=D):D=b[11];y=D;b[12]!==A||b[13]!==e||b[14]!==g?(D=A&&!(j||(j=d("I64"))).equal(e.senderId,e.threadKey)&&!g,b[12]=A,b[13]=e,b[14]=g,b[15]=D):D=b[15];A=D;b[16]!==a||b[17]!==A||b[18]!==y?(D=a||A&&!y,b[16]=a,b[17]=A,b[18]=y,b[19]=D):D=b[19];var E=D;b[20]!==u?(a=u?d("LSContactBitOffset").has(77,u):!1,b[20]=u,b[21]=a):a=b[21];var F=a;b[22]!==u?(A=u?d("LSContactBitOffset").has(84,u):!1,b[22]=u,b[23]=A):A=b[23];var G=A,H=c("useMWPIsMessagePinned")(e);y=c("usePinnedTextAnimation")(H);var I=y.mountAnimation,J=y.unmountAnimation,K=e.isPaidPartnership===!0;b[24]!==E||b[25]!==H||b[26]!==C||b[27]!==K?(D=E||H||C||K,b[24]=E,b[25]=H,b[26]=C,b[27]=K,b[28]=D):D=b[28];a=D;if(b[29]!==t){A=(u=t)!=null?u:h._("__JHASH__4LwiFWKMkVy__JHASH__");b[29]=t;b[30]=A}else A=b[30];y=A;D=v===(j||(j=d("I64"))).to_string(e.senderId);var L;if(b[31]!==D||b[32]!==y||b[33]!==s||b[34]!==a||b[35]!==e||b[36]!==g||b[37]!==r||b[38]!==E||b[39]!==B||b[40]!==H||b[41]!==I||b[42]!==J||b[43]!==q||b[44]!==C||b[45]!==F||b[46]!==G||b[47]!==K||b[48]!==l||b[49]!==w){u=Symbol["for"]("react.early_return_sentinel");bb124:{t=D?y.toString():s==null?void 0:s.toString();A=h._("__JHASH__G4Bi2CYTkJR__JHASH__");if(!a){b[52]!==e||b[53]!==g?(v=n.jsx(c("MWPAccessibleEyebrowsText.react"),{message:e,outgoing:g}),b[52]=e,b[53]=g,b[54]=v):v=b[54];u=v;break bb124}b[55]!==g||b[56]!==r||b[57]!==E||b[58]!==B||b[59]!==e||b[60]!==H||b[61]!==I||b[62]!==J||b[63]!==q||b[64]!==C||b[65]!==F||b[66]!==G||b[67]!==K||b[68]!==l||b[69]!==w?(v=function(a){a=n.jsx(p,{outgoing:g,children:r(n.jsxs("span",{className:"x186z157",children:[E&&a!=null&&n.jsx("span",{"data-testid":void 0,children:a}),n.jsx(c("MWPMessageAdModOrHostText.react"),{communityId:B,message:e,shouldRenderSenderName:E}),H&&n.jsx("span",{className:(i||(i=c("stylex")))(H?I:J),children:q(e,E)}),C&&n.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{hasSeparator:E&&a!=null,xstyle:o.separator}),F===!0?n.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:n.jsx(d("MWCMBotIcons.react").BadgeIcon,{})}):null,G&&n.jsx("span",{className:"x1c7jfne x1e558r4 x1n2onr6",children:n.jsx(c("MWGroupUpdatesVerifiedIcon.react"),{})}),K&&l!=null&&l(e)]}))});return w==="reportMessages"?n.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:a}):n.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:a})},b[55]=g,b[56]=r,b[57]=E,b[58]=B,b[59]=e,b[60]=H,b[61]=I,b[62]=J,b[63]=q,b[64]=C,b[65]=F,b[66]=G,b[67]=K,b[68]=l,b[69]=w,b[70]=v):v=b[70];v=v;L=e.takedownState!=null?v(A.toString()):v(t)}b[31]=D;b[32]=y;b[33]=s;b[34]=a;b[35]=e;b[36]=g;b[37]=r;b[38]=E;b[39]=B;b[40]=H;b[41]=I;b[42]=J;b[43]=q;b[44]=C;b[45]=F;b[46]=G;b[47]=K;b[48]=l;b[49]=w;b[50]=L;b[51]=u}else L=b[50],u=b[51];return u!==Symbol["for"]("react.early_return_sentinel")?u:L}g["default"]=a}),98);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPThreadIsPage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||(i=d("react"))).unstable_useMemoCache,l=i,m={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0}};function n(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&(j||(j=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){var b=k(36),e=a.alwaysRenderSenderName,f=a.isAnyCMThread,g=a.isFirstMessageInGroup,i=a.isGroupThread,j=a.message,o=a.outgoing,p=a.renderForwardSnippet,q=a.renderPaidPartnerShipText,r=a.renderPinnedText,s=a.renderReplySnippet,t=a.renderSenderName,u=a.renderTextWrapper;a=a.renderTimestamp;e=e===void 0?!1:e;f=f===void 0?!1:f;var v=c("MWPMessageIsReply")(j);p=n(j,p,s,o);s=d("MWPContactContext.react").useMWPContactStableContext();s=s.nickname;var w=d("MWMessageDisplayContext.react").useMWMessageDisplayContext();s=g&&s!=null&&f;f=e||i&&g&&!o&&!v||s;if(p!=null){e=o?m.alignEnd:!1;b[0]!==e?(i=(h||(h=c("stylex")))(m.header,e),b[0]=e,b[1]=i):i=b[1];b[2]!==w||b[3]!==p?(v=w==="reportMessages"?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:p}):l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:p}),b[2]=w,b[3]=p,b[4]=v):v=b[4];b[5]!==i||b[6]!==v?(s=l.jsx("div",{className:i,role:"none",children:v}),b[5]=i,b[6]=v,b[7]=s):s=b[7];e=s}else if(t!=null){b[8]!==f||b[9]!==t||b[10]!==j||b[11]!==o?(w=f?t(j):l.jsx(c("MWPAccessibleEyebrowsText.react"),{message:j,outgoing:o}),b[8]=f,b[9]=t,b[10]=j,b[11]=o,b[12]=w):w=b[12];e=w}else{b[13]!==j||b[14]!==o||b[15]!==q||b[16]!==r||b[17]!==u||b[18]!==f?(i=l.jsx(c("MWPMessageEyebrows.react"),{message:j,outgoing:o,renderPaidPartnerShipText:q,renderPinnedText:r,renderTextWrapper:u,shouldRenderSenderName:f}),b[13]=j,b[14]=o,b[15]=q,b[16]=r,b[17]=u,b[18]=f,b[19]=i):i=b[19];b[20]!==j.threadKey||b[21]!==i?(v=l.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:j.threadKey,children:i}),b[20]=j.threadKey,b[21]=i,b[22]=v):v=b[22];e=v}s=p!=null?m.timestampWithSnippet:m.timestamp;b[23]!==a||b[24]!==j||b[25]!==u||b[26]!==s?(t=a!=null?l.jsx(c("MWPBaseMessageRowHeaderTimestamp.react"),{message:j,renderText:u,renderTimestamp:a,xstyle:s}):null,b[23]=a,b[24]=j,b[25]=u,b[26]=s,b[27]=t):t=b[27];w=t;if(g){q=o?"backward":"forward";b[28]!==e?(r=l.jsx(c("BaseRowItem.react"),{children:l.jsx(c("BaseHeading.react"),{children:e})}),b[28]=e,b[29]=r):r=b[29];b[30]!==w?(f=w!=null?l.jsx(c("BaseRowItem.react"),{children:l.jsx(c("BaseHeading.react"),{children:w})}):null,b[30]=w,b[31]=f):f=b[31];b[32]!==q||b[33]!==r||b[34]!==f?(i=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsxs(c("BaseRow.react"),{direction:q,children:[r,f]})}),b[32]=q,b[33]=r,b[34]=f,b[35]=i):i=b[35];return i}else return e}g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.Children,l=b.unstable_useMemoCache,m={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},gutter:{flexBasis:"x1ohifd9",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=l(18),d=a.children,e=a.itemsXstyle,f=a.outgoing;a=a.xstyle;var g,i,n,o;if(b[0]!==d||b[1]!==a||b[2]!==e){o=Symbol["for"]("react.early_return_sentinel");bb13:{var p=k.toArray(d).filter(Boolean);if(p.length===0){o=null;break bb13}b[7]!==a?(g=(h||(h=c("stylex")))(m.container,a),b[7]=a,b[8]=g):g=b[8];i="none";var q;b[9]!==e?(q=function(a,b){return j.jsx("div",{className:(h||(h=c("stylex")))(m.items,e),role:"none",children:a},""+b)},b[9]=e,b[10]=q):q=b[10];n=p.map(q)}b[0]=d;b[1]=a;b[2]=e;b[3]=g;b[4]=i;b[5]=n;b[6]=o}else g=b[3],i=b[4],n=b[5],o=b[6];if(o!==Symbol["for"]("react.early_return_sentinel"))return o;b[11]!==f?(p=f?null:j.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"}),b[11]=f,b[12]=p):p=b[12];b[13]!==g||b[14]!==i||b[15]!==n||b[16]!==p?(q=j.jsxs("div",{className:g,role:i,children:[n,p]}),b[13]=g,b[14]=i,b[15]=n,b[16]=p,b[17]=q):q=b[17];return q}g.MWPMessageFooter=a}),98);
__d("MWPMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).to_int32(h.and_((i||(i=d("LSIntEnum"))).ofNumber(32),a.displayedContentTypes))!==0}g["default"]=a}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageWithAttachmentHasPoll","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"x1eb86dx",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function a(a){var b=j(28),e=a.children,f=a.connectTop,g=a.message,i=a.paint,m=a.renderEmphasisRing;a=a.xmaLayout;i=i===void 0?!0:i;if(b[0]!==g||b[1]!==e||b[2]!==f||b[3]!==a||b[4]!==i||b[5]!==m){var n=c("MWPMessageHasXMA")(g),o;b[10]!==g?(o=c("MWPMessageIsReply")(g),b[10]=g,b[11]=o):o=b[11];o=o;var p=c("MWPMessageWithAttachmentHasPoll")(g),q=g.text;q=q!=null?q!=="":!1;var r=n?l.container_for_xma:!1;p=p?l.container_for_poll:!1;var s;b[12]!==r||b[13]!==p?(s=(h||(h=c("stylex")))(l.container,r,p),b[12]=r,b[13]=p,b[14]=s):s=b[14];b[15]!==s||b[16]!==e?(r=k.jsx("div",{className:s,"data-testid":void 0,children:e}),b[15]=s,b[16]=e,b[17]=r):r=b[17];p=r;s=f&&(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!n||!q)?k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null;r=d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap;b[18]!==o||b[19]!==i?(q=!o&&i,b[18]=o,b[19]=i,b[20]=q):q=b[20];o=m!=null?m(n,p):p;b[0]=g;b[1]=e;b[2]=f;b[3]=a;b[4]=i;b[5]=m;b[6]=r;b[7]=q;b[8]=o;b[9]=s}else r=b[6],q=b[7],o=b[8],s=b[9];b[21]!==r||b[22]!==q||b[23]!==o?(n=k.jsx(r,{paint:q,children:o}),b[21]=r,b[22]=q,b[23]=o,b[24]=n):n=b[24];b[25]!==s||b[26]!==n?(p=k.jsxs(k.Fragment,{children:[s,n]}),b[25]=s,b[26]=n,b[27]=p):p=b[27];return p}g["default"]=a}),98);
__d("useMWPGetAttachmentCTA",["I64","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).unstable_useMemoCache;function a(a){var b=k(4),e=(h||(h=c("useReStore")))(),g,j;b[0]!==e||b[1]!==a?(g=function(){var b;return d("ReQL").fromTableAscending(e.table("attachment_ctas")).getKeyRange((b=a)!=null?b:(i||(i=d("I64"))).zero)},j=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=j):(g=b[2],j=b[3]);return d("ReQLSuspense").useFirst(g,j,f.id+":23")}g["default"]=a}),98);
__d("useMWPGetAttachments",["I64","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).unstable_useMemoCache;function a(a){var b=k(8),e=(h||(h=c("useReStore")))(),g=a.messageId,j=a.threadKey,l;b[0]!==e||b[1]!==j||b[2]!==g?(a=function(){return d("ReQL").fromTableAscending(e.table("attachments")).getKeyRange(j,g)},l=[e,g,j],b[0]=e,b[1]=j,b[2]=g,b[3]=a,b[4]=l):(a=b[3],l=b[4]);a=d("ReQLSuspense").useArray(a,l,f.id+":26");if(b[5]!==a){b[7]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(a,b){return(i||(i=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)},b[7]=l):l=b[7];l=a.sort(l);b[5]=a;b[6]=l}else l=b[6];return l}g["default"]=a}),98);
__d("MWPMessageListAttachment.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","MessagingAttachmentType","gkx","react","useMWPGetAttachmentCTA","useMWPGetAttachments","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).unstable_useMemoCache,l=h;function m(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function a(a){var b=k(54),e=a.connectBottom,f=a.connectTop,g=a.message,h=a.renderAudioAttachment,n=a.renderEmphasisRing,o=a.renderEphemeralMediaAttachment,p=a.renderFileAttachment,q=a.renderImageAttachment,r=a.renderImageGrid,s=a.renderStickerAttachment,t=a.renderUnsupportedAttachment,u=a.renderUnsupportedMultipleAttachments,v=a.renderVideoAttachment,w=a.renderWrapper,x=a.renderXMAAttachment;a=a.xmaLayout;var y=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a,z=c("useMWPGetAttachments")(g);b[0]!==z?(a=z.length>0?z[0].attachmentCta1Id:null,b[0]=z,b[1]=a):a=b[1];a=c("useMWPGetAttachmentCTA")(a);var A=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();A=A.blurMediaEnabled;A=c("gkx")("12682")&&A;if(g.replyType!=null&&(i||(i=d("I64"))).equal(g.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP)))return null;if(z.length!==1)if(z.length>1&&z.every(m))if(A){if(b[2]!==f||b[3]!==g||b[4]!==n||b[5]!==y||b[6]!==q||b[7]!==z||b[8]!==t){b[10]!==f||b[11]!==g||b[12]!==n||b[13]!==y||b[14]!==q||b[15]!==z.length||b[16]!==t?(A=function(a,b){return l.jsxs(l.Fragment,{children:[b!==0?l.jsx(c("MWVerticalRhythm"),{height:2}):null,l.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:f,message:g,renderEmphasisRing:n,xmaLayout:y,children:q(a,b!==0,b!==z.length-1,t)})]},a.attachmentFbid)},b[10]=f,b[11]=g,b[12]=n,b[13]=y,b[14]=q,b[15]=z.length,b[16]=t,b[17]=A):A=b[17];A=z.map(A);b[2]=f;b[3]=g;b[4]=n;b[5]=y;b[6]=q;b[7]=z;b[8]=t;b[9]=A}else A=b[9];A=A}else{var B;b[18]!==r||b[19]!==z?(B=r(z),b[18]=r,b[19]=z,b[20]=B):B=b[20];b[21]!==f||b[22]!==g||b[23]!==n||b[24]!==y||b[25]!==B?(r=l.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:f,message:g,renderEmphasisRing:n,xmaLayout:y,children:B}),b[21]=f,b[22]=g,b[23]=n,b[24]=y,b[25]=B,b[26]=r):r=b[26];A=r}else{b[27]!==u||b[28]!==z?(B=u!=null?u(z):void 0,b[27]=u,b[28]=z,b[29]=B):B=b[29];A=B}else{r=z[0];u=r.attachmentType;B=!(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));u=r.attachmentType;var C;b[30]!==u||b[31]!==q||b[32]!==r||b[33]!==f||b[34]!==e||b[35]!==t||b[36]!==v||b[37]!==h||b[38]!==s||b[39]!==x||b[40]!==a||b[41]!==p||b[42]!==o?(C=(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?q(r,f,e,t):(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?v(r):(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?h(r):(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?s(r):(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?x(r,a):(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))?p(r):(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?o(r):t(r),b[30]=u,b[31]=q,b[32]=r,b[33]=f,b[34]=e,b[35]=t,b[36]=v,b[37]=h,b[38]=s,b[39]=x,b[40]=a,b[41]=p,b[42]=o,b[43]=C):C=b[43];b[44]!==f||b[45]!==g||b[46]!==B||b[47]!==n||b[48]!==y||b[49]!==C?(u=l.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:f,message:g,paint:B,renderEmphasisRing:n,xmaLayout:y,children:C}),b[44]=f,b[45]=g,b[46]=B,b[47]=n,b[48]=y,b[49]=C,b[50]=u):u=b[50];A=u}if(A!=null){b[51]!==w||b[52]!==A?(r=w!=null?w(A):A,b[51]=w,b[52]=A,b[53]=r):r=b[53];return r}return null}g["default"]=a}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","emptyFunction","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.unstable_useMemoCache;function k(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=j(15),e=a.ariaLabel,f=a.children,g=a.modal,h=a.onNavigate,l=a.setModal,m=a.wrapX;a=a.wrapY;var n=h===void 0?c("emptyFunction"):h;h=m===void 0?!1:m;m=a===void 0?!1:a;b[0]!==n?(a=function(a){n(a);var b=a.type;bb14:switch(b){case"PAGE_DOWN":case"PAGE_UP":break bb14;default:return}b=a.type==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(k):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},b[0]=n,b[1]=a):a=b[1];a=a;g=g!=="";var o;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(o="x1uipg7g xu3j5b3 xol2nv xlauuyb x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",b[2]=o):o=b[2];b[3]!==e||b[4]!==f?(o=i.jsx("div",{"aria-label":e,className:o,role:"grid",children:f}),b[3]=e,b[4]=f,b[5]=o):o=b[5];b[6]!==g||b[7]!==a||b[8]!==h||b[9]!==m||b[10]!==o?(e=i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:i.jsx(d("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:g,onNavigate:a,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:h,wrapY:m,children:o})}),b[6]=g,b[7]=a,b[8]=h,b[9]=m,b[10]=o,b[11]=e):e=b[11];b[12]!==l||b[13]!==e?(f=i.jsx(d("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{value:l,children:e}),b[12]=l,b[13]=e,b[14]=f):f=b[14];return f}g["default"]=a}),98);
__d("KeyCommandHandler.react",["ReactKeyboardEvent.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useRef,k=i.unstable_Scope;function a(a){var b=a.children,c=a.onKeyDown;a=a.onKeyUp;var e=j(null);d("ReactKeyboardEvent.react").useKeyboard(e,{onKeyDown:c,onKeyUp:a});return i.jsx(k,{ref:e,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","I64","KeyCommandHandler.react","MDSTextPairing.react","MWEditMessageOverlay.react","MWMessageCellFocusTable.react","MWMessageCellKeyCommands.react","MWMessageTableFocusTable.react","MWPBaseMessageListRow.react","MWPEditMessageUtil","MWPMessageAuthor.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOMComet","emptyFunction","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useMWPEditMessageDeemphasizer","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));b=j;e=b.forwardRef;b.useCallback;var m=b.useEffect,n=b.useId;b.useMemo;var o=b.useRef,p=b.unstable_useMemoCache,q={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",left:null,right:null,paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function r(a){var b=a.key;(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End")&&a.preventDefault()}var s=h._("__JHASH__U5V4JiyTDSI__JHASH__"),t=h._("__JHASH__GoIrDg5lzef__JHASH__"),u=h._("__JHASH__ctLNxPXr8we__JHASH__"),v=e(function(a,b){var d=p(17),e=a.ariaLabel,f=a.focusable,g=a.onPress,h=a.text;a=a.xstyle;var i=c("useCometTheme")("invert"),j=i[0];i=i[1];var k;d[0]!==g?(k=function(){return g()},d[0]=g,d[1]=k):k=d[1];var m;d[2]!==i||d[3]!==a?(m=[i,q.enterModalButton,a],d[2]=i,d[3]=a,d[4]=m):m=d[4];d[5]!==h?(i=l.jsx(c("MDSTextPairing.react"),{body:h,bodyColor:"primary",level:4}),d[5]=h,d[6]=i):i=d[6];d[7]!==e||d[8]!==f||d[9]!==k||d[10]!==b||d[11]!==m||d[12]!==i?(a=l.jsx(c("MWXPressable.react"),{"aria-label":e,focusable:f,onPress:k,ref:b,xstyle:m,children:i}),d[7]=e,d[8]=f,d[9]=k,d[10]=b,d[11]=m,d[12]=i,d[13]=a):a=d[13];d[14]!==j||d[15]!==a?(h=l.jsx(j,{children:a}),d[14]=j,d[15]=a,d[16]=h):h=d[16];return h});function a(a){var b=p(78),e=a.children,f=a.domElementRef,g=a.focusCellOnRender,j=a.isDialogOpened,w=a.isFocused,x=a.isModal,y=a.message,z=a.messageDomID,A=a.nextMessage,B=a.outgoing,C=a.prevMessage,D=a.setFocused,E=a.setHovered,F=a.setIsDialogOpened,G=a.stopHoveringRef;a=a.theme;var H=g===void 0?!1:g,I=d("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),J=o(null),K=n();b[0]!==I||b[1]!==y.messageId||b[2]!==K?(g=function(){I(function(){return y.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(K,d("focusScopeQueries").tabbableScopeQuery)},0)},b[0]=I,b[1]=y.messageId,b[2]=K,b[3]=g):g=b[3];var L=g;b[4]!==I?(g=function(){I(function(){return""});var a=J.current;if(a!=null)return a.focus()},b[4]=I,b[5]=g):g=b[5];var M=g;g=c("CometTimestamp.react").getTimestamp(c("useServerTime")(),new Date((k||(k=d("I64"))).to_float(y.timestampMs)));var N=d("MWPMessageAuthor.react").useAuthorName();N=N[0];B=B?h._("__JHASH__g90cYI08lR4__JHASH__"):N!=null?N:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var O=n();N=h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",g),h._param("Name of the author of the incoming message",B)]);b[6]!==O||b[7]!==N?(g=l.jsx(c("CometScreenReaderText.react"),{id:O,text:N}),b[6]=O,b[7]=N,b[8]=g):g=b[8];var P=g,Q=n(),R=o(null);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(B=c("gkx")("11751"),b[9]=B):B=b[9];var S=B;N=o(c("emptyFunction"));g=o(c("emptyFunction"));B=o(c("emptyFunction"));var T=o(c("emptyFunction")),U;b[10]!==j||b[11]!==D||b[12]!==F?(U={isDialogOpened:j,setFocused:D,setIsDialogOpened:F},b[10]=j,b[11]=D,b[12]=F,b[13]=U):U=b[13];F=U;U=F;b[14]!==B||b[15]!==N||b[16]!==T||b[17]!==g?(F={forwardMessage:B,openReactionsMenu:N,removeMessage:T,replyToMessage:g},b[14]=B,b[15]=N,b[16]=T,b[17]=g,b[18]=F):F=b[18];B=F;N=B;T=d("MWPEditMessageUtil").useGetEditMessageData()!=null;g=c("useMWPEditMessageDeemphasizer")(y.messageId);b[19]!==w||b[20]!==D||b[21]!==I||b[22]!==j||b[23]!==x||b[24]!==y.messageId?(F=function(a){if(w!==a){D(function(){return a});return I(function(){if((a||j)&&x)return y.messageId;else return""})}},b[19]=w,b[20]=D,b[21]=I,b[22]=j,b[23]=x,b[24]=y.messageId,b[25]=F):F=b[25];B=F;b[26]!==w||b[27]!==D?(F=function(a){w!==a&&D(function(){return a});var b=R.current;if(a&&b!=null){c("setTimeout")(function(){try{return b.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(a){return b.scrollIntoView(!1)}},0);return}},b[26]=w,b[27]=D,b[28]=F):F=b[28];F=F;var V,W;b[29]!==H?(V=function(){if(H){var a;(a=J.current)==null?void 0:a.focus();(a=J.current)==null?void 0:a.scrollIntoView()}},W=[H],b[29]=H,b[30]=V,b[31]=W):(V=b[30],W=b[31]);m(V,W);V=T?c("emptyFunction"):E;b[32]!==g?(W=[q.row,g],b[32]=g,b[33]=W):W=b[33];b[34]!==T||b[35]!==B?(E=T?void 0:B,b[34]=T,b[35]=B,b[36]=E):E=b[36];b[37]!==T||b[38]!==F?(g=T?void 0:F,b[37]=T,b[38]=F,b[39]=g):g=b[39];b[40]!==x||b[41]!==J||b[42]!==K||b[43]!==z||b[44]!==O||b[45]!==Q||b[46]!==e||b[47]!==P||b[48]!==M||b[49]!==L||b[50]!==y||b[51]!==R?(B=function(a,b){a=l.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:l.jsx("div",{className:(i||(i=c("stylex")))(q.cell,x?q.cellModal:!1,b?q.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:J,role:"gridcell",tabIndex:0,children:l.jsx(c("FocusInertRegion.react"),{disabled:x,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:x?l.jsxs(l.Fragment,{children:[l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:K,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:l.jsx(c("KeyCommandHandler.react"),{onKeyDown:r,children:l.jsxs("div",{"aria-describedby":z,"aria-labelledby":O,id:Q,role:"dialog",children:[e,x?P:null,l.jsx(v,{ariaLabel:t,focusable:!0,onPress:M,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:q.enterModalButtonVisible})]})})}),d("ReactDOMComet").createPortal(l.jsx("div",{"aria-owns":Q}),document.body)]}):e})})});return l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageCellFocusTable.react").keyCommands,{onEnter:x?void 0:L,onEscape:x?M:void 0,onSpace:x?void 0:L,children:S?l.jsx(d("MWMessageCellKeyCommands.react").keyCommands,{message:y,children:a}):a}),l.jsx("div",{role:"gridcell",children:l.jsx(v,{ariaLabel:x?h._("__JHASH__C-7ahaHTUI7__JHASH__"):s,focusable:x,onPress:L,ref:R,text:x?h._("__JHASH__C-7ahaHTUI7__JHASH__"):u,xstyle:b&&!x?q.enterModalButtonVisible:q.visuallyHidden})})]})},b[40]=x,b[41]=J,b[42]=K,b[43]=z,b[44]=O,b[45]=Q,b[46]=e,b[47]=P,b[48]=M,b[49]=L,b[50]=y,b[51]=R,b[52]=B):B=b[52];b[53]!==E||b[54]!==g||b[55]!==B?(T=l.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:l.jsx(c("FocusWithinHandler.react"),{onFocusChange:E,onFocusVisibleChange:g,children:B})}),b[53]=E,b[54]=g,b[55]=B,b[56]=T):T=b[56];b[57]!==y.messageId?(F=l.jsx(c("MWEditMessageOverlay.react"),{messageId:y.messageId}),b[57]=y.messageId,b[58]=F):F=b[58];b[59]!==T||b[60]!==F?(E=l.jsxs(l.Fragment,{children:[T,F]}),b[59]=T,b[60]=F,b[61]=E):E=b[61];b[62]!==f||b[63]!==y||b[64]!==A||b[65]!==C||b[66]!==V||b[67]!==G||b[68]!==a||b[69]!==W||b[70]!==E?(g=l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:f,message:y,nextMessage:A,prevMessage:C,role:"row",setHovered:V,stopHoveringRef:G,theme:a,xstyle:W,children:E}),b[62]=f,b[63]=y,b[64]=A,b[65]=C,b[66]=V,b[67]=G,b[68]=a,b[69]=W,b[70]=E,b[71]=g):g=b[71];b[72]!==N||b[73]!==g?(B=l.jsx(d("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:N,children:g}),b[72]=N,b[73]=g,b[74]=B):B=b[74];b[75]!==U||b[76]!==B?(T=l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(d("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:U,children:B})}),b[75]=U,b[76]=B,b[77]=T):T=b[77];return T}g["default"]=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(16),e=a.children,f=a.messageId,g=a.optimisticMessageId;a=a.xstyle;var i;b[0]!==f?(i=d("MWChatInteraction").get(f),b[0]=f,b[1]=i):i=b[1];f=i;b[2]!==g?(i=d("MWChatInteraction").get(g),b[2]=g,b[3]=i):i=b[3];g=i;if(b[4]!==f||b[5]!==g){i=(i=f)!=null?i:g;b[4]=f;b[5]=g;b[6]=i}else i=b[6];f=i;if(f==null){b[7]!==a?(g=(h||(h=c("stylex")))(a),b[7]=a,b[8]=g):g=b[8];b[9]!==g||b[10]!==e?(i=k.jsx("div",{className:g,children:e}),b[9]=g,b[10]=e,b[11]=i):i=b[11];return i}else{b[12]!==f||b[13]!==a||b[14]!==e?(g=k.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:f,pageletName:"Message",xstyle:a,children:e}),b[12]=f,b[13]=a,b[14]=e,b[15]=g):g=b[15];return g}}g["default"]=a}),98);
__d("MWMultiReactConstants",[],(function(a,b,c,d,e,f){"use strict";a=20;b=3;c=9;f.CM_MAX_REACTION_COUNT=a;f.PUBLIC_CHANNELS_MIN_REACTIONS_SHOWN_COUNT=b;f.SPACING_PER_COUNT_CHARACTER=c}),66);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(184,a)||d("LSMessagingThreadTypeUtil").isSecure(a.threadType)}))!=null?a:!1}g["default"]=a}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWLSThread","MWMultiReactConstants","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","gkx","intlList","promiseDone","react","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k;m.useCallback;var n=m.useContext,o=m.useDeferredValue;m.useMemo;var p=m.useRef,q=m.useState,r=m.unstable_useMemoCache,s=c("gkx")("12735")?d("MWChatReactionsUtils").heartType2:d("MWChatReactionsUtils").heartType1;function a(a){var b=r(8),e=(i||(i=c("useReStore")))(),g=a.messageId,h=a.threadKey;b[0]!==e.tables.reactions||b[1]!==h||b[2]!==g?(a=function(){return d("ReQL").fromTableAscending(e.tables.reactions).getKeyRange(h,g).map(function(a){return d("MWChatReactionsUtils").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:s,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},b[0]=e.tables.reactions,b[1]=h,b[2]=g,b[3]=a):a=b[3];var j;b[4]!==h||b[5]!==g||b[6]!==e?(j=[h,g,e],b[4]=h,b[5]=g,b[6]=e,b[7]=j):j=b[7];b=o(d("ReQLSuspense").useArray(a,j,f.id+":66"));return b}function b(a){var b=r(8),e=(i||(i=c("useReStore")))(),g=a.messageId,h=a.threadKey;b[0]!==e.tables.reactions_v2||b[1]!==h||b[2]!==g?(a=function(){return d("ReQL").fromTableAscending(e.tables.reactions_v2).getKeyRange(h,g)},b[0]=e.tables.reactions_v2,b[1]=h,b[2]=g,b[3]=a):a=b[3];var j;b[4]!==e||b[5]!==h||b[6]!==g?(j=[e,h,g],b[4]=e,b[5]=h,b[6]=g,b[7]=j):j=b[7];b=d("ReQLSuspense").useArray(a,j,f.id+":91");return b}function e(a){var b=r(8),e=(i||(i=c("useReStore")))(),g=a.messageId,h=a.threadKey;b[0]!==e.tables.reactions_v2||b[1]!==h||b[2]!==g?(a=function(){return d("ReQL").fromTableAscending(e.tables.reactions_v2).getKeyRange(h,g).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)})},b[0]=e.tables.reactions_v2,b[1]=h,b[2]=g,b[3]=a):a=b[3];var k;b[4]!==e||b[5]!==h||b[6]!==g?(k=[e,h,g],b[4]=e,b[5]=h,b[6]=g,b[7]=k):k=b[7];b=d("ReQLSuspense").useArray(a,k,f.id+":107");return b}function t(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._("__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function u(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function v(a){var b=r(32),e=a.children,g=a.dialogResource,h=a.message,k=a.onPress,m=a.reactions,o=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var s=a===void 0?!1:a,v=h.messageId,w=h.threadKey;a=n(d("MWV2MessageRowIsRowFocusedContext.react").context);var x=a.setFocused,y=a.setIsDialogOpened,z=(i||(i=c("useReStore")))();a=q(!1);var A=a[0],B=a[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){B(function(a){return!a})},b[0]=a):a=b[0];a=a;var C=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(w),D=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(w),E;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(E=function(a){return d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType)},b[1]=E):E=b[1];E=d("MWLSThread").useThread(w,E);E=D?E===!0?d("MWMultiReactConstants").PUBLIC_CHANNELS_MIN_REACTIONS_SHOWN_COUNT:d("MWMultiReactConstants").CM_MAX_REACTION_COUNT:3;var F=c("useIsReactionDialogEnabled")(w),G;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(G=new Map(),b[2]=G):G=b[2];var H=p(G);b[3]!==C||b[4]!==z||b[5]!==h.messageId||b[6]!==w?(G=function(){C&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(z,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:h.messageId,threadId:w})},"issueReactionsV2DetailsUsersListFetch").then(function(){return H.current.forEach(function(a){return a()})}))},b[3]=C,b[4]=z,b[5]=h.messageId,b[6]=w,b[7]=G):G=b[7];var I=G;b[8]!==z.tables.reactions_v2||b[9]!==z.tables.reaction_v2_types||b[10]!==w||b[11]!==v||b[12]!==s?(G=function(){return d("ReQL").fromTableAscending(z.tables.reactions_v2).getKeyRange(w,v).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(z.tables.reaction_v2_types).getKeyRange(a.reactionFbid),f.id+":231");b=s?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:(j||(j=d("I64"))).to_int32(a.count),reactionLiteral:b})})},b[8]=z.tables.reactions_v2,b[9]=z.tables.reaction_v2_types,b[10]=w,b[11]=v,b[12]=s,b[13]=G):G=b[13];var J;b[14]!==z||b[15]!==w||b[16]!==v||b[17]!==s?(J=[z,w,v,s],b[14]=z,b[15]=w,b[16]=v,b[17]=s,b[18]=J):J=b[18];G=d("ReQLSuspense").useArray(G,J,f.id+":225");d("MWReactionUtils").useSortReactionsForBroadcastChat(G,w);b[19]===Symbol["for"]("react.memo_cache_sentinel")?(J=function(a){return(a=a.reactionLiteral)!=null?a:""},b[19]=J):J=b[19];J=Array.from(new Set(G.map(J)));var K=A?J:J.slice(0,E);J=A?[]:J.slice(E);J=J.length;K=o!=null&&C?u(K):u(Array.from(new Set(m.map(function(a){a=a.reaction;return a}))).slice(0,E));E=o!=null&&C?(j||(j=d("I64"))).to_int32(G.reduce(function(a,b){return(j||(j=d("I64"))).add(a,j.of_int32(b.count))},(j||(j=d("I64"))).zero)):m.length;o=t(K,E);G=p(null);g=g!=null?g:C?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react");g=g;var L;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(L=function(a){H.current.set(a,a);return function(){H.current["delete"](a)}},b[20]=L):L=b[20];var M;b[21]!==w?(M={threadKey:w},b[21]=w,b[22]=M):M=b[22];var N;b[23]!==h||b[24]!==L||b[25]!==M?(N={message:h,onLoadComplete:L,thread:M},b[23]=h,b[24]=L,b[25]=M,b[26]=N):N=b[26];L=N;var O=L;b[27]!==y||b[28]!==x?(M=function(){y(function(){return!1}),x(function(){return!0})},b[27]=y,b[28]=x,b[29]=M):M=b[29];var P=M;N=c("useMWXLazyDialog")(g);var Q=N[0],R=function(a){y(function(){return!0}),Q(babelHelpers["extends"]({},O,{initialTab:a}),P),k==null?void 0:k(),I()};b[30]!==w?(L={eventName:"open_message_reactions_dialog",threadKey:w},b[30]=w,b[31]=L):L=b[31];M=L;return D||!F?e(K,E,m,h,w,R,J,A,a):l.jsx(c("MWXPressable.react"),{"aria-label":o,loggingEvent:M,onPress:function(){return R()},overlayDisabled:!0,ref:G,children:e(K,E,m,h,w,R,0,!1)})}g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=v}),98);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(a){var b=i(3),e=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),f=e.disableLinks;b[0]!==f||b[1]!==a?(e=function(b,d,e,g){return c("gkx")("12734")&&f?void 0:[e,c("getMAWLinkEntityRenderer.react")({encryptedLink:a,target:g,testid:d,xstyle:b})]},b[0]=f,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("LSMediaUrlAttachmentItem",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrlLarge}function e(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.playableUrlFallback):a.playableUrl}function f(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.faviconUrlFallback):a.faviconUrl}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=e;g.faviconUrl=f}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.createContext,n=l.createElement,o=l.useContext,p=l.unstable_useMemoCache,q=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),r=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),s=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=p(11),c=a.attachment,e=a.attachmentItem,f=a.children;a=a.renderPressable;var g=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();g=g.hasLSThreadBitOffset;var h;b[0]!==g?(h=g(25),b[0]=g,b[1]=h):h=b[1];h=h;var i;b[2]!==g?(i=g(24),b[2]=g,b[3]=i):i=b[3];g=i;i=c.defaultCtaType;c=e.attachmentCta1Id!=null;if(b[4]!==i||b[5]!==h||b[6]!==g||b[7]!==c||b[8]!==a||b[9]!==f){e=i!=null?r.has(i)&&!h||q.has(i)&&!g:!1;var j={hasAtLeastOneCta:c,isDisabledRtcXma:e,renderPressable:a};e=n(s.Provider,{children:!c&&!e?a(f):f,value:j});b[4]=i;b[5]=h;b[6]=g;b[7]=c;b[8]=a;b[9]=f;b[10]=e}else e=b[10];return e}function b(a){var b=p(3);a=a.children;var c=o(s);if(c.hasAtLeastOneCta&&!c.isDisabledRtcXma){var d;b[0]!==c||b[1]!==a?(d=c.renderPressable(a),b[0]=c,b[1]=a,b[2]=d):d=b[2];return d}else return a}var t={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=p(9),e=a.attachmentItem;a=a.url;var f=e.previewHeight;e=e.previewWidth;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g="x78zum5 x1n2onr6 xh8yej3",b[0]=g):g=b[0];var h;b[1]!==f?(h=f!=null?(i||(i=d("I64"))).to_int32(f):void 0,b[1]=f,b[2]=h):h=b[2];b[3]!==e?(f=e!=null?(i||(i=d("I64"))).to_int32(e):void 0,b[3]=e,b[4]=f):f=b[4];b[5]!==h||b[6]!==a||b[7]!==f?(e=k.jsx("div",{className:g,children:k.jsx(c("BaseImage.react"),{height:h,src:a,width:f,xstyle:t.image})}),b[5]=h,b[6]=a,b[7]=f,b[8]=e):e=b[8];return e}function f(a){var b,c=a.attachment,e=a.attachmentItem,f=a.getPreviewUrl;a=a.preferLargePreview;a=a===void 0?!1:a;var g=d("LSMediaUrlAttachmentItem").playableUrl(e),h=d("LSMediaUrlAttachment").previewUrlLarge(c);b=a?(b=d("LSMediaUrlAttachmentItem").previewUrlLarge(e))!=null?b:d("LSMediaUrlAttachmentItem").previewUrl(e):d("LSMediaUrlAttachmentItem").previewUrl(e);f=f==null?d("LSMediaUrlAttachment").previewUrl(c):f(c,e);a=a&&h!=null?h:(c=b)!=null?c:f;h=e.playableUrlMimeType;b=h!=null?h.includes("video")?"video":h.includes("image")?"image":"unsupported":"unsupported";if(b==="video"&&g!=null)return{type:"Video",url:g};if(a!=null)return{type:"Image",url:a};return b==="image"&&g!=null?{type:"Image",url:g}:{type:"Unsupported"}}function u(a,b){var e=a.xmaLayoutType!=null&&!(i||(i=d("I64"))).equal(a.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=s;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=f;g.useTitleAndSubtitle=u}),98);
__d("CrossFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"m98.095 917.155 7.75 7.75a.75.75 0 0 0 1.06-1.06l-7.75-7.75a.75.75 0 0 0-1.06 1.06z",transform:"translate(353.5 159)"}),i.jsx("path",{d:"m105.845 916.095-7.75 7.75a.75.75 0 1 0 1.06 1.06l7.75-7.75a.75.75 0 0 0-1.06-1.06z",transform:"translate(353.5 159)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("IGDSCircleXOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("circle",{cx:"12",cy:"12",fill:"none",r:"11.25",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5"}),e=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"16.604",x2:"7.396",y1:"7.396",y2:"16.604"}),f=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"7.396",x2:"16.604",y1:"7.396",y2:"16.604"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSPhotoOutlineIcon.react",["IGDSPhotoPanoOutlineIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("IGDSPhotoPanoOutlineIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=d):d=b[1];return d}b=j.memo(a);g["default"]=b}),98);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2,RICH_TEXT_COMMON_MARK:3});f["default"]=a}),66);
__d("LSVerifiedType",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2});f["default"]=a}),66);
__d("CometHideableComponentExperiment.react",["CometHideableComponent.react","gkx","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=(b=c("qex")._("641"))!=null?b:"",l=(e=c("qex")._("642"))!=null?e:"all",m=(f=c("qex")._("648"))!=null?f:!0;function a(a){var b=i(5),d=a.callingSurface,e=a.children;a=a.disableHidding;var f=k.split(",").map(function(a){return a.trim()});c("gkx")("9697")===!0&&f.push("comet_feed_unit_card");f=f.indexOf(d)>=0;(l.includes("all")||l.split(",").includes(d))&&c("qex")._("692");a=(d=a)!=null?d:!1;d=f&&m;var g;b[0]!==a||b[1]!==d||b[2]!==f||b[3]!==e?(g=j.jsx(c("CometHideableComponent.react"),{disableHidding:a,pinChildrenOnInteraction:d,unmountHiddenChildren:f,children:e}),b[0]=a,b[1]=d,b[2]=f,b[3]=e,b[4]=g):g=b[4];return g}g["default"]=a}),98);
__d("MDSSolidMessageBubble.react",["XPlatReactEnvironment","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=d("XPlatReactEnvironment").isWeb(),l={precedes_xma:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},precedes_xma_web:{maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}},m={bubble:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",color:"x14ctfv",maxWidth:"x1okitfd",outline:"x1k4qllp",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,paddingEnd:"xn6708d",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},bubbleWeb:{overflowWrap:"x1mzt3pk",wordBreak:"x13faqbe",$$css:!0},clip:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},n={background:{backgroundColor:"x1xr0vuk",borderTopColor:"x1jm4cbz",borderEndColor:"x1lmq8lz",borderBottomColor:"xrrpcnn",borderStartColor:"x1xtl47e",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1tdhcrn",borderEndWidth:"x17i5p6",borderBottomWidth:"xeqhmsb",borderStartWidth:"x1bab9rp",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}},o={background:{backgroundColor:"x11jlvup",borderTopColor:"xpmdkuv",borderEndColor:"x154zaqr",borderBottomColor:"x12z03op",borderStartColor:"xyhp3ou",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1qzh56z",borderEndWidth:"xwjhk0h",borderBottomWidth:"x1a35899",borderStartWidth:"xfvoq21",$$css:!0},opaque:{backgroundAttachment:"x1nr1p0w",backgroundImage:"xl54vp5",outline:"x1ucz5p",$$css:!0}},p={background:{backgroundColor:"x1m3w7tb",borderTopColor:"x1jm4cbz",borderEndColor:"x1lmq8lz",borderBottomColor:"xrrpcnn",borderStartColor:"x1xtl47e",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1tdhcrn",borderEndWidth:"x17i5p6",borderBottomWidth:"xeqhmsb",borderStartWidth:"x1bab9rp",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}},q={connect_bot:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0}},r={connect_bot:{borderBottomEndRadius:"xrt01vj",$$css:!0},connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b=i(17),c=a.align,e=a.children,f=a.color,g=a.connectBottom,h=a.connectTop,s=a.xmaLayout,t=a.style,u=a.precedesXMA,v=a.testid;a=a.variant;s=s===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:s;s=s!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&u===!0;u=c==="right"?r:q;c=f==="incoming"?n:f==="outgoing"?o:p;f=s&&k&&l.precedes_xma_web;var w;b[0]!==f?(w=[m.clip,f],b[0]=f,b[1]=w):w=b[1];v=(f=v)!=null?f:"solid-message-bubble";f=s&&l.precedes_xma;var x=s&&k&&l.precedes_xma_web;h=h&&u.connect_top;g=g&&!s&&u.connect_bot;s=a==="opaque"&&c.opaque;u=t;b[2]!==f||b[3]!==x||b[4]!==h||b[5]!==g||b[6]!==c.background||b[7]!==s||b[8]!==u?(a=[m.bubble,k&&m.bubbleWeb,f,x,h,g,c.background,s,u],b[2]=f,b[3]=x,b[4]=h,b[5]=g,b[6]=c.background,b[7]=s,b[8]=u,b[9]=a):a=b[9];b[10]!==v||b[11]!==a||b[12]!==e?(t=j.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,role:"none",style:a,children:e}),b[10]=v,b[11]=a,b[12]=e,b[13]=t):t=b[13];b[14]!==w||b[15]!==t?(f=j.jsx(d("react-strict-dom").html.div,{style:w,children:t}),b[14]=w,b[15]=t,b[16]=f):f=b[16];return f}g["default"]=a}),98);
__d("MWXMessageBubble.react",["MDSSolidMessageBubble.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSSolidMessageBubble.react")}),98);
__d("useMWInboxPassiveContext",["MWInboxPassiveContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(d("MWInboxPassiveContext.react").MWInboxPassiveContext)}g["default"]=a}),98);
__d("LSOptimisticMarkThreadReadV2StoredProcedure",["LSOptimisticMarkThreadReadV2"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.readWatermarkTimestampMs;return c("LSOptimisticMarkThreadReadV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useMWLSMarkThreadAsRead",["I64","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MWThreadKey.react","MessengerWebUXLogger","ReQL","ServerTime","asyncToGeneratorRuntime","cr:2580","cr:2865","promiseDone","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");e.useCallback;var k=e.unstable_useMemoCache,l=(f=b("cr:2865"))!=null?f:function(){return{}};function a(a,e){var f,g=k(6),j=(h||(h=c("useReStore")))(),m=(f=d("MWThreadKey.react").useMWThreadKeyMemoized())!=null?f:e;if(m==null)throw c("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_product");f=l();var n=f.setIsPassive,o=c("MessengerWebUXLogger").useInteractionLogger();g[0]!==o||g[1]!==n||g[2]!==j||g[3]!==m||g[4]!==a?(e=function(){o==null?void 0:o({eventName:"mark_thread_as_read"}),n!=null&&n(!1),c("promiseDone")(j.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(m)));if(f==null)return;var g=f.lastActivityTimestampMs,h=f.lastReadWatermarkTimestampMs;f=f.threadType;if((i||(i=d("I64"))).gt(g,h)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:m,threadType:f},"seen_receipt",a);return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(e),{readWatermarkTimestampMs:(i||(i=d("I64"))).of_float(d("ServerTime").getMillis()),threadKey:m})}});return function(a){return e.apply(this,arguments)}}(),"readwrite"))},g[0]=o,g[1]=n,g[2]=j,g[3]=m,g[4]=a,g[5]=e):e=g[5];return e}g["default"]=a}),98);
__d("MWV2TombstonedMessage.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={connectBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},root:{borderTopColor:"x2z21go",borderEndColor:"x7glw7h",borderBottomColor:"xytfwv8",borderStartColor:"x1c7a9eh",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",color:"x1tbs7aw",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=i(7),c=a.children,e=a.connectBottom,f=a.connectTop;a=a.xstyle;e=e===void 0?!1:e;f=f===void 0?!1:f;a=a===void 0?!1:a;f=f?k.connectTop:!1;e=e?k.connectBottom:!1;var g;b[0]!==f||b[1]!==e||b[2]!==a?(g=[k.root,f,e,a],b[0]=f,b[1]=e,b[2]=a,b[3]=g):g=b[3];b[4]!==g||b[5]!==c?(f=j.jsx(d("react-strict-dom").html.div,{style:g,children:c}),b[4]=g,b[5]=c,b[6]=f):f=b[6];return f}g["default"]=a}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"x1eb86dx",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=j(6);a=a.isReply;var e=a?l.withRepliedMessage:l.withBackground,f;b[0]!==a?(f=a?null:k.jsx(d("react-strict-dom").html.div,{style:[l.vr,l.withBackground]}),b[0]=a,b[1]=f):f=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("MWV2TombstonedMessage.react"),{xstyle:l.withBackground,children:h._("__JHASH__fgvjfNhcDBr__JHASH__")}),b[2]=a):a=b[2];b[3]!==e||b[4]!==f?(a=k.jsxs(d("react-strict-dom").html.div,{style:e,children:[f,a]}),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("useMAWMarkThreadAsRead",["I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MAWContactRelationshipType","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","WAJobOrchestratorTypes","promiseDone","react","useMWGetOtherUserContact","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).unstable_useMemoCache;function a(a,b){var e=l(9),f=(h||(h=c("useReStore")))(),g=c("useMWLSMarkThreadAsRead")(b,a.threadKey),k=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey);e[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=["capabilities","capabilities2","contactViewerRelationship"],e[0]=b):b=e[0];var m=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,b),n;e[1]!==a.authorityLevel||e[2]!==a.threadKey||e[3]!==g||e[4]!==f||e[5]!==m||e[6]!==k?(b=function(){if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){g();c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(f,a.threadKey,"useMAWMarkThreadAsRead",function(a,b,c){return d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(c,m&&d("MAWContactRelationshipType").getContactRelationshipType(m),void 0,k,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}))}));return}},n=[a.authorityLevel,a.threadKey,g,f,m,k],e[1]=a.authorityLevel,e[2]=a.threadKey,e[3]=g,e[4]=f,e[5]=m,e[6]=k,e[7]=b,e[8]=n):(b=e[7],n=e[8]);return d("Int64Hooks").useCallbackInt64(b,n)}g["default"]=a}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","ReQL","UserActivity","asyncToGeneratorRuntime","cr:268","emptyFunction","gkx","promiseDone","react","useMWInboxPassiveContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=i||d("react");e.useCallback;var k=e.useEffect,l=e.unstable_useMemoCache,m=(f=b("cr:268"))!=null?f:c("emptyFunction");function n(a,b,c,d,e){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("messages")).getKeyRange(b)));if(h==null)return!1;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)));if(a==null)return!1;b=g!==void 0?g==="ChatTab"?e:g==="Inbox"&&c("gkx")("12628")?!f.isPassive:!0:!0;e=(j||(j=d("I64"))).gt(h.timestampMs,a.lastActivityTimestampMs)?h.timestampMs:a.lastActivityTimestampMs;g=(j||(j=d("I64"))).gt(e,a.lastReadWatermarkTimestampMs);return c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&b&&g});return o.apply(this,arguments)}function p(a,e){var f=l(7),g=(h||(h=c("useReStore")))(),i=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),j=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),k=c("useMWInboxPassiveContext")(),m;f[0]!==g||f[1]!==a||f[2]!==i||f[3]!==k||f[4]!==j||f[5]!==e?(m=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(yield n(g,a,i,k,j))return e()})())},f[0]=g,f[1]=a,f[2]=i,f[3]=k,f[4]=j,f[5]=e,f[6]=m):m=f[6];return m}function q(a,c,d){var e=l(5),f,g;e[0]!==a||e[1]!==c||e[2]!==d?(f=function(){var e=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a();typeof b!=="boolean"&&(b=(yield b));if(b&&!c())return d()});return function(){return e.apply(this,arguments)}}();window.addEventListener("focus",e);document.hasFocus()&&e();return function(){return window.removeEventListener("focus",e)}},g=[d,a,c],e[0]=a,e[1]=c,e[2]=d,e[3]=f,e[4]=g):(f=e[3],g=e[4]);k(f,g)}function a(a,b,c,d){b=p(a.threadKey,b);m(a);q(c,d,b);return b}g["default"]=a}),98);
__d("MWV2MessageActionsVisibility.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useRef,j=b.unstable_useMemoCache;function a(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){},a[0]=b):b=a[0];return i(b)}g.useStopHoveringRef=a}),98);
__d("MAWFetchMoreMessagesWhenEnabled",["cr:1501","cr:7005"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:7005"))!=null?a:b("cr:1501");d=c;g["default"]=d}),98);
__d("MWPFetchMessagesPage",["FBLogger","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","gkx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g,i,j,k,l){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,m;b=(yield (b=a.table("messages_ranges_v2__generated")).get.apply(b,g));if(b==null||(f==="before"?b.isLoadingBefore:b.isLoadingAfter))return;m=j==null?null:yield (m=a.table("messages_ranges_v2__generated")).get.apply(m,j);if(j!=null&&(m==null||(f==="before"?m.isLoadingBefore:m.isLoadingAfter)))return;if(f==="before")if(m==null||b.hasMoreBefore){var n=d("LSMessagingThreadTypeUtil").isSecure(i);if(n){if(l!=null)return l(a,b.threadKey,"before",e)}else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})}else{n=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(k));if(n){if(l!=null)return l(a,m.threadKey,"before",e)}else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:m.minTimestampMs,threadKey:m.threadKey})}else if(m==null||b.hasMoreAfter){n=d("LSMessagingThreadTypeUtil").isSecure(i);if(n)if(c("gkx")("6884")){if(l!=null)return l(a,b.threadKey,"after",e)}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})}else{n=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(k));if(n)if(c("gkx")("6884")){if(l!=null)return l(a,m.threadKey,"after",e)}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:m.minTimestampMs,threadKey:m.threadKey})}});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui")}g["default"]=a}),98);
__d("LSMessagePointQueryImplWeb",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[a[1]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadRowExists"),a[0],a[2],c.i64.cast([0,1]))},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=c.i64.cast([0,1]):(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[3].set("num_context_messages",a[3]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,19]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(f=e.item,d[1]=f.timestampMs,c.filter(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(f){var e=f.done;f.value;return e?c.sequence([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=c.i64.cast([0,1]):(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[4].set("num_context_messages",a[3]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,19]),d[6],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0}))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMessagePointQueryProxy",["LSMessagePointQueryImplWeb"],(function(a,b,c,d,e,f,g){g["default"]=c("LSMessagePointQueryImplWeb")}),98);
__d("LSMessagePointQuery",["LSMessagePointQueryProxy"],(function(a,b,c,d,e,f,g){f.exports=c("LSMessagePointQueryProxy")}),34);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;d[2]=b.threadType;d[3]=b.numContextMessages;return c("LSMessagePointQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWPFetchMessagesRangeForMessage",["I64","LSFactory","LSMessagePointQueryStoredProcedure","WALoggerDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[occam] MWPFetchMessagesRangeForMessage: incorrect call to MPQ with secure mailbox"]);i=function(){return a};return a}function a(a,b,e,f){return a.runInTransaction(function(a){var g=(h||(h=d("I64"))).to_int32(f);(g===15||g===16)&&void d("WALoggerDeferred").ERROR(i());return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:e,threadKey:b,threadType:f})},"readwrite","ui")}g["default"]=a}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect;b.useMemo;var l=b.useState,m=b.unstable_useMemoCache,n={animateIn:{animationDuration:"x5hsz1j",animationName:"x1j49z95",transform:"x1dufm33",$$css:!0},animateOut:{animationDuration:"x5hsz1j",animationName:"x1j4bph1",transform:"xk9af5f",$$css:!0},animationWrapper:{bottom:"x1ey2m1c",start:"x14yxtea",left:null,right:null,position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},root:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=m(12),d=a.children,e=a.visible;a=l(e);var f=a[0],g=a[1],i;b[0]!==e?(a=function(){e&&g(!0)},i=[e,g],b[0]=e,b[1]=a,b[2]=i):(a=b[1],i=b[2]);k(a,i);bb17:{if(f){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a="xqtp20y x1n2onr6 xh8yej3",b[3]=a):a=b[3];i=e?n.animateIn:n.animateOut;b[4]!==i?(f=(h||(h=c("stylex")))([n.animationWrapper,i]),b[4]=i,b[5]=f):f=b[5];b[6]!==e?(i=function(a){e||g(!1)},b[6]=e,b[7]=i):i=b[7];b[8]!==f||b[9]!==i||b[10]!==d?(a=j.jsx("div",{className:a,children:j.jsx("div",{className:f,onAnimationEnd:i,children:d})}),b[8]=f,b[9]=i,b[10]=d,b[11]=a):a=b[11];f=a;break bb17}f=null}return f}g["default"]=a}),98);
__d("MWScrollUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.scrollIntoView()}f.scrollElementIntoView=a}),66);
__d("useMWPSafelyMarkThreadAsRead",["I64","Int64Hooks","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2StoredProcedure","ServerTime","cr:5552","promiseDone","react","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).unstable_useMemoCache;function a(a,e,f,g){var j=k(11),l=(h||(h=c("useReStore")))(),m=a.threadKey,n=a.threadType,o=c("useMAWMarkThreadAsRead")(a),p;j[0]!==g||j[1]!==m||j[2]!==n?(p={entryPoint:g,threadKey:m,threadType:n},j[0]=g,j[1]=m,j[2]=n,j[3]=p):p=j[3];var q=b("cr:5552")(p);j[4]!==q||j[5]!==n||j[6]!==o||j[7]!==l||j[8]!==m?(g=function(){q==null?void 0:q();if(d("LSMessagingThreadTypeUtil").isSecure(n)){o();return}c("promiseDone")(l.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(a),{readWatermarkTimestampMs:(i||(i=d("I64"))).of_float(d("ServerTime").getMillis()),threadKey:m})},"readwrite","ui"))},p=[l,q,o,m,n],j[4]=q,j[5]=n,j[6]=o,j[7]=l,j[8]=m,j[9]=g,j[10]=p):(g=j[9],p=j[10]);j=d("Int64Hooks").useCallbackInt64(g,p);return c("useMWMarkThreadAsReadWhenNewMessagesArrive")(a,j,e,f)}g["default"]=a}),98);
__d("useMWPMessageListScroll",["MWPVisibleMessageContext.react","MWScrollUtils","Promise","react","requestAnimationFrame","useMWPSafelyMarkThreadAsRead"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.createRef,k=e.useCallback,l=e.useEffect,m=e.useImperativeHandle,n=e.useRef,o=e.useState;function p(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function a(a,e,f,g,i,q,r,s,t,u){var v=n(null),w=n(!1),x=k(function(){if(!u)return;if(q==null||w.current)return;q(!1);w.current=!0},[q,u]);l(function(){var a;if(q==null||w.current)return;if(g!=null&&!g.hasMoreBefore){q(!0);w.current=!0;return}i&&i((a=(a=v.current)==null?void 0:a.getScrollerMeasurements())!=null?a:void 0,g===f);a=(a=v.current)==null?void 0:a.doesContentFillScroll;if(a==null)return;if(a()){q(!1);w.current=!0;return}},[q,g,i,f]);var y=o(!0),z=y[0],A=y[1],B=(g==null?void 0:g.hasMoreAfter)===!1;y=k(function(){return new(h||(h=b("Promise")))(function(a){var b=v.current;b==null?a(!1):c("requestAnimationFrame")(function(){a(b.isAtBottom()&&B)})})},[B]);var C=c("useMWPSafelyMarkThreadAsRead")(t,y,a,e);l(function(){var b;b=(b=v.current)==null?void 0:b.onCloseToBottom;if(b!=null)return b(0,function(b){b&&!a()&&C()})},[C,a]);l(function(){var a;a=(a=v.current)==null?void 0:a.onCloseToBottom;if(a!=null&&r!=null)return a(36,r)},[r]);l(function(){var a;a=(a=v.current)==null?void 0:a.onCloseToBottom;if(a!=null)return a(600,A)},[f==null?void 0:f.minMessageId]);var D=n(new Map());t=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();var E=t.setVisibleMessage;y=t.visibleMessage;var F=y==null?void 0:y.messageId;e=k(function(a){return p(D.current,a,j)},[]);var G=k(function(){g===f&&(v.current!=null&&v.current.scrollToBottom()),E(function(){return void 0})},[f,g,E]);l(function(){var a;if(F==null)return;a=(a=D.current.get(F))==null?void 0:a.current;a!=null&&d("MWScrollUtils").scrollElementIntoView(a)},[F]);m(s,function(){return{getScrollAreaElement:function(){var a;return(a=v.current)==null?void 0:a.getScrollAreaElement()},jumpToMostRecentMessage:function(){G()},restoreScrollPosition:function(){var a;return(a=v.current)==null?void 0:a.restoreScrollPosition()}}},[G]);return[z,v,G,e,x]}g["default"]=a}),98);
__d("useShallowEqualState",["react","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useState;function a(a){a=j(a);var b=a[0],d=a[1];a=i(function(a){if(typeof a==="function"){var b=a;return d(function(a){var d=b(a);return c("shallowEqual")(a,d)?a:d})}return d(function(b){return c("shallowEqual")(b,a)?b:a})},[]);return[b,a]}g["default"]=a}),98);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","LSMessagingThreadTypeUtil","MAWFetchMoreMessagesWhenEnabled","MWPFetchMessagesPage","MWPFetchMessagesRangeForMessage","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.react","MWPVisibleMessageContext.react","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","emptyFunction","promiseDone","react","useMWPMessageListScroll","useReStore","useShallowEqualState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));b=i;b.useCallback;var m=b.unstable_useMemoCache,aa=3,ba=(e=c("MAWFetchMoreMessagesWhenEnabled")==null?void 0:c("MAWFetchMoreMessagesWhenEnabled").useFetchSecureMessages)!=null?e:function(a){return void 0},n={list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",isolation:"xc8icb0",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0},spacer:{backgroundColor:"x1eb86dx",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},ca=(k||(k=d("I64"))).of_string("9999999999999");function o(a){var b=a.isCollapsed,c=a.messageId,e=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(e,a,c,b)}function da(a,b){if(a==null||b==null)return;return(k||(k=d("I64"))).compare(b,a.maxTimestampMs)<=0?a:null}function ea(a){var b=m(4),e=(h||(h=c("useReStore")))(),g,i;b[0]!==a||b[1]!==e?(g=function(){return a==null||(k||(k=d("I64"))).equal(a.minTimestampMs,(k||(k=d("I64"))).zero)?d("ReQL").empty():d("ReQL").fromTableAscending(e.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs,a.minMessageId)})},i=[e,a],b[0]=a,b[1]=e,b[2]=g,b[3]=i):(g=b[2],i=b[3]);return d("ReQLSuspense").useFirst(g,i,f.id+":133")}function fa(a){var b=m(4),e=(h||(h=c("useReStore")))(),g,i;b[0]!==a||b[1]!==e?(g=function(){return a==null||(k||(k=d("I64"))).equal(a.maxTimestampMs,ca)?d("ReQL").empty():d("ReQL").fromTableDescending(e.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey","timestampMs"]).getKeyRange(a.threadKey).bounds({lte:d("ReQL").key(a.maxTimestampMs,a.maxMessageId)})},i=[e,a],b[0]=a,b[1]=e,b[2]=g,b[3]=i):(g=b[2],i=b[3]);return d("ReQLSuspense").useFirst(g,i,f.id+":159")}b=l.forwardRef(a);function a(a,b){var e=m(128),g=a.checkIsThreadManuallySetAsUnread,i=a.entryPoint,p=a.isSufficientContentLoadedAbove,q=a.logScrollerMetadata,r=a.onInitialLoadingCompleted,s=a.onScrollToBottom,t=a.onUserScroll,ga=a.pageSize,ha=a.renderFooter,u=a.renderHeader,v=a.renderHeaderContentSpacer,w=a.renderJumpToMostRecentMessageButton,x=a.renderLoadingAnimation,ia=a.renderRow,y=a.secondaryThread,z=a.setScrollTopInResetForBottomAnchor,A=a.thread;a=a.triggerRenderingCompleteOnResize;g=g===void 0?c("emptyFunction").thatReturnsFalse:g;z=z===void 0?!0:z;a=a===void 0?!1:a;var B=A.threadKey,C=A.threadType,D=y==null?void 0:y.threadKey,E=y==null?void 0:y.threadType,F=(h||(h=c("useReStore")))(),G=ba(C),H,I;e[0]!==F||e[1]!==C||e[2]!==E||e[3]!==G?(H=function(a,b,d){c("promiseDone")(c("MWPFetchMessagesPage")(F,void 0,d,a,C,b,E,G))},I=[F,E,G,C],e[0]=F,e[1]=C,e[2]=E,e[3]=G,e[4]=H,e[5]=I):(H=e[4],I=e[5]);var J=d("Int64Hooks").useCallbackInt64(H,I);e[6]!==F||e[7]!==B||e[8]!==C?(H=function(a){c("promiseDone")(c("MWPFetchMessagesRangeForMessage")(F,B,a,C))},I=[F,B,C],e[6]=F,e[7]=B,e[8]=C,e[9]=H,e[10]=I):(H=e[9],I=e[10]);var K=d("Int64Hooks").useCallbackInt64(H,I);e[11]!==F||e[12]!==B?(H=function(){return d("ReQL").fromTableDescending(F.table("messages_ranges_v2__generated")).getKeyRange(B)},I=[F,B],e[11]=F,e[12]=B,e[13]=H,e[14]=I):(H=e[13],I=e[14]);var L=d("ReQLSuspense").useFirst(H,I,f.id+":248");e[15]!==D||e[16]!==F?(H=function(){return D==null?d("ReQL").empty():d("ReQL").fromTableDescending(F.table("messages_ranges_v2__generated")).getKeyRange(D)},I=[F,D],e[15]=D,e[16]=F,e[17]=H,e[18]=I):(H=e[17],I=e[18]);H=d("ReQLSuspense").useFirst(H,I,f.id+":255");I=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();I=I.visibleMessage;var M;e[19]!==I?(M=I==null?void 0:I.messageId,e[19]=I,e[20]=M):M=e[20];var N=M;e[21]!==I?(M=I==null?void 0:I.timestamp,e[21]=I,e[22]=M):M=e[22];var O=M;e[23]!==N||e[24]!==O||e[25]!==F||e[26]!==B?(I=function(){return N!=null&&O!=null?d("ReQL").fromTableAscending(F.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(B,O,N):d("ReQL").empty()},M=[F,B,N,O],e[23]=N,e[24]=O,e[25]=F,e[26]=B,e[27]=I,e[28]=M):(I=e[27],M=e[28]);var P=d("ReQLSuspense").useFirst(I,M,f.id+":270");e[29]!==O||e[30]!==F||e[31]!==B?(I=function(){return O!=null?d("ReQL").fromTableDescending(F.table("messages_ranges_v2__generated")).getKeyRange(B).bounds({lte:[O]}):d("ReQL").empty()},M=[F,O,B],e[29]=O,e[30]=F,e[31]=B,e[32]=I,e[33]=M):(I=e[32],M=e[33]);I=d("ReQLSuspense").useFirst(I,M,f.id+":283");e[34]!==I||e[35]!==O?(M=da(I,O),e[34]=I,e[35]=O,e[36]=M):M=e[36];var Q=M;e[37]!==L?(I={displayMessage:void 0,displayMessagesRange:L},e[37]=L,e[38]=I):I=e[38];M=c("useShallowEqualState")(I);I=M[0];var R=M[1];M=I.displayMessage;I=I.displayMessagesRange;var S,T;e[39]!==N||e[40]!==O||e[41]!==R||e[42]!==L||e[43]!==Q||e[44]!==K||e[45]!==J||e[46]!==P?(S=function(){N==null||O==null?R(function(a){return babelHelpers["extends"]({},a,{displayMessage:void 0,displayMessagesRange:L})}):Q==null?K(N):Q.minMessageId===N&&Q.hasMoreBefore?J(d("ReQL").key(Q.threadKey,Q.minTimestampMs,Q.minMessageId),null,"before"):Q.maxMessageId===N&&Q.hasMoreAfter?J(d("ReQL").key(Q.threadKey,Q.minTimestampMs,Q.minMessageId),null,"after"):P!=null&&R(function(a){return babelHelpers["extends"]({},a,{displayMessage:P,displayMessagesRange:Q})})},T=[L,J,K,R,P,N,O,Q],e[39]=N,e[40]=O,e[41]=R,e[42]=L,e[43]=Q,e[44]=K,e[45]=J,e[46]=P,e[47]=S,e[48]=T):(S=e[47],T=e[48]);d("Int64Hooks").useEffectInt64(S,T);S=ea(I);T=fa(I);var U=ea(H);g=c("useMWPMessageListScroll")(g,i,L,I,q,r,s,b,A,a);i=g[0];q=g[1];r=g[2];var ja=g[3];s=g[4];e[49]!==F||e[50]!==C||e[51]!==B||e[52]!==D?(b=function(){var a=F.table("messages").index("messageDisplayOrder"),b=d("LSMessagingThreadTypeUtil").isCMSubthread(C),e=F.table("messages").index("messageSubthreadKey"),f=function(a,b){var e=a.getKeyRange(B).filter(function(a){var b=a.isCollapsed;a=a.messageRenderingType;return!b&&!(k||(k=d("I64"))).equal(a,(k||(k=d("I64"))).of_int32(c("LSMessageRenderingType").HIDDEN))});return D==null?b!=null?d("ReQL").union(d("ReQL").prependKey(b.getKeyRange(B),0),d("ReQL").prependKey(e,1)):d("ReQL").prependKey(e,1):d("ReQL").union(d("ReQL").prependKey(a.getKeyRange(D).filter(function(a){a=a.isCollapsed;return!a}),0),d("ReQL").prependKey(e,1))},g=f(d("ReQL").fromTableAscending(a),b?d("ReQL").fromTableAscending(e):void 0);f=f(d("ReQL").fromTableDescending(a),b?d("ReQL").fromTableDescending(e):void 0);return d("ReQLPaginatedList.shared").fromIterables(g,f)},a=[F,D,B,C],e[49]=F,e[50]=C,e[51]=B,e[52]=D,e[53]=b,e[54]=a):(b=e[53],a=e[54]);g=d("Int64Hooks").useMemoInt64(b,a);b=I!=null&&(k||(k=d("I64"))).equal(I.maxTimestampMs,ca);a=I!=null&&(k||(k=d("I64"))).equal(I.minTimestampMs,(k||(k=d("I64"))).zero);var V;e[55]!==H?(V=H!=null&&(k||(k=d("I64"))).equal(H.minTimestampMs,(k||(k=d("I64"))).zero),e[55]=H,e[56]=V):V=e[56];V=V;var W;e[57]!==ia||e[58]!==ja?(W=function(a,b){var e=b.nextItem;b=b.previousItem;return l.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHidding:!0,children:l.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:a.senderId,threadKey:a.threadKey,children:ia({domElementRef:ja(a.messageId),message:a,nextMessage:e,prevMessage:b})})},a.offlineThreadingId)},e[57]=ia,e[58]=ja,e[59]=W):W=e[59];W=W;var X;e[60]!==A?(X=(k||(k=d("I64"))).equal(A.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isCMSubthread(A.threadType),e[60]=A,e[61]=X):X=e[61];X=X;if((I==null||S==null&&!a||T==null&&!b)&&!X){if((k||(k=d("I64"))).equal(A.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))){e[62]===Symbol["for"]("react.memo_cache_sentinel")?(A=l.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),e[62]=A):A=e[62];var Y;e[63]!==u?(Y=u!=null?u():null,e[63]=u,e[64]=Y):Y=e[64];e[65]!==Y?(A=l.jsxs(l.Fragment,{children:[A,Y]}),e[65]=Y,e[66]=A):A=e[66];return A}Y=I==null?"displayMessagesRangeNull":S==null&&!a?"noMinMessage":T==null&&!b?"noMaxMessage":"other";A="MWChatWaitingForDisplayState-"+Y;e[67]!==A?(a=l.jsx(c("CometHeroHoldTrigger.react"),{description:A,hold:!0}),e[67]=A,e[68]=a):a=e[68];e[69]!==x?(b=x!=null?x():null,e[69]=x,e[70]=b):b=e[70];e[71]!==a||e[72]!==b?(Y=l.jsxs(l.Fragment,{children:[a,b]}),e[71]=a,e[72]=b,e[73]=Y):Y=e[73];return Y}e[74]!==X||e[75]!==I?(A=!X&&I!=null?d("ReQL").key(I.threadKey,I.minTimestampMs,I.minMessageId):null,e[74]=X,e[75]=I,e[76]=A):A=e[76];var Z=A;e[77]!==H?(a=H==null?null:d("ReQL").key(H.threadKey,H.minTimestampMs,H.minMessageId),e[77]=H,e[78]=a):a=e[78];var $=a;e[79]!==M?(b=M==null?"bottom":[1].concat(o(M)),e[79]=M,e[80]=b):b=e[80];Y=b;e[81]!==S||e[82]!==U||e[83]!==V?(A=S==null?U==null||V?null:[0].concat(o(U)):[1].concat(o(S)),e[81]=S,e[82]=U,e[83]=V,e[84]=A):A=e[84];a=A;e[85]!==T?(M=T==null?null:[1].concat(o(T)),e[85]=T,e[86]=M):M=e[86];b=M;e[87]!==a||e[88]!==b?(S={gte:a,lte:b},e[87]=a,e[88]=b,e[89]=S):S=e[89];U=!X&&I!=null?!I.hasMoreAfter:!0;V=!X&&I!=null?H==null?!(I.hasMoreBefore||y!=null):!(I.hasMoreBefore||H.hasMoreBefore):!0;e[90]!==X||e[91]!==Z||e[92]!==J||e[93]!==$?(A=!X&&Z!=null?function(){J(Z,$,"after")}:c("emptyFunction"),e[90]=X,e[91]=Z,e[92]=J,e[93]=$,e[94]=A):A=e[94];e[95]!==X||e[96]!==Z||e[97]!==J||e[98]!==$?(T=!X&&Z!=null?function(){return J(Z,$,"before")}:c("emptyFunction"),e[95]=X,e[96]=Z,e[97]=J,e[98]=$,e[99]=T):T=e[99];e[100]!==v?(M=v!=null?v:function(){return l.jsx(c("Box.react"),{xstyle:n.spacer})},e[100]=v,e[101]=M):M=e[101];e[102]!==S||e[103]!==g||e[104]!==U||e[105]!==V||e[106]!==q||e[107]!==Y||e[108]!==s||e[109]!==p||e[110]!==A||e[111]!==T||e[112]!==t||e[113]!==ga||e[114]!==ha||e[115]!==u||e[116]!==M||e[117]!==W||e[118]!==x||e[119]!==z?(a=l.jsx(c("ReQLPaginatedList.react"),{bounds:S,data:g,hasReachedBottom:U,hasReachedTop:V,holdTriggerElementsCount:aa,imperativeRef:q,initialAnchor:Y,initialRenderComplete:s,isSufficientContentLoadedAbove:p,onReachingBottom:A,onReachingTop:T,onUserScroll:t,pageSize:ga,renderFooter:ha,renderHeader:u,renderHeaderContentSpacer:M,renderItem:W,renderLoadingAnimation:x,setScrollTopInResetForBottomAnchor:z,xstyle:n.list}),e[102]=S,e[103]=g,e[104]=U,e[105]=V,e[106]=q,e[107]=Y,e[108]=s,e[109]=p,e[110]=A,e[111]=T,e[112]=t,e[113]=ga,e[114]=ha,e[115]=u,e[116]=M,e[117]=W,e[118]=x,e[119]=z,e[120]=a):a=e[120];e[121]!==a||e[122]!==w||e[123]!==X||e[124]!==I||e[125]!==i||e[126]!==r?(b=l.jsxs(c("Box.react"),{xstyle:n.list,children:[l.jsx(c("BaseHeadingContextWrapper.react"),{children:a}),w&&l.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!X&&I!=null?!i||I.hasMoreAfter:!1,children:w(r)})]}),e[121]=a,e[122]=w,e[123]=X,e[124]=I,e[125]=i,e[126]=r,e[127]=b):b=e[127];return b}e=b;g["default"]=e}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||d("react")).unstable_useMemoCache;function a(a){var b=k(11),e=d("MWPActor.react").useActor(),g=(i||(i=c("useReStore")))(),j,l;b[0]!==a.threadName||b[1]!==a.threadKey||b[2]!==g?(j=function(){return a.threadName!=null?d("ReQL").empty():d("ReQL").leftJoin(d("ReQL").fromTableAscending(g.table("participants"),["contactId","nickname"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(g.table("contacts"),["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},l=[g,a.threadKey,a.threadName],b[0]=a.threadName,b[1]=a.threadKey,b[2]=g,b[3]=j,b[4]=l):(j=b[3],l=b[4]);var m=d("ReQLSuspense").useArray(j,l,f.id+":32");b[5]!==a.threadName||b[6]!==a.threadType||b[7]!==m||b[8]!==e?(j=function(){var b;if(a.threadName!=null)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",a.threadName)]).toString();b=(b=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,m,e))!=null?b:"";return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",b)]).toString()},l=[e,m,a.threadName,a.threadType],b[5]=a.threadName,b[6]=a.threadType,b[7]=m,b[8]=e,b[9]=j,b[10]=l):(j=b[9],l=b[10]);return d("Int64Hooks").useMemoInt64(j,l)}g["default"]=a}),98);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a==null)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[0]),d[0].set("message_id",a[1]),d[1]=d[0].get("thread_id"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["cm_message_seen_count",c.i64.to_string(d[1])].join(""),c.i64.cast([0,540]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;return c("LSFetchMessageSeenCount").apply(void 0,d.concat([a]))}g["default"]=a}),98);