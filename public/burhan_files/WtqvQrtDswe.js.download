;/*FB_PKG_DELIM*/

__d("VideoPlayerDefaultControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("CometTimestamp.react",["fbt","formatDate","react","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache;e=i;var k=1e3*60*60*24,l=k*30;function m(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()}function n(a,b){return h._("__JHASH__OsFN0XAyv2W__JHASH__",[h._param("date",a),h._param("time",b)])}function o(a,b){var d=c("formatDate")(b,"g:i A");if(m(b,a))return h._("__JHASH__I7gnNejSDJn__JHASH__",[h._param("time",d)]);var e=new Date(a.valueOf()-k);if(m(b,e))return h._("__JHASH__18g5xTeqQyg__JHASH__",[h._param("time",d)]);e=new Date(a.valueOf()+k);if(m(b,e))return h._("__JHASH__6hOHFFmfNGd__JHASH__",[h._param("time",d)]);e=c("formatDate")(b,"F j");a.getFullYear()!==b.getFullYear()&&(e=c("formatDate")(b,"F j, Y"));return Math.abs(a.valueOf()-b.valueOf())<l?n(e,d):e}function a(a){return n(c("formatDate")(a,"l, F j, Y"),c("formatDate")(a,"g:i A"))}function b(a){var b=j(5);a=a.date;var d=c("useServerTime")(),e;b[0]!==d||b[1]!==a?(e=o(d,a),b[0]=d,b[1]=a,b[2]=e):e=b[2];d=e;return d}b.getTimestamp=o;b.getAbsoluteTimestamp=a;b.getAbsoluteTimestampFbt=n;g["default"]=b}),98);
__d("useStatesInMap",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l=b.unstable_useMemoCache;function a(a,b){var c=l(15),d=j(a),e;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={},c[0]=e):e=c[0];var f=j(e);e=k(b);var g=e[0],h=e[1];c[1]!==a||c[2]!==b?(e=function(){if(d.current!==a){var c;d.current=a;h((c=f.current[a])!=null?c:b)}},c[1]=a,c[2]=b,c[3]=e):e=c[3];var m;c[4]!==f||c[5]!==d||c[6]!==a||c[7]!==b?(m=[f,h,d,a,b],c[4]=f,c[5]=d,c[6]=a,c[7]=b,c[8]=m):m=c[8];i(e,m);c[9]!==a||c[10]!==g?(e=function(){f.current[a]=g},m=[g,a],c[9]=a,c[10]=g,c[11]=e,c[12]=m):(e=c[11],m=c[12]);i(e,m);c[13]!==g?(e=[g,h],c[13]=g,c[14]=e):e=c[14];return e}g["default"]=a}),98);
__d("CometWarningScreenContext",["react","useStatesInMap"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.createContext,k=d.useCallback,l=d.useContext,m=d.useMemo,n=j({makeContentVisibleDespiteOverlay:function(){},overlaySettings:{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:!1,overlayExists:!1,overlayShown:!1,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:null},setAdditionalRequiredHeight:function(){},setIsOnFeedMedia:function(){},setOverlayExists:function(){},setParentRenderInstructions:function(){},showOverlay:function(){}});function a(a){var b=a.children,d=a.identifier,e=a.isOnFeedMedia,f=a.overlayExists,g=a.overlayShownOverride;a=a.videoController;e=c("useStatesInMap")(d,{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:e,overlayExists:f,overlayShown:(d=g)!=null?d:f,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:a});var h=e[0],j=e[1],l=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{overlayShown:a})})},[j]),o=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{isContentVisibleDespiteOverlay:a})})},[j]),p=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{overlayExists:a})})},[j]),q=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{isOnFeedMedia:a})})},[j]),r=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{additionalRequiredHeight:a})})},[j]),s=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{parentRenderInstructions:a})})},[j]);g=m(function(){return{makeContentVisibleDespiteOverlay:o,overlaySettings:h,setAdditionalRequiredHeight:r,setIsOnFeedMedia:q,setOverlayExists:p,setParentRenderInstructions:s,showOverlay:l}},[h,r,l,o,p,s,q]);return i.jsx(n.Provider,{value:g,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=l(n);a=a.overlaySettings;return a.overlayExists}function e(){var a=l(n);a=a.overlaySettings;return a.videoController}function o(){var a=l(n);a=a.overlaySettings;return a.overlayShown}function p(){var a=l(n);a=a.overlaySettings;return a.isOnFeedMedia}function q(){var a=l(n);a=a.overlaySettings;return a.isContentVisibleDespiteOverlay}function r(){var a=o(),b=q();return!a?!0:b}function s(){var a=l(n);a=a.overlaySettings;return a.additionalRequiredHeight}function t(){var a=l(n);a=a.overlaySettings;return a.parentRenderInstructions}function u(){var a=l(n);a=a.showOverlay;return a}function v(){var a=l(n);a=a.makeContentVisibleDespiteOverlay;return a}function w(){var a=l(n);a=a.setOverlayExists;return a}function x(){var a=l(n);a=a.setIsOnFeedMedia;return a}function y(){var a=l(n);a=a.setAdditionalRequiredHeight;return a}function z(){var a=l(n);a=a.setParentRenderInstructions;return a}g.CometWarningScreenContextProvider=a;g.useHasOverlay=b;g.useHasVideoController=e;g.useIsOverlayShown=o;g.useIsOnFeedMedia=p;g.useIsContentVisibleDespiteOverlay=q;g.useIsContentVisible=r;g.useAdditionalRequiredHeight=s;g.useParentRenderInstructions=t;g.useShowOverlay=u;g.useMakeContentVisibleDespiteOverlay=v;g.useSetOverlayExists=w;g.useSetIsOnFeedMedia=x;g.useSetAdditionalRequiredHeight=y;g.useSetParentRenderInstructions=z}),98);
__d("VideoPlayerFullscreenControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerHooks","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=(j||(j=d("react"))).unstable_useMemoCache,m=j;function a(a){var b=l(15),e=a.onPress,f=a.onUserInteraction,g=a.shouldUnmute,j=(k||(k=d("VideoPlayerHooks"))).useController(),n=k.useIsFullscreen(),o=k.useLastMuteReason();b[0]!==n?(a=n?h._("__JHASH__hwf7JoNGQNh__JHASH__"):h._("__JHASH__5hSxdUd3nQi__JHASH__"),b[0]=n,b[1]=a):a=b[1];a=a;var p;b[2]!==e||b[3]!==j||b[4]!==n||b[5]!==g||b[6]!==o||b[7]!==f?(p=function(){e&&e(),j.requestSetIsFullscreen(!n),g===!0&&o!=="user_initiated"&&j.setMuted(!1,"product_initiated"),f&&f({name:"video_fullscreen_button",type:"happened"})},b[2]=e,b[3]=j,b[4]=n,b[5]=g,b[6]=o,b[7]=f,b[8]=p):p=b[8];p=p;var q;b[9]!==n?(q=n?d("fbicon")._(i("517758"),20):d("fbicon")._(i("517763"),20),b[9]=n,b[10]=q):q=b[10];var r;b[11]!==q||b[12]!==a||b[13]!==p?(r=m.jsx(c("VideoPlayerControlIcon.react"),{icon:q,label:a,onPress:p,tooltip:a}),b[11]=q,b[12]=a,b[13]=p,b[14]=r):r=b[14];return r}g["default"]=a}),98);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useState,l=b.unstable_useMemoCache,m=5e3;function a(a){var b=l(15),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.forceVisible;a=a.forceVisibleOnMount;var f=d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter(),g=f.ongoingInteractionsCount;f=f.onUserInteraction;var h=(i||(i=d("VideoPlayerHooks"))).useEnded(),n=i.useIsHovering(),o=i.usePaused(),p=i.useIsMouseIdle(),q=i.useVideoPlaybackEnded(),r=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart(),s;b[2]!==n||b[3]!==p?(s=n&&!p,b[2]=n,b[3]=p,b[4]=s):s=b[4];d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",s,f);n=k(a===!0);var t=n[0],u=n[1];b[5]!==o||b[6]!==t?(p=function(){if(!o&&t){var a=c("setTimeout")(function(){u(!1)},m);return function(){c("clearTimeout")(a)}}},s=[t,o],b[5]=o,b[6]=t,b[7]=p,b[8]=s):(p=b[7],s=b[8]);j(p,s);if(e===!0||e===!1)a=e;else if(r)a=!1;else if(g>0||t)a=!0;else if(o){b[9]!==h||b[10]!==q?(n=h?q:!0,b[9]=h,b[10]=q,b[11]=n):n=b[11];a=n}else a=!1;b[12]!==a||b[13]!==f?(p={isControlsVisible:a,onUserInteraction:f},b[12]=a,b[13]=f,b[14]=p):p=b[14];return p}g["default"]=a}),98);
__d("VideoPlayerDefaultControls.react",["CometPlaceholder.react","CometRelay","CometWarningScreenContext","VideoPlayerDefaultControlsProperties","VideoPlayerDefaultControls_video.graphql","VideoPlayerFullscreenControl.react","VideoPlayerHooks","cr:1875194","deferredLoadComponent","emptyFunction","react","requireDeferred","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||(i=d("react"))).unstable_useMemoCache,l=i,m=(e=b("cr:1875194"))!=null?e:c("emptyFunction"),n=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplLive.react").__setRef("VideoPlayerDefaultControls.react")),o=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react").__setRef("VideoPlayerDefaultControls.react"));function a(a){var e,f=k(44),g=a.forceVisible,i=a.forceVisibleOnMount,p=a.mutedButtonVisibility,q=a.pictureInPictureControl,r=a.renderExpandControl,s=a.shouldRenderBigPlayButton,t=a.shouldRenderCaptionsControl,u=a.shouldRenderCostreamControl,v=a.shouldRenderExpandSidePanelControl,w=a.shouldRenderLivePauseControl,x=a.shouldRenderModeratorControl,y=a.shouldRenderQuietModeControl,z=a.shouldRenderWatchAndScrollControl,A=a.shouldUnmuteForBigPlayButton,B=a.skipControl,C=a.subOrigin,D=a.video;a=a.videoTahoeUrl;D=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControls_video.graphql"),D);e=(e=d("CometWarningScreenContext").useIsContentVisible())!=null?e:!1;var E=m(),F;f[0]!==E?(F=E!=null?E.isSilentAtPlayhead:!1,f[0]=E,f[1]=F):F=f[1];E=F;F=(j||(j=d("VideoPlayerHooks"))).useMuted();var G=j.useIsLive(),H;f[2]!==g||f[3]!==i?(H={forceVisible:g,forceVisibleOnMount:i},f[2]=g,f[3]=i,f[4]=H):H=f[4];i=c("useVideoPlayerDefaultControlsVisibility")(H);H=i.isControlsVisible;i=i.onUserInteraction;s=s!=null?s:g===!1?!1:void 0;f[5]!==s||f[6]!==A?(g={forceVisible:s,shouldUnmute:A},f[5]=s,f[6]=A,f[7]=g):g=f[7];s=c("useVideoPlayerBigPlayButtonOverlay")(g);A=s.bigPlayButtonElement;g=s.bigPlayButtonIsVisible;f[8]!==H||f[9]!==g||f[10]!==e?(s=H&&!g&&e,f[8]=H,f[9]=g,f[10]=e,f[11]=s):s=f[11];H=s;f[12]!==p||f[13]!==H||f[14]!==F||f[15]!==E||f[16]!==g?(e=p===d("VideoPlayerDefaultControlsProperties").MutedButtonVisibility.SAME_AS_OTHER_CONTROLS?H:(F||H||E)&&!g,f[12]=p,f[13]=H,f[14]=F,f[15]=E,f[16]=g,f[17]=e):e=f[17];s=e;f[18]!==r||f[19]!==i?(p=r!=null?r({onUserInteraction:i}):l.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:i}),f[18]=r,f[19]=i,f[20]=p):p=f[20];F=p;f[21]!==G||f[22]!==F||f[23]!==H||f[24]!==s||f[25]!==i||f[26]!==q||f[27]!==t||f[28]!==u||f[29]!==v||f[30]!==x||f[31]!==w||f[32]!==y||f[33]!==z||f[34]!==C||f[35]!==D||f[36]!==a||f[37]!==B?(E=G?l.jsx(n,{expandControl:F,isControlsVisible:H,isVolumeControlVisible:s,onUserInteraction:i,pictureInPictureControl:q,shouldRenderCaptionsControl:t,shouldRenderCostreamControl:u,shouldRenderExpandSidePanelControl:v,shouldRenderModeratorControl:x,shouldRenderPauseControl:w,shouldRenderQuietModeControl:y,shouldRenderWatchAndScrollControl:z,subOrigin:C,video:D,videoTahoeUrl:a}):l.jsx(o,{expandControl:F,isControlsVisible:H,isVolumeControlVisible:s,onUserInteraction:i,shouldRenderCaptionsControl:t,shouldRenderExpandSidePanelControl:v,shouldRenderQuietModeControl:y,shouldRenderWatchAndScrollControl:z,skipControl:B,subOrigin:C,video:D,videoTahoeUrl:a}),f[21]=G,f[22]=F,f[23]=H,f[24]=s,f[25]=i,f[26]=q,f[27]=t,f[28]=u,f[29]=v,f[30]=x,f[31]=w,f[32]=y,f[33]=z,f[34]=C,f[35]=D,f[36]=a,f[37]=B,f[38]=E):E=f[38];g=E;f[39]!==g?(e=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:g}),f[39]=g,f[40]=e):e=f[40];f[41]!==A||f[42]!==e?(r=l.jsxs(l.Fragment,{children:[A,e]}),f[41]=A,f[42]=e,f[43]=r):r=f[43];return r}g["default"]=a}),98);
__d("IGDVideoPlayer.react",["fbt","CometPressable.react","PolarisUA","VideoPlayerDefaultControls.react","VideoPlayerHooks","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n=b.unstable_useMemoCache,o={playbackControllerOverlay:{cursor:"x1ypdohk",top:"x13vifvy",$$css:!0}},p=h._("__JHASH__aZ-l6hM8DgT__JHASH__"),q=h._("__JHASH__hqzk9Y8Y4DC__JHASH__");function r(){var a=n(9),b=(j||(j=d("VideoPlayerHooks"))).useController(),e=j.usePaused(),f=j.useMuted(),g=m(f),h;a[0]!==b?(f=function(){g.current&&b.setMuted(!1,"product_initiated")},h=[b],a[0]=b,a[1]=f,a[2]=h):(f=a[1],h=a[2]);l(f,h);f=e?p:q;a[3]!==e||a[4]!==b?(h=function(){!e?b.pause("user_initiated"):b.play("user_initiated")},a[3]=e,a[4]=b,a[5]=h):h=a[5];var i;a[6]!==f||a[7]!==h?(i=k.jsx(c("CometPressable.react"),{"aria-label":f,onPress:h,overlayDisabled:!0,role:"button",xstyle:o.playbackControllerOverlay}),a[6]=f,a[7]=h,a[8]=i):i=a[8];return i}function s(a){var b=n(2);a=a.isVideoGif;var e;b[0]!==a?(e=a?null:k.jsx(c("VideoPlayerDefaultControls.react"),{forceVisibleOnMount:d("PolarisUA").isTouchDevice()}),b[0]=a,b[1]=e):e=b[1];return e}function a(a){var b=n(16),e=a.fbid,f=a.hdSrc,g=a.isGif,h=a.originalHeight,i=a.originalWidth;a=a.sdSrc;var j;b[0]!==f||b[1]!==a?(j=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:f,hdSrcPreferred:!1,isExternalMedia:!1,sdSrc:a}),b[0]=f,b[1]=a,b[2]=j):j=b[2];f=j;if(f instanceof Error)return null;b[3]!==i||b[4]!==h?(a=c("computeAspectRatio")(i,h),b[3]=i,b[4]=h,b[5]=a):a=b[5];j=a;b[6]!==f?(i=[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:f,typename:"VideoPlayerProgressiveImplementation"}],b[6]=f,b[7]=i):i=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(h=k.jsx(r,{}),b[8]=h):h=b[8];f=(a=g)!=null?a:!1;b[9]!==f?(g=k.jsxs(c("VideoPlayerSurface.react"),{children:[h,k.jsx(s,{isVideoGif:f})]}),b[9]=f,b[10]=g):g=b[10];b[11]!==i||b[12]!==e||b[13]!==j||b[14]!==g?(a=k.jsx(c("VideoPlayerX.react"),{implementations:i,loopCount:-1,portalingEnabled:!1,subOrigin:"igd_thread",videoFBID:e,videoPixelsAspectRatio:j,children:g},e),b[11]=i,b[12]=e,b[13]=j,b[14]=g,b[15]=a):a=b[15];return a}g["default"]=a}),98);
__d("useIGDIsGenAiReelsPlugin",["I64","LSIntEnum","MNLSXMALayoutType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).unstable_useMemoCache;function a(a){var b=l(9),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.attachments||b[1]!==a.threadKey||b[2]!==a.messageId?(g=function(){return d("ReQL").fromTableDescending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId)},b[0]=e.tables.attachments,b[1]=a.threadKey,b[2]=a.messageId,b[3]=g):g=b[3];var k;b[4]!==e||b[5]!==a?(k=[e,a],b[4]=e,b[5]=a,b[6]=k):k=b[6];g=d("ReQLSuspense").useFirst(g,k,f.id+":24");if(a.botResponseId==null||g==null)return!1;b[7]!==g?(k=g.hasXma&&g.xmaLayoutType!=null&&(i||(i=d("I64"))).equal(g.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT)),b[7]=g,b[8]=k):k=b[8];return k}g["default"]=a}),98);
__d("useIGDAttachmentUrl",["I64","LSMediaUrlAttachment","MAWDbMedia","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useEffect,l=e.useState,m=e.unstable_useMemoCache;function n(a){var b=/^\d+$/;return b.test(a)}function o(a,b){var e=m(9),g=(h||(h=c("useReStore")))(),i;e[0]!==g.tables.e2ee_media||e[1]!==g.tables.e2ee_chunk||e[2]!==a||e[3]!==b?(i=function(){return d("ReQL").fromTableAscending(g.tables.e2ee_media).getKeyRange(a).map(function(a){if(a.msgIds.includes(b))return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.e2ee_chunk.index("hashedPlaintextHash")).getKeyRange(a.hashedPlaintextHash),f.id+":42")})},e[0]=g.tables.e2ee_media,e[1]=g.tables.e2ee_chunk,e[2]=a,e[3]=b,e[4]=i):i=e[4];var j;e[5]!==g||e[6]!==a||e[7]!==b?(j=[g,a,b],e[5]=g,e[6]=a,e[7]=b,e[8]=j):j=e[8];return d("ReQLSuspense").useFirst(i,j,f.id+":36")}function a(a,b){var c=m(16),e=b===void 0?!1:b;b=l();var f=b[0],g=b[1];b=(b=a.offlineAttachmentId)!=null?b:a.attachmentFbid;var h;c[0]!==b?(h=n(b),c[0]=b,c[1]=h):h=c[1];h=h;var j;c[2]!==h||c[3]!==b?(j=d("MAWDbMedia").convertToMediaId64(h?(i||(i=d("I64"))).of_string(b):(i||(i=d("I64"))).zero),c[2]=h,c[3]=b,c[4]=j):j=c[4];h=j;var p=o(h,a.messageId);c[5]!==p||c[6]!==a||c[7]!==e?(b=function(){if(p==null){var b=d("LSMediaUrlAttachment").previewUrlLarge(a);b=e&&b!=null?b:d("LSMediaUrlAttachment").previewUrl(a);g(b)}},j=[a,p,e],c[5]=p,c[6]=a,c[7]=e,c[8]=b,c[9]=j):(b=c[8],j=c[9]);k(b,j);c[10]!==p?(h=function(){if(p!=null){var a=URL.createObjectURL(new Blob([p.blobData],{type:p.mimetype}));g(a);return function(){URL.revokeObjectURL(a)}}},c[10]=p,c[11]=h):h=c[11];c[12]!==a||c[13]!==p||c[14]!==e?(b=[a,p,e,g],c[12]=a,c[13]=p,c[14]=e,c[15]=b):b=c[15];k(h,b);return f}function b(a){var b=m(14),c=l(),e=c[0],f=c[1];c=(c=a.offlineAttachmentId)!=null?c:a.attachmentFbid;var g;b[0]!==c?(g=n(c),b[0]=c,b[1]=g):g=b[1];g=g;var h;b[2]!==g||b[3]!==c?(h=d("MAWDbMedia").convertToMediaId64(g?(i||(i=d("I64"))).of_string(c):(i||(i=d("I64"))).zero),b[2]=g,b[3]=c,b[4]=h):h=b[4];g=h;var j=o(g,a.messageId);b[5]!==j||b[6]!==a?(c=function(){if(j==null){var b=d("LSMediaUrlAttachment").playableUrl(a);f(b)}},h=[a,j],b[5]=j,b[6]=a,b[7]=c,b[8]=h):(c=b[7],h=b[8]);k(c,h);b[9]!==j?(g=function(){if(j!=null){var a=URL.createObjectURL(new Blob([j.blobData],{type:j.mimetype}));f(a);return function(){URL.revokeObjectURL(a)}}},b[9]=j,b[10]=g):g=b[10];b[11]!==a||b[12]!==j?(c=[a,j,f],b[11]=a,b[12]=j,b[13]=c):c=b[13];k(g,c);return e}g.useIGDAttachmentPreviewUrl=a;g.useIGDAttachmentPlayableUrl=b}),98);
__d("MWMessageEditContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext;c.useMemo;var k=c.useState,l=c.unstable_useMemoCache,m={setShowEdits:function(){},showEdits:!1},n=i.createContext();function a(a){var b=l(5),c=a.children;a=a.value;a=a===void 0?m:a;a=k((a=a==null?void 0:a.showEdits)!=null?a:!1);var d=a[0];a=a[1];b[0]!==d?(a={setShowEdits:a,showEdits:d},b[0]=d,b[1]=a):a=b[1];d=a;a=d;b[2]!==a||b[3]!==c?(d=i.jsx(n.Provider,{value:a,children:c}),b[2]=a,b[3]=c,b[4]=d):d=b[4];return d}function b(){return j(n)}g.MWMessageEditContextProvider=a;g.useMWMessageEditContext=b}),98);
__d("MWTheme.react",["I64","cr:4128","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.createContext,m=k.useContext,n=k.useEffect;k.useMemo;var o=k.unstable_useMemoCache;function a(a,b){a=a!=null?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function e(a){return a.type==="solid"?a.color:a.colors[0]}function f(a){return"#"+a.slice(2)}function p(a){a=(i||(i=d("I64"))).to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}var q=l({clearTheme:c("emptyFunction"),setTheme:c("emptyFunction"),theme:b("cr:4128")});function r(){return m(q).theme}function s(){var a=o(6),b=m(q),c=b.clearTheme;b=b.setTheme;var d,e;a[0]!==c?(d=function(){return c},e=[c],a[0]=c,a[1]=d,a[2]=e):(d=a[1],e=a[2]);n(d,e);a[3]!==b||a[4]!==c?(d=[b,c],a[3]=b,a[4]=c,a[5]=d):d=a[5];return d}function t(a){var b=o(7),d=a.children,e=a.clearTheme,f=a.setTheme;a=a.theme;e=(e=e)!=null?e:c("emptyFunction");f=(f=f)!=null?f:c("emptyFunction");var g;b[0]!==e||b[1]!==f||b[2]!==a?(g={clearTheme:e,setTheme:f,theme:a},b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];e=g;f=e;b[4]!==f||b[5]!==d?(a=j.jsx(q.Provider,{value:f,children:d}),b[4]=f,b[5]=d,b[6]=a):a=b[6];return a}function u(a){return a.type==="gradient"}g.defaultTheme=b("cr:4128");g.lighten=a;g.top=e;g.aRGBtoHex=f;g.intToHex=p;g.useTheme=r;g.usePreview=s;g.MWThemeProvider=t;g.isGradient=u}),98);
__d("MessengerDefaultTheme",["CurrentEnvironment","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a={color:c("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:(h||(h=d("I64"))).of_string("196241301102133"),label:"Default Blue",type:"solid"};g["default"]=a}),98);
__d("MWEditedEyebrow.react",["fbt","CometMiddot.react","MWMessageEditContext.react","MWXLink.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function l(a){var b=a.hasSeparator;a=a.xstyle;var e=d("MWMessageEditContext.react").useMWMessageEditContext()||{setShowEdits:function(a){},showEdits:!1},f=e.setShowEdits,g=e.showEdits;function j(){f(!g)}e=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"});var l=g?h._("__JHASH__WqoEC9S0Sry__JHASH__"):h._("__JHASH__3fxL6sM27ni__JHASH__"),m=g?h._("__JHASH__WqoEC9S0Sry__JHASH__"):h._("__JHASH__0I22sJ_f1hm__JHASH__");return k.jsxs(k.Fragment,{children:[b&&k.jsx("span",{className:(i||(i=c("stylex")))(a),children:k.jsx(c("CometMiddot.react"),{})}),k.jsx(c("MWXTooltip.react"),{align:"middle",label:"View edits",position:"above",tooltip:m,children:k.jsx(c("MWXLink.react"),{color:"blueLink",onClick:j,ref:e,weight:"medium",children:l})})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.hasSeparator;a=a.xstyle;var d=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"}),e=h._("__JHASH__Mh0-kan22Pe__JHASH__");return k.jsxs(k.Fragment,{children:[b&&k.jsx("span",{className:(i||(i=c("stylex")))(a),children:k.jsx(c("CometMiddot.react"),{})}),k.jsx("span",{"data-testid":void 0,ref:d,children:e})]})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.hasSeparator;a=a.xstyle;return c("gkx")("4870")?k.jsx(l,{hasSeparator:b,xstyle:a}):k.jsx(m,{hasSeparator:b,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWEditedEyebrowWithHistory=l;g.MWEditedEyebrowOld=m;g.MWEditedEyebrow=a}),98);
__d("MAWEditMessageContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.createContext;b.useMemo;var j=b.useState,k=b.unstable_useMemoCache;function a(a){var b=k(5);a=a.children;var c=j(null),d=c[0];c=c[1];b[0]!==d?(c={editMessageData:d,setEditMessageData:c},b[0]=d,b[1]=c):c=b[1];d=c;c=d;b[2]!==c||b[3]!==a?(d=i.jsx(l.Provider,{value:c,children:a}),b[2]=c,b[3]=a,b[4]=d):d=b[4];return d}var l=e({editMessageData:null,setEditMessageData:c("emptyFunction")});g.MAWEditMessageContext=a;g.Context=l}),98);
__d("MWPEditMessageUtil",["fbt","CometKeys","I64","MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=k.useContext,m=k.useMemo;k=[{author:"@me",editExternalId:"0",editMsgHistoryId:1,editTs:1705588081,msgContent:{content:"This is a sample edit",mentionedJids:[]},originalMsgExternalId:"0",threadJid:"testid@msgr"}];function a(){return[]}function b(a){var b=a.editCount!=null&&(j||(j=d("I64"))).gt(a.editCount,(j||(j=d("I64"))).zero);return b&&!a.isUnsent}function e(){var a=l(d("MAWEditMessageContext.react").Context);a=a.editMessageData;return a}function f(a){return m(function(){return[{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__nNfxT3Tz2qU__JHASH__"),handler:function(){return a()},triggerFromInputs:!0}]},[a])}g.getEditMessageHistory=a;g.isEditedMessage=b;g.useGetEditMessageData=e;g.useEditMessageButtonKeyCommands=f}),98);
__d("MWXText.react",["cr:4600","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;c=j.forwardRef(a);function a(a,c){var d=i(5),e;d[0]!==a?(e=babelHelpers["extends"]({},a),d[0]=a,d[1]=e):e=d[1];d[2]!==c||d[3]!==e?(a=j.jsx(b("cr:4600"),babelHelpers["extends"]({ref:c},e)),d[2]=c,d[3]=e,d[4]=a):a=d[4];return a}e=c;g["default"]=e}),98);
__d("MWPDateBreak.react",["BaseHeading.react","CometTimestamp.react","MWTheme.react","MWXText.react","formatDate","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={accessibleElem:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xnalus7",$$css:!0},emphasized:{color:"x186z157",fontWeight:"xk50ysn",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0},root:{marginBottom:"xjpr12u",marginTop:"xr9ek0c",textAlign:"x2b8uid",$$css:!0}};function m(a){var b=j(8),d=a.renderTextWrapper;a=a.timestamp;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="x186z157 xk50ysn",b[0]=e):e=b[0];var f;b[1]!==a?(f=c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"}),b[1]=a,b[2]=f):f=b[2];b[3]!==f?(a=k.jsx("span",{className:e,children:f}),b[3]=f,b[4]=a):a=b[4];e=a;if(d!=null){b[5]!==d||b[6]!==e?(f=d(e),b[5]=d,b[6]=e,b[7]=f):f=b[7];return f}return e}function a(a){var b=j(16),e=a.renderTextWrapper;a=a.timestamp;var f=d("MWTheme.react").useTheme(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g="xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",b[0]=g):g=b[0];var i;b[1]!==a?(i=new Date(a),b[1]=a,b[2]=i):i=b[2];b[3]!==i?(g=k.jsx("div",{className:g,children:k.jsx(c("CometTimestamp.react"),{date:i})}),b[3]=i,b[4]=g):g=b[4];b[5]!==f?(i=(h||(h=c("stylex")))(l.root,d("MWTheme.react").isGradient(f)&&l.mask),b[5]=f,b[6]=i):i=b[6];b[7]!==e||b[8]!==a?(f=k.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:k.jsx(m,{renderTextWrapper:e,timestamp:a})}),b[7]=e,b[8]=a,b[9]=f):f=b[9];b[10]!==i||b[11]!==f?(e=k.jsx("div",{"aria-hidden":!0,className:i,"data-scope":"date_break",children:f}),b[10]=i,b[11]=f,b[12]=e):e=b[12];b[13]!==g||b[14]!==e?(a=k.jsxs(c("BaseHeading.react"),{testid:void 0,children:[g,e]}),b[13]=g,b[14]=e,b[15]=a):a=b[15];return a}g["default"]=a}),98);
__d("MWXTextImpl.react",["cr:6221","cr:6222","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a,c){var d=i(10),e,f;d[0]!==a?(e=a.type,f=babelHelpers.objectWithoutPropertiesLoose(a,["type"]),d[0]=a,d[1]=e,d[2]=f):(e=d[1],f=d[2]);if(b("cr:6221")!==null){var g;d[3]!==c||d[4]!==a?(g=j.jsx(b("cr:6221"),babelHelpers["extends"]({ref:c},a)),d[3]=c,d[4]=a,d[5]=g):g=d[5];return g}if(b("cr:6222")!==null){a=e==="headlineEmphasized5"?"headlineEmphasized4":e==="entityHeaderMeta3"?"entityHeaderMeta2":e;d[6]!==a||d[7]!==f||d[8]!==c?(g=j.jsx(b("cr:6222"),babelHelpers["extends"]({type:a},f,{ref:c})),d[6]=a,d[7]=f,d[8]=c,d[9]=g):g=d[9];return g}return null}c=j.forwardRef(a);e=c;g["default"]=e}),98);
__d("MWMessageListLoggingContext",["react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.createContext,k=d.useContext,l=d.useRef,m=j({current:""});function a(a){var b=a.children;a=a.flowInstanceId;a=l(a);return i.jsx(m.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return k(m)}function e(){var a=k(m);(a.current===null||a.current==="")&&(a.current=c("uuidv4")());return a}g.MWMessageListLoggingContext=a;g.useFlowInstanceIdContext=b;g.useFlowInstanceId=e}),98);
__d("LSEditMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(12).fetch([[[a[0]]],"messageId"]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,(b.i64.eq(a[1],b.i64.cast([0,20]))||b.i64.le(d.authorityLevel,a[1]))&&b.i64.le(a[3],b.i64.cast([0,5]))?b.forEach(b.filter(b.db.table(12).fetch([[[d.threadKey,d.timestampMs,a[0]]]]),function(c){return b.i64.eq(c.threadKey,d.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,d.timestampMs)&&c.messageId===a[0]}),function(c){var d=c.update;c.item;return d({authorityLevel:a[1],editCount:a[3],text:a[2],sendStatus:b.i64.eq(a[1],b.i64.cast([0,20]))?b.i64.cast([0,1]):b.i64.cast([0,2]),sendStatusV2:b.i64.eq(a[1],b.i64.cast([0,20]))?b.i64.cast([0,1]):b.i64.cast([0,2])})}):b.resolve())})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(12).fetch([[[a[0]]],"messageId"]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,d[2]=f.editCount,d[1]=c.i64.of_float(Date.now()),c.i64.lt(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,5]))&&c.i64.le(d[1],c.i64.add(f.timestampMs,c.i64.cast([0,9e5])))?c.sequence([function(e){return c.storedProcedure(b("LSEditMessage"),f.messageId,c.i64.cast([0,20]),a[1],c.i64.add(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,1])))},function(e){return d[3]=new c.Map(),d[3].set("message_id",a[0]),d[3].set("text",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[4]=c.i64.add(d[7],c.i64.cast([0,0]))):d[4]=c.i64.cast([0,0]),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),"edit_message",c.i64.cast([0,742]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[4],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return void 0!==void 0?(d[7]=c.i64.of_float(Date.now()),c.forEach(c.db.table(2).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({dataTraceId:void 0,initTraceTimestampMs:d[7]})})):c.resolve()}]):c.resolve(void 0!==void 0?0:0))})},function(a){return c.resolve(e)}])}e.exports=a}),null);